{"ast":null,"code":"import { PersistantAdvanceFilterModel } from 'src/app/models/common/app-filter';\nimport { CHANGE_REQUEST_DIALOG, PERMIT_CONFIRMATION_DIALOG, PERMIT_GEOMETRY_TYPE, REINSTATEMENT_DIALOG_MODE, SAVE_AS_DRAFT_POST_ACTION } from 'src/app/constants/app-repo.constants';\nimport { CreatePermitSummuryConfigModel, CreatePermitSummuryDataModel } from 'src/app/modules/widget-app/create-permit-summary/create-permit-summury.model';\nimport { CreateReinstatementSummuryConfigModel, CreateReinstatementSummuryDataModel } from 'src/app/modules/widget-app/create-reinstatement-summary/create-reinstatement-summary.model';\nimport { DataDiffA3ConfigModel, DataDiffA3Model } from 'src/app/modules/widget-app/data-diff/data-diff-a3/data-diff-a3-model';\nimport { ElginMapConfigModel, ElginMapDataModel, GeometryDataModel } from 'src/app/modules/widget-app/elginmap/elginmap-model';\nimport { FILTER_TYPE, GLOBAL_PARAM_KEY, GLOBAL_PARAM_MODE } from 'src/app/app-constants';\nimport { FileUploadConfigModel, FileUploadDataModel } from 'src/app/modules/widget-app/file-upload/file-upload-model';\nimport { Validators } from '@angular/forms';\nimport { FormModeConstant, WidgetConstants } from 'src/app/constants/widget-constants';\nimport { MASTER_DATA, PERMIT_ACTIONS_CONFIG, PERMIT_STATUS, WORK_STATUS, WORK_STREAM, WORK_TYPE } from 'src/app/constants/db.constants';\nimport { MapPageDataDataModel, NSGDetails, PermitConditionsPageModel, PermitFormPageData, PermitNavigationDataModel } from '../permit-listing-pmt-mgr/permit-listing.model';\nimport { PermitActivityLogConfigModel, PermitActivityLogModel } from 'src/app/modules/widget-app/permit-activity-log-tab/permit-activity-log.model';\nimport { PermitAddCommentConfigModel, PermitAddCommentDataModel } from 'src/app/modules/widget-app/permit-add-comment/add-comment.model';\nimport { PermitCancelConfirmConfigModel, PermitCancelConfirmDataModel } from 'src/app/modules/widget-app/cancel-permit-confirmation/cancel-permit-confirmation.model';\nimport { PermitChangeReqConfigModel, PermitChangeReqDataModel } from 'src/app/modules/widget-app/permit-change-request-tab/permit-change-request-tab.module';\nimport { PermitCommentsConfigModel, PermitCommentsDataModel } from 'src/app/modules/widget-app/permit-comments-tab/permit-comments-tab.module';\nimport { PermitConditionsConfigModel, PermitConditionsItem, PermitConditionsModel } from 'src/app/modules/widget-app/permit-conditions-tab/permit-conditions-tab.model';\nimport { PermitConfigModel, PermitDataModel } from 'src/app/modules/widget-app/create-permit-form/permit.model';\nimport { PermitConfirmationConfigModel, PermitConfirmationDataModel } from 'src/app/modules/widget-app/create-permit-confirmation/create-permit-confirmation.model';\nimport { PermitDrawMapConfigModel, PermitDrawMapDataModel, PermitDrawMapDetails } from 'src/app/modules/widget-app/create-permit-draw-map/create-permit-draw-map.model';\nimport { PermitFPNConfigModel, PermitFPNDataModel } from 'src/app/modules/widget-app/permit-fpn-tab/permit-fpn-tab.model';\nimport { PermitImagesAndFilesConfigModel, PermitImagesAndFilesModel } from 'src/app/modules/widget-app/permit-images-and-files-tab/permit-images-and-files-tab.model';\nimport { PermitInspectionListConfigModel, PermitInspectionListDataModel } from 'src/app/modules/widget-app/permit-inspections-tab/permit-inspection-list.model';\nimport { PermitMapConfigModel, PermitMapModel } from 'src/app/modules/widget-app/permit-map-tab/permit-map-tab.model';\nimport { PermitMapDesignationConfigModel, PermitMapDesignationModel } from 'src/app/modules/widget-app/permit-map-designation-tab/permit-map-designation-tab.model';\nimport { PermitOverviewConfigModel, PermitOverviewModel } from 'src/app/modules/widget-app/permit-overview-tab/permit-overview-tab.model';\nimport { PermitReinstatementConfigModel, PermitReinstatementDataModel } from 'src/app/modules/widget-app/permit-reinstatement-tab/permit-reinstatement-tab-modele';\nimport { PermitViewDetailsModel, PermitViewModel } from './permit-view-pmt-mgr.model';\nimport { RaiseChangeReqConfirmationConfigModel, RaiseChangeReqConfirmationDataModel } from 'src/app/modules/widget-app/raise-change-req-confirmation/raise-change-req-confirmation.model';\nimport { ReinstatementConfigModel, ReinstatementDataModel } from 'src/app/modules/widget-app/create-reinstatement-form/reinstatement.model';\nimport { ReinstatementImagesAndFilesConfigModel, ReinstatementImagesAndFilesDataModel } from 'src/app/modules/widget-app/reinstatement-images-and-files/reinstatement-images-and-files.model';\nimport { SiteDetailsConfigModel, SiteDetailsDataModel } from 'src/app/modules/widget-app/site-details/site-details-model';\nimport { ViewPermitCommentConfigModel, ViewPermitCommentsDataModel } from 'src/app/modules/widget-app/view-permit-comments/view-permit-comments.model';\nimport { ViewPermitFpnConfigModel, ViewPermitFpnDataModel } from 'src/app/modules/widget-app/view-permit-fpn/view-permit-fpn.module';\nimport { ViewPermitInspectionConfigModel, ViewPermitInspectionDataModel } from 'src/app/modules/widget-app/view-permit-inspection/view-permit-inspection.model';\nimport { CreatePermitDrawMapComponent } from 'src/app/modules/widget-app/create-permit-draw-map/create-permit-draw-map.component';\nimport { CreatePermitFormComponent } from 'src/app/modules/widget-app/create-permit-form/create-permit-form.component';\nimport { CreateReinstatementFormComponent } from 'src/app/modules/widget-app/create-reinstatement-form/create-reinstatement-form.component';\nimport { DialogComponent } from 'src/app/modules/shared/dialog/dialog.component';\nimport { DialogModel } from 'src/app/modules/shared/dialog/dialog-model';\nimport { ElginMapUtility } from 'src/app/modules/widget-app/elginmap/elginmap-utility';\nimport { ElginmapComponent } from 'src/app/modules/widget-app/elginmap/elginmap.component';\nimport { PermitCommentsTabComponent } from 'src/app/modules/widget-app/permit-comments-tab/permit-comments-tab.component';\nimport { PermitConditionsTabComponent } from 'src/app/modules/widget-app/permit-conditions-tab/permit-conditions-tab.component';\nimport { PermitFpnTabComponent } from 'src/app/modules/widget-app/permit-fpn-tab/permit-fpn-tab.component';\nimport { PermitImagesAndFilesTabComponent } from 'src/app/modules/widget-app/permit-images-and-files-tab/permit-images-and-files-tab.component';\nimport { PermitInspectionsTabComponent } from 'src/app/modules/widget-app/permit-inspections-tab/permit-inspections-tab.component';\nimport { PermitMapDesignationTabComponent } from 'src/app/modules/widget-app/permit-map-designation-tab/permit-map-designation-tab.component';\nimport { PermitOverviewTabComponent } from 'src/app/modules/widget-app/permit-overview-tab/permit-overview-tab.component';\nimport { ReinstatementImagesAndFilesComponent } from 'src/app/modules/widget-app/reinstatement-images-and-files/reinstatement-images-and-files.component';\nimport { ViewPermitInspectionComponent } from 'src/app/modules/widget-app/view-permit-inspection/view-permit-inspection.component';\nimport { WidgetPageBase } from 'src/app/utility/widget/widget-utility/widget-page-base';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/server-api-interface-service.service\";\nimport * as i2 from \"src/app/services/event-action.service\";\nimport * as i3 from \"src/app/services/session-storage.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"ngx-spinner\";\nimport * as i6 from \"src/app/services/app-repo-helper.service\";\nimport * as i7 from \"@angular/material/dialog\";\nimport * as i8 from \"src/app/services/notification.service\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"src/app/services/app-repo.service\";\nimport * as i12 from \"@angular/flex-layout/flex\";\nimport * as i13 from \"@angular/material/menu\";\nimport * as i14 from \"@angular/material/form-field\";\nimport * as i15 from \"@angular/material/input\";\nimport * as i16 from \"@angular-material-components/datetime-picker\";\nimport * as i17 from \"@angular/material/datepicker\";\nimport * as i18 from \"@angular/material/button\";\nimport * as i19 from \"@angular/material/tabs\";\nimport * as i20 from \"../../../widget-app/permit-overview-tab/permit-overview-tab.component\";\nimport * as i21 from \"../../../widget-app/permit-change-request-tab/permit-change-request-tab.component\";\nimport * as i22 from \"../../../widget-app/permit-fpn-tab/permit-fpn-tab.component\";\nimport * as i23 from \"../../../widget-app/permit-inspections-tab/permit-inspections-tab.component\";\nimport * as i24 from \"../../../widget-app/permit-images-and-files-tab/permit-images-and-files-tab.component\";\nimport * as i25 from \"../../../widget-app/permit-reinstatement-tab/permit-reinstatement-tab.component\";\nimport * as i26 from \"../../../widget-app/permit-comments-tab/permit-comments-tab.component\";\nimport * as i27 from \"../../../widget-app/permit-activity-log-tab/permit-activity-log-tab.component\";\nimport * as i28 from \"../../../shared/dialog/dialog.component\";\nimport * as i29 from \"primeng/dialog\";\nimport * as i30 from \"primeng/api\";\nimport * as i31 from \"@angular/material/icon\";\nimport * as i32 from \"../../../widget-app/file-upload/file-upload.component\";\nimport * as i33 from \"../../../widget-app/permit-map-tab/permit-map-tab.component\";\nimport * as i34 from \"../../../widget-app/elginmap/elginmap.component\";\nimport * as i35 from \"../../../widget-app/permit-conditions-tab/permit-conditions-tab.component\";\nimport * as i36 from \"../../../widget-app/cancel-permit-confirmation/cancel-permit-confirmation.component\";\nimport * as i37 from \"../../../widget-app/raise-change-req-confirmation/raise-change-req-confirmation.component\";\nimport * as i38 from \"../../../widget-app/permit-map-designation-tab/permit-map-designation-tab.component\";\nimport * as i39 from \"../../../widget-app/create-permit-form/create-permit-form.component\";\nimport * as i40 from \"../../../widget-app/data-diff/data-diff-a3/data-diff-a3.component\";\nimport * as i41 from \"../../../widget-app/create-permit-summary/create-permit-summary.component\";\nimport * as i42 from \"../../../widget-app/create-permit-confirmation/create-permit-confirmation.component\";\nimport * as i43 from \"../../../widget-app/create-permit-draw-map/create-permit-draw-map.component\";\nimport * as i44 from \"../../../widget-app/create-reinstatement-form/create-reinstatement-form.component\";\nimport * as i45 from \"../../../widget-app/reinstatement-images-and-files/reinstatement-images-and-files.component\";\nimport * as i46 from \"../../../widget-app/create-reinstatement-summary/create-reinstatement-summary.component\";\nimport * as i47 from \"../../../widget-app/site-details/site-details.component\";\nimport * as i48 from \"../../../widget-app/permit-add-comment/add-comment.component\";\nimport * as i49 from \"../../../widget-app/view-permit-fpn/view-permit-fpn.component\";\nimport * as i50 from \"../../../widget-app/view-permit-inspection/view-permit-inspection.component\";\nimport * as i51 from \"../../../widget-app/view-permit-comments/view-permit-comments.component\";\nconst _c0 = [\"menuStartTrigger\"];\nconst _c1 = [\"menuStopTrigger\"];\nconst _c2 = [\"menuRevertStartTrigger\"];\nconst _c3 = [\"menuRevertStopTrigger\"];\n\nfunction PermitViewPmtMgrComponent_mat_icon_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 69);\n    i0.ɵɵtext(1, \"emoji_objects\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_mat_icon_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 70);\n    i0.ɵɵtext(1, \"stream\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.onAddNewCommentBtnClick();\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"message\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Add New Comment \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.onAddNewReinstatementBtnClick();\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"note_add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Add Reinstatement \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 72, 73);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n\n    const _r14 = i0.ɵɵreference(71);\n\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r14);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.revertStart, \" \");\n  }\n}\n\nfunction PermitViewPmtMgrComponent_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 72, 74);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n\n    const _r15 = i0.ɵɵreference(83);\n\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r15);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.revertStop, \" \");\n  }\n}\n\nfunction PermitViewPmtMgrComponent_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 75, 76);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_button_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return ctx_r38.onPermitActionClick(ctx_r38.PERMIT_ACTIONS_CONFIG.START);\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"play_arrow\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Start Permit \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r8 = i0.ɵɵreference(19);\n\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r8);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 77, 78);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return ctx_r41.onPermitActionClick(ctx_r41.PERMIT_ACTIONS_CONFIG.STOP);\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"stop\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Stop Permit \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r11 = i0.ɵɵreference(46);\n\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r11);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79);\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r10.startPermitWarningMessage);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79);\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r13.stopPermitWarningMessage);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_ng_template_123_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 81);\n    i0.ɵɵelement(1, \"app-elginmap\", 82);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r43 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r43.viewElginMapDataModel)(\"configModel\", ctx_r43.viewElginMapConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_ng_template_123_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-permit-map-tab\", 42);\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_ng_template_123_ng_container_1_Template, 2, 2, \"ng-container\", 80);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataModel\", ctx_r18.permitMapDataModel)(\"configModel\", ctx_r18.permitMapConfigModel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r18.viewElginMap);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_app_permit_conditions_tab_127_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-permit-conditions-tab\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataModel\", ctx_r19.permitConditionsDataModel)(\"configModel\", ctx_r19.permitConditionsConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-cancel-permit-confirmation\", 42);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r44 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r44.permitCancelConfirmDataModel)(\"configModel\", ctx_r44.permitCancelConfirmConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_3_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79);\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r50 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r50.progressToPAWarningMessage);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 87);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2, \"Are you sure that you want to progress for PA ?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PermitViewPmtMgrComponent_div_142_div_3_div_3_Template, 5, 1, \"div\", 25);\n    i0.ɵɵelementStart(4, \"div\", 88);\n    i0.ɵɵelementStart(5, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r52);\n      const ctx_r51 = i0.ɵɵnextContext(2);\n      return ctx_r51.onAppDialogClose(\"\");\n    });\n    i0.ɵɵtext(6, \" No \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_3_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r52);\n      const ctx_r53 = i0.ɵɵnextContext(2);\n      return ctx_r53.onConfirmProgressToPA();\n    });\n    i0.ɵɵtext(8, \" Yes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r45 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r45.progressToPAWarningMessage);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_4_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 96);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 97);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 97);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r55 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r55.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r55.value1, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r55.value2, \" \");\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 91);\n    i0.ɵɵelementStart(1, \"div\", 92);\n    i0.ɵɵelementStart(2, \"table\", 93);\n    i0.ɵɵelementStart(3, \"tr\");\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \" Charge \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \" Estimated Cost \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \" Discounted Cost \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, PermitViewPmtMgrComponent_div_142_div_4_tr_10_Template, 7, 3, \"tr\", 94);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 95);\n    i0.ɵɵelementStart(12, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_4_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r57);\n      const ctx_r56 = i0.ɵɵnextContext(2);\n      return ctx_r56.onCostDetailsDialogClose();\n    });\n    i0.ɵɵtext(13, \" OK \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r46 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r46.permitArrayItem);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"hr\");\n    i0.ɵɵelement(2, \"app-raise-change-req-confirmation\", 42);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r58 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"dataModel\", ctx_r58.raiseChangeReqConfirmationDataModel)(\"configModel\", ctx_r58.raiseChangeReqConfirmationConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"app-permit-map-designation-tab\", 42);\n    i0.ɵɵelementContainerStart(2, 81);\n    i0.ɵɵelement(3, \"app-elginmap\", 82);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r70 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r70.permitMapDesignationModel)(\"configModel\", ctx_r70.permitMapDesignationConfigModel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"dataModel\", ctx_r70.viewElginMapDataModel)(\"configModel\", ctx_r70.viewElginMapConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"app-permit-map-tab\", 42);\n    i0.ɵɵelementContainerStart(2, 81);\n    i0.ɵɵelement(3, \"app-elginmap\", 82);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r71 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r71.permitMapDataModel)(\"configModel\", ctx_r71.permitMapConfigModel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"dataModel\", ctx_r71.viewElginMapDataModel)(\"configModel\", ctx_r71.viewElginMapConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_142_div_5_div_3_div_1_Template, 4, 4, \"div\", 56);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_142_div_5_div_3_div_2_Template, 4, 4, \"div\", 56);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r59 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r59.isviewchangereqmode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r59.isviewchangereqmode);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"app-create-permit-form\", 42);\n    i0.ɵɵelementContainerStart(2, 104);\n    i0.ɵɵelement(3, \"app-elginmap\", 105);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r60 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r60.createPermitFormDataModel)(\"configModel\", ctx_r60.createPermitFormConfigModel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"dataModel\", ctx_r60.elginMapDataModel)(\"configModel\", ctx_r60.elginMapConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_5_app_permit_conditions_tab_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-permit-conditions-tab\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r72 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"dataModel\", ctx_r72.permitConditionsDataModel)(\"configModel\", ctx_r72.permitConditionsConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_142_div_5_div_5_app_permit_conditions_tab_1_Template, 1, 2, \"app-permit-conditions-tab\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r61 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r61.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-data-diff-a3\", 42);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r62 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r62.dataDiffA3DataModel)(\"configModel\", ctx_r62.dataDiffA3ConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Something went wrong..!!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r74 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 88);\n    i0.ɵɵelementStart(1, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_11_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r74);\n      const ctx_r73 = i0.ɵɵnextContext(3);\n      return ctx_r73.onAppDialogClose(\"\");\n    });\n    i0.ɵɵtext(2, \" No \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_11_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r74);\n      const ctx_r75 = i0.ɵɵnextContext(3);\n      return ctx_r75.onChangeRequest();\n    });\n    i0.ɵɵtext(4, \" Yes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_12_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r79 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_12_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r79);\n      const ctx_r78 = i0.ɵɵnextContext(4);\n      return ctx_r78.nextButtonDrawMapClick();\n    });\n    i0.ɵɵtext(1, \" Next \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_12_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r81 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_12_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r81);\n      const ctx_r80 = i0.ɵɵnextContext(4);\n      return ctx_r80.onChangeRequest();\n    });\n    i0.ɵɵtext(1, \" Next \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 106);\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_142_div_5_div_12_button_1_Template, 2, 0, \"button\", 107);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_142_div_5_div_12_button_2_Template, 2, 0, \"button\", 107);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r65 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r65.isviewchangereqmode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r65.isviewchangereqmode);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r83 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 108);\n    i0.ɵɵelementStart(1, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_13_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r83);\n      const ctx_r82 = i0.ɵɵnextContext(3);\n      return ctx_r82.backStep();\n    });\n    i0.ɵɵtext(2, \" Go Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_13_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r83);\n      const ctx_r84 = i0.ɵɵnextContext(3);\n      return ctx_r84.nextButtonPermitFormClick();\n    });\n    i0.ɵɵtext(4, \" Next \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_14_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r89 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 113);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_14_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r89);\n      const ctx_r88 = i0.ɵɵnextContext(4);\n      return ctx_r88.nextButtonConditionClick(\"save-as-draft\");\n    });\n    i0.ɵɵtext(1, \" Save As Draft \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_14_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r91 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_14_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r91);\n      const ctx_r90 = i0.ɵɵnextContext(4);\n      return ctx_r90.nextButtonConditionClick(\"submit-change-request\");\n    });\n    i0.ɵɵtext(1, \" Review & Submit Change Request \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_14_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r93 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_14_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r93);\n      const ctx_r92 = i0.ɵɵnextContext(4);\n      return ctx_r92.appDialogClose(null);\n    });\n    i0.ɵɵtext(1, \" OK \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r95 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_14_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r95);\n      const ctx_r94 = i0.ɵɵnextContext(3);\n      return ctx_r94.backButtonPermitFormClick();\n    });\n    i0.ɵɵtext(2, \" Go Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 110);\n    i0.ɵɵtemplate(4, PermitViewPmtMgrComponent_div_142_div_5_div_14_button_4_Template, 2, 0, \"button\", 111);\n    i0.ɵɵtemplate(5, PermitViewPmtMgrComponent_div_142_div_5_div_14_button_5_Template, 2, 0, \"button\", 112);\n    i0.ɵɵtemplate(6, PermitViewPmtMgrComponent_div_142_div_5_div_14_button_6_Template, 2, 0, \"button\", 112);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r67 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r67.alterationApplicationId == null && !ctx_r67.isviewchangereqmode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r67.isviewchangereqmode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r67.isviewchangereqmode);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r97 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelement(1, \"div\");\n    i0.ɵɵelementStart(2, \"div\", 114);\n    i0.ɵɵelementStart(3, \"p\", 115);\n    i0.ɵɵtext(4, \" Are you sure you want to confirm? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 116);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_5_div_15_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r96 = i0.ɵɵnextContext(3);\n      return ctx_r96.onConfirmChangeRequest();\n    });\n    i0.ɵɵtext(6, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 98);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_142_div_5_div_2_Template, 3, 2, \"div\", 84);\n    i0.ɵɵtemplate(3, PermitViewPmtMgrComponent_div_142_div_5_div_3_Template, 3, 2, \"div\", 84);\n    i0.ɵɵtemplate(4, PermitViewPmtMgrComponent_div_142_div_5_div_4_Template, 4, 4, \"div\", 84);\n    i0.ɵɵtemplate(5, PermitViewPmtMgrComponent_div_142_div_5_div_5_Template, 2, 1, \"div\", 84);\n    i0.ɵɵtemplate(6, PermitViewPmtMgrComponent_div_142_div_5_div_6_Template, 2, 2, \"div\", 84);\n    i0.ɵɵtemplate(7, PermitViewPmtMgrComponent_div_142_div_5_div_7_Template, 2, 0, \"div\", 99);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"hr\");\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵelementStart(10, \"div\", 83);\n    i0.ɵɵtemplate(11, PermitViewPmtMgrComponent_div_142_div_5_div_11_Template, 5, 0, \"div\", 100);\n    i0.ɵɵtemplate(12, PermitViewPmtMgrComponent_div_142_div_5_div_12_Template, 3, 2, \"div\", 101);\n    i0.ɵɵtemplate(13, PermitViewPmtMgrComponent_div_142_div_5_div_13_Template, 5, 0, \"div\", 102);\n    i0.ɵɵtemplate(14, PermitViewPmtMgrComponent_div_142_div_5_div_14_Template, 7, 3, \"div\", 103);\n    i0.ɵɵtemplate(15, PermitViewPmtMgrComponent_div_142_div_5_div_15_Template, 7, 0, \"div\", 103);\n    i0.ɵɵtemplate(16, PermitViewPmtMgrComponent_div_142_div_5_div_16_Template, 1, 0, \"div\", 99);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r47 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r47.createPermitStepNo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 5);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r47.createPermitStepNo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 5);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"app-create-permit-form\", 42);\n    i0.ɵɵelementContainerStart(2, 104);\n    i0.ɵɵelement(3, \"app-elginmap\", 105);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r98 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r98.createPermitFormDataModel)(\"configModel\", ctx_r98.createPermitFormConfigModel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"dataModel\", ctx_r98.elginMapDataModel)(\"configModel\", ctx_r98.elginMapConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_3_app_permit_conditions_tab_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-permit-conditions-tab\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r108 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"dataModel\", ctx_r108.permitConditionsDataModel)(\"configModel\", ctx_r108.permitConditionsConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_142_div_6_div_3_app_permit_conditions_tab_1_Template, 1, 2, \"app-permit-conditions-tab\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r99 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r99.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_4_app_create_permit_summary_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-create-permit-summary\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r109 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"dataModel\", ctx_r109.summaryDataModel)(\"configModel\", ctx_r109.summaryConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_142_div_6_div_4_app_create_permit_summary_1_Template, 1, 2, \"app-create-permit-summary\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r100 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r100.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_5_app_create_permit_confirmation_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-create-permit-confirmation\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r110 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"dataModel\", ctx_r110.permitConfirmationDataModel)(\"configModel\", ctx_r110.permitConfirmationConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_142_div_6_div_5_app_create_permit_confirmation_1_Template, 1, 2, \"app-create-permit-confirmation\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r101 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r101.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r112 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 106);\n    i0.ɵɵelementStart(1, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_10_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r112);\n      const ctx_r111 = i0.ɵɵnextContext(3);\n      return ctx_r111.nextButtonNewPermitFormClick();\n    });\n    i0.ɵɵtext(2, \" Next \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r114 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_11_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r114);\n      const ctx_r113 = i0.ɵɵnextContext(3);\n      return ctx_r113.backButtonNewPermitConditionClick();\n    });\n    i0.ɵɵtext(2, \" Go Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 110);\n    i0.ɵɵelementStart(4, \"button\", 113);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_11_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r114);\n      const ctx_r115 = i0.ɵɵnextContext(3);\n      return ctx_r115.newPermitSaveAsDraftClick();\n    });\n    i0.ɵɵtext(5, \" Save As Draft \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_11_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r114);\n      const ctx_r116 = i0.ɵɵnextContext(3);\n      return ctx_r116.newPermitSubmitClick();\n    });\n    i0.ɵɵtext(7, \" Submit New Phase \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r118 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r117 = i0.ɵɵnextContext(3);\n      return ctx_r117.backButtonNewPermitConfirmSubmitClick();\n    });\n    i0.ɵɵtext(2, \" Go Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 118);\n    i0.ɵɵelementStart(4, \"div\", 118);\n    i0.ɵɵelementStart(5, \"p\", 115);\n    i0.ɵɵtext(6, \" Are you sure you want to confirm? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 119);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_12_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r119 = i0.ɵɵnextContext(3);\n      return ctx_r119.newPermitConfirm();\n    });\n    i0.ɵɵtext(8, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 113);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_12_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r120 = i0.ɵɵnextContext(3);\n      return ctx_r120.submissionConfirmSaveNewPermitAsDraft();\n    });\n    i0.ɵɵtext(10, \" Save As Draft \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r122 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 120);\n    i0.ɵɵelementStart(1, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_13_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r122);\n      const ctx_r121 = i0.ɵɵnextContext(3);\n      return ctx_r121.onNewPermitViewClick();\n    });\n    i0.ɵɵtext(2, \" View Permit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_6_div_13_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r122);\n      const ctx_r123 = i0.ɵɵnextContext(3);\n      return ctx_r123.onNewPermitViewPermitListClick();\n    });\n    i0.ɵɵtext(4, \" View List \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 98);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_142_div_6_div_2_Template, 4, 4, \"div\", 84);\n    i0.ɵɵtemplate(3, PermitViewPmtMgrComponent_div_142_div_6_div_3_Template, 2, 1, \"div\", 84);\n    i0.ɵɵtemplate(4, PermitViewPmtMgrComponent_div_142_div_6_div_4_Template, 2, 1, \"div\", 84);\n    i0.ɵɵtemplate(5, PermitViewPmtMgrComponent_div_142_div_6_div_5_Template, 2, 1, \"div\", 84);\n    i0.ɵɵtemplate(6, PermitViewPmtMgrComponent_div_142_div_6_div_6_Template, 1, 0, \"div\", 99);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"hr\");\n    i0.ɵɵelementStart(8, \"div\");\n    i0.ɵɵelementStart(9, \"div\", 83);\n    i0.ɵɵtemplate(10, PermitViewPmtMgrComponent_div_142_div_6_div_10_Template, 3, 0, \"div\", 101);\n    i0.ɵɵtemplate(11, PermitViewPmtMgrComponent_div_142_div_6_div_11_Template, 8, 0, \"div\", 103);\n    i0.ɵɵtemplate(12, PermitViewPmtMgrComponent_div_142_div_6_div_12_Template, 11, 0, \"div\", 103);\n    i0.ɵɵtemplate(13, PermitViewPmtMgrComponent_div_142_div_6_div_13_Template, 5, 0, \"div\", 117);\n    i0.ɵɵtemplate(14, PermitViewPmtMgrComponent_div_142_div_6_div_14_Template, 1, 0, \"div\", 99);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r48 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r48.createPermitStepNo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r48.createPermitStepNo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 4);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r126 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 121);\n    i0.ɵɵelementStart(2, \"form\", 122);\n    i0.ɵɵelementStart(3, \"mat-form-field\", 19);\n    i0.ɵɵelementStart(4, \"mat-label\");\n    i0.ɵɵtext(5, \"Proposed End Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 20);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_7_Template_input_click_6_listener() {\n      i0.ɵɵrestoreView(_r126);\n\n      const _r124 = i0.ɵɵreference(9);\n\n      return _r124.open();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"mat-datepicker-toggle\", 21);\n    i0.ɵɵelement(8, \"ngx-mat-datetime-picker\", 22, 123);\n    i0.ɵɵelementStart(10, \"mat-error\");\n    i0.ɵɵtext(11, \"Field must be valid\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"hr\");\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵelementStart(14, \"div\", 106);\n    i0.ɵɵelementStart(15, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_142_div_7_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r126);\n      const ctx_r127 = i0.ɵɵnextContext(2);\n      return ctx_r127.onSubmitWorkExtensionClick();\n    });\n    i0.ɵɵtext(16, \" Submit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r124 = i0.ɵɵreference(9);\n\n    const ctx_r49 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r49.workExtensionFormGroup);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngxMatDatetimePicker\", _r124)(\"formControl\", ctx_r49.workExtensionFormGroup.controls.proposedEndDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", _r124);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"showSeconds\", true)(\"stepHour\", 1)(\"stepMinute\", 1)(\"stepSecond\", 1)(\"enableMeridian\", false);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_142_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 83);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_142_div_2_Template, 2, 2, \"div\", 84);\n    i0.ɵɵtemplate(3, PermitViewPmtMgrComponent_div_142_div_3_Template, 9, 1, \"div\", 85);\n    i0.ɵɵtemplate(4, PermitViewPmtMgrComponent_div_142_div_4_Template, 14, 1, \"div\", 86);\n    i0.ɵɵtemplate(5, PermitViewPmtMgrComponent_div_142_div_5_Template, 17, 12, \"div\", 84);\n    i0.ɵɵtemplate(6, PermitViewPmtMgrComponent_div_142_div_6_Template, 15, 10, \"div\", 84);\n    i0.ɵɵtemplate(7, PermitViewPmtMgrComponent_div_142_div_7_Template, 17, 9, \"div\", 84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r20.permitConfirmationDialogMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r20.permitCOnfirmDialogModeCancel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r20.permitConfirmDialogModeProgressToPA);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r20.permitDialogModeCostSplit);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r20.permitConfirmDialogModeChangeRequest);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r20.permitConfirmDialogModeNewPermit);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r20.permitConfirmDialogModeWorkExtension);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_app_file_upload_143_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-file-upload\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataModel\", ctx_r21.fileUploadDataModel)(\"configModel\", ctx_r21.fileUploadConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_2_app_create_permit_draw_map_1_app_elginmap_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-elginmap\", 126);\n  }\n\n  if (rf & 2) {\n    const ctx_r141 = i0.ɵɵnextContext(5);\n    i0.ɵɵproperty(\"dataModel\", ctx_r141.elginMapDataModel)(\"configModel\", ctx_r141.elginMapConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_2_app_create_permit_draw_map_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-create-permit-draw-map\", 42);\n    i0.ɵɵelementContainerStart(1, 124);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_144_div_2_div_2_app_create_permit_draw_map_1_app_elginmap_2_Template, 1, 2, \"app-elginmap\", 125);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r140 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"dataModel\", ctx_r140.permitDrawMapDataModel)(\"configModel\", ctx_r140.permitDrawMapConfigModel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r140.createReinstatementStepNo == 1);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_144_div_2_div_2_app_create_permit_draw_map_1_Template, 3, 3, \"app-create-permit-draw-map\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r130 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r130.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_3_app_create_reinstatement_form_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-create-reinstatement-form\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r142 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"dataModel\", ctx_r142.createReinstatementFormDataModel)(\"configModel\", ctx_r142.createReinstatementFormConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_144_div_2_div_3_app_create_reinstatement_form_1_Template, 1, 2, \"app-create-reinstatement-form\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r131 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r131.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_4_app_reinstatement_images_and_files_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-reinstatement-images-and-files\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r143 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"dataModel\", ctx_r143.reinstatementImagesAndFilesDataModel)(\"configModel\", ctx_r143.reinstatementImagesAndFilesConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_144_div_2_div_4_app_reinstatement_images_and_files_1_Template, 1, 2, \"app-reinstatement-images-and-files\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r132 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r132.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_5_app_create_reinstatement_summary_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-create-reinstatement-summary\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r144 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"dataModel\", ctx_r144.createReinstatementSummuryDataModel)(\"configModel\", ctx_r144.createReinstatementSummuryConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_144_div_2_div_5_app_create_reinstatement_summary_1_Template, 1, 2, \"app-create-reinstatement-summary\", 47);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r133 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r133.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Something went wrong..!!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r146 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 106);\n    i0.ɵɵelementStart(1, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_10_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r146);\n      const ctx_r145 = i0.ɵɵnextContext(3);\n      return ctx_r145.nextButtonReinstatementDrawMapClick();\n    });\n    i0.ɵɵtext(2, \" Next \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r148 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_11_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r148);\n      const ctx_r147 = i0.ɵɵnextContext(3);\n      return ctx_r147.backButtonReinstatementFormClick();\n    });\n    i0.ɵɵtext(2, \" Go Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 110);\n    i0.ɵɵelementStart(4, \"button\", 113);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_11_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r148);\n      const ctx_r149 = i0.ɵɵnextContext(3);\n      return ctx_r149.saveReinstatementAsDraft(ctx_r149.saveAsDraftAndClose);\n    });\n    i0.ɵɵtext(5, \" Save As Draft \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_11_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r148);\n      const ctx_r150 = i0.ɵɵnextContext(3);\n      return ctx_r150.nextButtonReinstatementFormClick();\n    });\n    i0.ɵɵtext(7, \" Next \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r152 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r152);\n      const ctx_r151 = i0.ɵɵnextContext(3);\n      return ctx_r151.backButtonReinstatementUploadClick();\n    });\n    i0.ɵɵtext(2, \" Go Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 110);\n    i0.ɵɵelementStart(4, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_12_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r152);\n      const ctx_r153 = i0.ɵɵnextContext(3);\n      return ctx_r153.nextButtonReinstatementUploadClick();\n    });\n    i0.ɵɵtext(5, \" Review Changes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r155 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_13_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r155);\n      const ctx_r154 = i0.ɵɵnextContext(3);\n      return ctx_r154.backButtonReinstatementSummaryClick();\n    });\n    i0.ɵɵtext(2, \" Go Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 118);\n    i0.ɵɵelementStart(4, \"div\", 118);\n    i0.ɵɵelementStart(5, \"p\", 115);\n    i0.ɵɵtext(6, \" Are you sure you want to confirm? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 119);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_13_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r155);\n      const ctx_r156 = i0.ɵɵnextContext(3);\n      return ctx_r156.reinstatementSubmission();\n    });\n    i0.ɵɵtext(8, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 113);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_144_div_2_div_13_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r155);\n      const ctx_r157 = i0.ɵɵnextContext(3);\n      return ctx_r157.closeReinstatementDraft();\n    });\n    i0.ɵɵtext(10, \" Save As Draft \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 98);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_144_div_2_div_2_Template, 2, 1, \"div\", 84);\n    i0.ɵɵtemplate(3, PermitViewPmtMgrComponent_div_144_div_2_div_3_Template, 2, 1, \"div\", 84);\n    i0.ɵɵtemplate(4, PermitViewPmtMgrComponent_div_144_div_2_div_4_Template, 2, 1, \"div\", 84);\n    i0.ɵɵtemplate(5, PermitViewPmtMgrComponent_div_144_div_2_div_5_Template, 2, 1, \"div\", 84);\n    i0.ɵɵtemplate(6, PermitViewPmtMgrComponent_div_144_div_2_div_6_Template, 2, 0, \"div\", 99);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"hr\");\n    i0.ɵɵelementStart(8, \"div\");\n    i0.ɵɵelementStart(9, \"div\", 83);\n    i0.ɵɵtemplate(10, PermitViewPmtMgrComponent_div_144_div_2_div_10_Template, 3, 0, \"div\", 101);\n    i0.ɵɵtemplate(11, PermitViewPmtMgrComponent_div_144_div_2_div_11_Template, 8, 0, \"div\", 103);\n    i0.ɵɵtemplate(12, PermitViewPmtMgrComponent_div_144_div_2_div_12_Template, 6, 0, \"div\", 103);\n    i0.ɵɵtemplate(13, PermitViewPmtMgrComponent_div_144_div_2_div_13_Template, 11, 0, \"div\", 103);\n    i0.ɵɵtemplate(14, PermitViewPmtMgrComponent_div_144_div_2_div_14_Template, 1, 0, \"div\", 99);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r128 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r128.createReinstatementStepNo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r128.createReinstatementStepNo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 4);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_3_app_site_details_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 81);\n    i0.ɵɵelement(1, \"app-elginmap\", 82);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r160 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r160.viewElginMapReinstatementDataModel)(\"configModel\", ctx_r160.viewElginReinstatementConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_3_app_site_details_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-site-details\", 42);\n    i0.ɵɵtemplate(1, PermitViewPmtMgrComponent_div_144_div_3_app_site_details_3_ng_container_1_Template, 2, 2, \"ng-container\", 80);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r158 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"dataModel\", ctx_r158.siteDetailsDataModel)(\"configModel\", ctx_r158.siteDetailsConfigModel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r158.viewElginMap);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_3_app_reinstatement_images_and_files_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-reinstatement-images-and-files\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r159 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"dataModel\", ctx_r159.reinstatementImagesAndFilesDataModel)(\"configModel\", ctx_r159.reinstatementImagesAndFilesConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"mat-tab-group\", 127);\n    i0.ɵɵelementStart(2, \"mat-tab\", 128);\n    i0.ɵɵtemplate(3, PermitViewPmtMgrComponent_div_144_div_3_app_site_details_3_Template, 2, 3, \"app-site-details\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-tab\", 129);\n    i0.ɵɵtemplate(5, PermitViewPmtMgrComponent_div_144_div_3_app_reinstatement_images_and_files_5_Template, 1, 2, \"app-reinstatement-images-and-files\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r129 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r129.dialogModel.visible);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r129.dialogModel.visible);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_144_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 83);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_144_div_2_Template, 15, 10, \"div\", 84);\n    i0.ɵɵtemplate(3, PermitViewPmtMgrComponent_div_144_div_3_Template, 6, 2, \"div\", 84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r22.reinstatementDialogMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r22.reinstatementDialogModeAddReinstatement);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r22.reinstatementDialogModeViewReinstatement);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_app_add_comment_145_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-add-comment\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataModel\", ctx_r23.permitAddCommentDataModel)(\"configModel\", ctx_r23.permitAddCommentConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_146_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-data-diff-a3\", 42);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r161 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataModel\", ctx_r161.dataDiffA3DataModel)(\"configModel\", ctx_r161.dataDiffA3ConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_146_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 98);\n    i0.ɵɵtemplate(2, PermitViewPmtMgrComponent_div_146_div_2_Template, 2, 2, \"div\", 84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r24.changeRequestDialogMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r24.changeRequestDialogModDiff);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_app_view_permit_fpn_147_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-view-permit-fpn\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataModel\", ctx_r25.viewPermitFpnDataModel)(\"configModel\", ctx_r25.viewPermitFpnConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_app_view_permit_inspection_148_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-view-permit-inspection\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataModel\", ctx_r26.viewPermitInspectionDataModel)(\"configModel\", ctx_r26.viewPermitInspectionConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_div_149_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r163 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 114);\n    i0.ɵɵelementStart(2, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_div_149_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r163);\n      const ctx_r162 = i0.ɵɵnextContext();\n      return ctx_r162.updateInspection();\n    });\n    i0.ɵɵtext(3, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PermitViewPmtMgrComponent_app_view_permit_comments_150_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-view-permit-comments\", 42);\n  }\n\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataModel\", ctx_r28.viewPermitCommentsDataModel)(\"configModel\", ctx_r28.viewPermitCommentConfigModel);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_ng_container_162_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r165 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0, 55);\n    i0.ɵɵelementStart(1, \"p\", 65);\n    i0.ɵɵtext(2, \" Are you sure you want to delete change request \");\n    i0.ɵɵelementStart(3, \"b\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" ? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 66);\n    i0.ɵɵelementStart(7, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_ng_container_162_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r165);\n      const ctx_r164 = i0.ɵɵnextContext();\n      return ctx_r164.confirmDelete();\n    });\n    i0.ɵɵtext(8, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r29 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r29.CRReferenceNumber);\n  }\n}\n\nfunction PermitViewPmtMgrComponent_ng_container_163_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r167 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0, 55);\n    i0.ɵɵelementStart(1, \"p\", 65);\n    i0.ɵɵtext(2, \" You are about to submit a work extension request to Street Manager. Note that this is a chargeable activity. Do you want to proceed? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 66);\n    i0.ɵɵelementStart(4, \"button\", 130);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_ng_container_163_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r167);\n      const ctx_r166 = i0.ɵɵnextContext();\n      return ctx_r166.confirmsubmitworkextension(\"yes\");\n    });\n    i0.ɵɵtext(5, \" Yes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 131);\n    i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_ng_container_163_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r167);\n      const ctx_r168 = i0.ɵɵnextContext();\n      return ctx_r168.confirmsubmitworkextension(\"no\");\n    });\n    i0.ɵɵtext(7, \" No \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nconst _c4 = function () {\n  return {\n    width: \"800px\",\n    minWidth: \"700px\",\n    \"text-align\": \"center\",\n    \"font-size\": \"15px\"\n  };\n};\n\nexport let PermitViewPmtMgrComponent = /*#__PURE__*/(() => {\n  class PermitViewPmtMgrComponent extends WidgetPageBase {\n    constructor(_serverApi, _eventActionServiceBase, _sessionStorageService, _router, _spinner, _appRepoHelperService, dialog, _notificationService, _eventActionService, fbStartPermit, fbStopPermit, fbWorkExtension, _location, _serverApiBase, _appRepoService) {\n      super(_serverApi, _eventActionServiceBase, _sessionStorageService, _router, _spinner);\n      this._serverApi = _serverApi;\n      this._eventActionServiceBase = _eventActionServiceBase;\n      this._sessionStorageService = _sessionStorageService;\n      this._router = _router;\n      this._spinner = _spinner;\n      this._appRepoHelperService = _appRepoHelperService;\n      this.dialog = dialog;\n      this._notificationService = _notificationService;\n      this._eventActionService = _eventActionService;\n      this.fbStartPermit = fbStartPermit;\n      this.fbStopPermit = fbStopPermit;\n      this.fbWorkExtension = fbWorkExtension;\n      this._location = _location;\n      this._serverApiBase = _serverApiBase;\n      this._appRepoService = _appRepoService;\n      this.dialogConfirm = new DialogModel();\n      this.dialogConfirmWorkExtension = new DialogModel();\n      this.dialogDeleteReinstatement = new DialogModel();\n      this.dialogReinstatementUpload = new DialogModel();\n      this.dialogOnRegister = new DialogModel();\n      this.display = false;\n      this.errorMsg = \"\";\n      this.toggle = true;\n      this.selectedTabIndex = 0;\n      this.isViewCommentTrue = false;\n      this.WORK_STREAM = WORK_STREAM;\n      this.status = 'Start Permit';\n      this.status_icon = 'play_arrow';\n      this.permitCostSplit = {\n        permit_cost: 0,\n        paa_cost: 0,\n        variation_cost: 0,\n        fpn_cost: 0,\n        total_cost: 0\n      };\n      this.permitArrayItem = [];\n      this.permitProposedVariationCost = 0;\n      this.stopPermitWarningMessage = '';\n      this.startPermitWarningMessage = '';\n      this.saveAsDraftAndClose = SAVE_AS_DRAFT_POST_ACTION.SAVE_AND_EXIT;\n      this.viewElginMap = false;\n      this.revertStart = 'Revert Start';\n      this.revertStop = 'Revert Stop';\n      this.progressToPAWarningMessage = \"\";\n      this.createPermitStepNo = 1;\n      this.createReinstatementStepNo = 1;\n      this.arrCreatePermitDialogTitle = ['Create Permit - Draw Map', 'Create Permit', 'Create Permit - Select Conditions', 'Check Permit Details Before Submission', 'Permit Request Confirmed'];\n      this.arrCreateReinstatementDialogTitle = ['Reinstatement - Map', 'Create Reinstatement', 'Reinstatement - Upload Files', 'Check Reinstatement Details Before Submission'];\n      this.arrEditReinstatementDialogTitle = ['Reinstatement - Map', 'Edit Reinstatement', 'Reinstatement - Upload Files', 'Check Reinstatement Details Before Submission'];\n      this.PERMIT_ACTIONS_CONFIG = PERMIT_ACTIONS_CONFIG;\n      this.permitConfirmationDialogMode = PERMIT_CONFIRMATION_DIALOG.NONE;\n      this.permitConfirmDialogModeChangeRequest = PERMIT_CONFIRMATION_DIALOG.CHANGE_REQUEST;\n      this.permitCOnfirmDialogModeCancel = PERMIT_CONFIRMATION_DIALOG.CANCEL_PERMIT;\n      this.permitConfirmDialogModeProgressToPA = PERMIT_CONFIRMATION_DIALOG.PROGRESS_TO_PA;\n      this.permitDialogModeCostSplit = PERMIT_CONFIRMATION_DIALOG.COST_SPLIT;\n      this.permitConfirmDialogModeNewPermit = PERMIT_CONFIRMATION_DIALOG.NEW_PERMIT;\n      this.permitConfirmDialogModeWorkExtension = PERMIT_CONFIRMATION_DIALOG.WORK_EXTENSION;\n      this.changeRequestDialogMode = CHANGE_REQUEST_DIALOG.NONE;\n      this.changeRequestDialogModeView = CHANGE_REQUEST_DIALOG.VIEW;\n      this.changeRequestDialogModEdit = CHANGE_REQUEST_DIALOG.EDIT;\n      this.changeRequestDialogModDiff = CHANGE_REQUEST_DIALOG.DIFF;\n      this.reinstatementDialogMode = REINSTATEMENT_DIALOG_MODE.NONE;\n      this.reinstatementDialogModeAddReinstatement = REINSTATEMENT_DIALOG_MODE.ADD_OR_EDIT;\n      this.reinstatementDialogModeViewReinstatement = REINSTATEMENT_DIALOG_MODE.VIEW;\n      this.stopPermitComment = '';\n      this.revertStopPermitComment = '';\n      this.revertStartPermitComment = '';\n      this.isviewchangereqmode = false;\n      this.isdesignationset = 0;\n      this.isworkextensionconfirm = false;\n      this.dataModel = new PermitViewModel();\n      this.dataModel.data = new PermitViewDetailsModel();\n      this.viewElginMapReinstatementDataModel = ElginMapDataModel.getInstance();\n      this.viewElginReinstatementConfigModel = ElginMapConfigModel.getInstance();\n      this.permitOverviewDataModel = PermitOverviewModel.getInstance();\n      this.permitOverviewConfigModel = PermitOverviewConfigModel.getInstance();\n      this.permitMapDataModel = PermitMapModel.getInstance();\n      this.permitMapConfigModel = PermitMapConfigModel.getInstance();\n      this.permitMapDesignationModel = PermitMapDesignationModel.getInstance();\n      this.permitMapDesignationConfigModel = PermitMapDesignationConfigModel.getInstance();\n      this.permitDrawMapDataModel = PermitDrawMapDataModel.getInstance();\n      this.permitDrawMapConfigModel = PermitDrawMapConfigModel.getInstance();\n      this.permitImagesAndFilesDataModel = PermitImagesAndFilesModel.getInstance();\n      this.permitImagesAndFilesConfigModel = PermitImagesAndFilesConfigModel.getInstance();\n      this.reinstatementImagesAndFilesDataModel = ReinstatementImagesAndFilesDataModel.getInstance();\n      this.reinstatementImagesAndFilesConfigModel = ReinstatementImagesAndFilesConfigModel.getInstance();\n      this.fileUploadDataModel = FileUploadDataModel.getInstance();\n      this.fileUploadConfigModel = FileUploadConfigModel.getInstance();\n      this.fileUploadDataModel1 = FileUploadDataModel.getInstance();\n      this.fileUploadConfigModel1 = FileUploadConfigModel.getInstance();\n      this.viewPermitFpnDataModel = ViewPermitFpnDataModel.getInstance();\n      this.viewPermitFpnConfigModel = ViewPermitFpnConfigModel.getInstance();\n      this.permitCommentsDataModel = PermitCommentsDataModel.getInstance();\n      this.permitCommentsConfigModel = PermitCommentsConfigModel.getInstance();\n      this.permitConditionsDataModel = PermitConditionsModel.getInstance();\n      this.permitConditionsConfigModel = PermitConditionsConfigModel.getInstance();\n      this.permitAddCommentDataModel = PermitAddCommentDataModel.getInstance();\n      this.permitAddCommentConfigModel = PermitAddCommentConfigModel.getInstance();\n      this.permitActivityLogModel = PermitActivityLogModel.getInstance();\n      this.permitActivityLogConfigModel = PermitActivityLogConfigModel.getInstance();\n      this.permitChangeReqDataModel = PermitChangeReqDataModel.getInstance();\n      this.permitChangeReqConfigModel = PermitChangeReqConfigModel.getInstance();\n      this.permitFPNDataModel = PermitFPNDataModel.getInstance();\n      this.permitFPNConfigModel = PermitFPNConfigModel.getInstance();\n      this.permitInspectionListDataModel = PermitInspectionListDataModel.getInstance();\n      this.permitInspectionListConfigModel = PermitInspectionListConfigModel.getInstance();\n      this.viewPermitInspectionDataModel = ViewPermitInspectionDataModel.getInstance();\n      this.viewPermitInspectionConfigModel = ViewPermitInspectionConfigModel.getInstance();\n      this.siteDetailsDataModel = SiteDetailsDataModel.getInstance();\n      this.siteDetailsConfigModel = SiteDetailsConfigModel.getInstance();\n      this.elginMapDataModel = ElginMapDataModel.getInstance();\n      this.elginMapConfigModel = ElginMapConfigModel.getInstance();\n      this.createPermitFormConfigModel = PermitConfigModel.getInstance();\n      this.createPermitFormDataModel = PermitDataModel.getInstance();\n      this.dataDiffA3DataModel = DataDiffA3Model.getInstance();\n      this.dataDiffA3ConfigModel = DataDiffA3ConfigModel.getInstance();\n      this.viewElginMapDataModel = ElginMapDataModel.getInstance();\n      this.viewElginMapConfigModel = ElginMapConfigModel.getInstance();\n      this.permitCancelConfirmConfigModel = PermitCancelConfirmConfigModel.getInstance();\n      this.permitCancelConfirmDataModel = PermitCancelConfirmDataModel.getInstance();\n      this.summaryDataModel = CreatePermitSummuryDataModel.getInstance();\n      this.summaryConfigModel = CreatePermitSummuryConfigModel.getInstance();\n      this.permitConfirmationDataModel = PermitConfirmationDataModel.getInstance();\n      this.permitConfirmationConfigModel = PermitConfirmationConfigModel.getInstance();\n      this.permitReinstatementDataModel = PermitReinstatementDataModel.getInstance();\n      this.permitReinstatementConfigModel = PermitReinstatementConfigModel.getInstance();\n      this.createReinstatementFormConfigModel = ReinstatementConfigModel.getInstance();\n      this.createReinstatementFormDataModel = ReinstatementDataModel.getInstance();\n      this.raiseChangeReqConfirmationDataModel = RaiseChangeReqConfirmationDataModel.getInstance();\n      this.raiseChangeReqConfirmationConfigModel = RaiseChangeReqConfirmationConfigModel.getInstance();\n      this.viewPermitCommentsDataModel = ViewPermitCommentsDataModel.getInstance();\n      this.viewPermitCommentConfigModel = ViewPermitCommentConfigModel.getInstance();\n      this.createReinstatementSummuryDataModel = CreateReinstatementSummuryDataModel.getInstance();\n      this.createReinstatementSummuryConfigModel = CreateReinstatementSummuryConfigModel.getInstance();\n      this.dialogModel = new DialogModel();\n    }\n\n    ngOnInit() {\n      this.setValue();\n      this.createFormGroups();\n      this.bindPermitOverviewDataModel();\n      this.bindPermitOverviewConfigModel();\n      this.bindPermitImagesAndFilesDataModel();\n      this.bindPermitImagesAndFilesConfigModel();\n      this.bindReinstatementImagesAndFilesDataModel();\n      this.bindReinstatementImagesAndFilesConfigModel();\n      this.bindFileUploadDataModel();\n      this.bindFileUploadConfigModel();\n      this.bindFileUploadDataModel1();\n      this.bindFileUploadConfigModel1();\n      this.bindViewPermitFPNDataModel();\n      this.bindViewPermitFPNConfigModel();\n      this.bindPermitCommentsDataModel();\n      this.bindPermitCommentsConfigModel();\n      this.bindPermitConditionsDataModel();\n      this.bindPermitConditionsConfigModel();\n      this.bindPermitAddCommentDataModel();\n      this.bindPermitAddCommentConfigModel();\n      this.bindPermitActivityLogModel();\n      this.bindPermitActivityLogConfigModel();\n      this.bindPermitFPNModel();\n      this.bindPermitFPNConfigModel();\n      this.bindPermitInspectionListModel();\n      this.bindPermitInspectionListConfigModel();\n      this.bindViewPermitInspectionModel();\n      this.bindViewPermitInspectionConfigModel();\n      this.bindPermitChangeRequestDataModel();\n      this.bindPermitChangeRequestConfigModel();\n      this.bindDataDiffA3Model();\n      this.bindDataDiffA3ConfigModel();\n      this.bindCreatePermitFormDataModel();\n      this.bindCreatePermitFormEvents();\n      this.bindViewElginMapDataModel();\n      this.bindViewElginMapConfigModel();\n      this.bindPermitCancelConfirmConfigModel();\n      this.bindPermitCancelConfirmDataModel();\n      this.bindSummaryDataModel();\n      this.bindSummaryEvents();\n      this.bindPermitConfirmationDataModel();\n      this.bindPermitConfirmationConfigModel();\n      this.bindPermitReinstatementDataModel();\n      this.bindPermitReinstatementConfigModel();\n      this.bindPermitMapDataModel();\n      this.bindPermitMaponfigModel();\n      this.bindPermitMapDesignationModel();\n      this.bindPermitMapDesignationConfigModel();\n      this.bindElginMapDataModel();\n      this.bindElginMapEvents();\n      this.bindCreateReinstatementFormDataModel();\n      this.bindCreateReinstatementFormConfigModel();\n      this.bindRaiseChangeReqConfirmationDataModel();\n      this.bindRaiseChangeReqConfirmationConfigModel();\n      this.bindViewPermitCommentConfigModel();\n      this.bindCreateReinstatementSummuryDataModel();\n      this.bindCreateReinstatementSummuryConfigModel();\n    }\n\n    bindCreateReinstatementFormDataModel() {}\n\n    bindCreateReinstatementFormConfigModel() {}\n\n    bindElginMapDataModel() {// super.setGlobalParams(this.elginMapDataModel);\n    }\n\n    bindElginMapEvents() {\n      let eventActions = [[\"overlayComplete\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_drawMapOverlayComplete\"\n        }]\n      }]], [\"drawingmodeChanged\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_drawingmodeChanged\"\n        }]\n      }]], [\"mapLoaded\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_mapLoaded\"\n        }]\n      }]]];\n      super.addEventListener(eventActions, this.elginMapDataModel, this.elginMapConfigModel);\n    }\n\n    createFormGroups() {\n      this.startPermitFormGroup = this.fbStartPermit.group({\n        'startDate': ['', [Validators.required]],\n        'startPermitComment': ['']\n      });\n      this.stopPermitFormGroup = this.fbStopPermit.group({\n        'stopDate': ['', [Validators.required]],\n        'stopPermitComment': ['']\n      });\n      this.workExtensionFormGroup = this.fbWorkExtension.group({\n        'proposedEndDate': ['', [Validators.required]]\n      });\n    }\n\n    onTabChanged(tabChangeEvent) {\n      this.selectedTabIndex = tabChangeEvent.index; //For view mode set\n\n      switch (this.selectedTabIndex) {\n        case 0:\n          if (this.selectedTabIndex == 0) {\n            this.permitConditionsDataModel.mode = FormModeConstant.EDIT;\n          } else {\n            this.permitConditionsDataModel.mode = FormModeConstant.VIEW;\n          }\n\n          break;\n\n        case 1:\n          this.viewElginMap = true;\n          break;\n\n        case 2:\n          this.page_refreshData();\n          break;\n\n        default:\n          false;\n          break;\n      }\n    }\n\n    ngAfterViewInit() {\n      this.compRefInstancesMap.set(\"permitImagesAndFilesTabComponent\", this.permitImagesAndFilesTabComponent);\n      this.compRefInstancesMap.set(\"reinstatementImagesAndFilesComponent\", this.reinstatementImagesAndFilesComponent);\n    }\n\n    bindSummaryDataModel() {//super.setGlobalParams(this.summaryDataModel);\n    }\n\n    bindSummaryEvents() {}\n\n    bindPermitConfirmationDataModel() {\n      super.setGlobalParams(this.permitConfirmationDataModel);\n    }\n\n    bindPermitConfirmationConfigModel() {}\n\n    bindCreateReinstatementSummuryDataModel() {}\n\n    bindCreateReinstatementSummuryConfigModel() {}\n\n    bindRaiseChangeReqConfirmationDataModel() {\n      this.raiseChangeReqConfirmationDataModel.globalParameters.set(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM));\n      this.raiseChangeReqConfirmationDataModel.data = {\n        ispermitModReqRaised: false,\n        warningMassages: `You are about to raise a change request in response to a modification request from the Highway Authority. Please ensure that provide all the required information to ensure your permit is granted without further delays. Your permit status will remain \"Permit Modification Request\" until it is changed by the HA.`,\n        reqRaiseCharges: '0',\n        conformationStatement: `Do you want to continue with raising a change request?`,\n        conditionsForRaiseChangeReq: [{\n          condition: `The status of the original permit is “Granted” or “Submitted” (and awaiting assessment).`\n        }, {\n          condition: `The works in in progress and requires an extension.`\n        }, {\n          condition: `There is no open change request being assessed by the HA for this permit..`\n        }]\n      };\n    }\n\n    bindRaiseChangeReqConfirmationConfigModel() {}\n\n    bindPermitOverviewDataModel() {\n      this.setGlobalParams(this.permitOverviewDataModel);\n    }\n\n    bindPermitOverviewConfigModel() {\n      let events = [[\"onRaiseChangeRequest\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onRaiseChangeRequest\"\n        }]\n      }]], [\"onCancelPermit\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onCancelPermit\"\n        }]\n      }]], [\"onProgressToPA\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onProgressToPA\"\n        }]\n      }]], [\"onShowCostSplitClick\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onShowCostSplitClick\"\n        }]\n      }]], [\"onNewPermitClick\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onNewPermitClick\"\n        }]\n      }]], [\"onWorkExtensionClick\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onWorkExtensionClick\"\n        }]\n      }]], [\"onRegisterClick\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onRegisterClick\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitOverviewDataModel, this.permitOverviewConfigModel);\n    }\n\n    bindPermitImagesAndFilesDataModel() {\n      this.setGlobalParams(this.permitImagesAndFilesDataModel);\n    }\n\n    bindPermitImagesAndFilesConfigModel() {\n      let events = [[\"openDialog\", [{\n        \"action\": \"setPageProperties\",\n        \"params\": [{\n          \"page.dialogModel.visible\": \"true\",\n          \"page.dialogModel.header\": \"'File Upload'\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitImagesAndFilesDataModel, this.permitImagesAndFilesConfigModel);\n    }\n\n    bindReinstatementImagesAndFilesDataModel() {\n      this.setGlobalParams(this.reinstatementImagesAndFilesDataModel);\n    }\n\n    bindReinstatementImagesAndFilesConfigModel() {\n      let events = [[\"openDialog\", [{\n        \"action\": \"setPageProperties\",\n        \"params\": [{\n          // \"page.dialogModel.visible\": \"false\",\n          \"page.dialogReinstatementUpload.visible\": \"true\",\n          \"page.dialogReinstatementUpload.header\": \"'File Upload'\",\n          \"page.dialogReinstatementUpload.width\": \"40%\",\n          \"page.dialogReinstatementUpload.minWidth\": '575px'\n        }]\n      }]]];\n      this.addEventListener(events, this.reinstatementImagesAndFilesDataModel, this.reinstatementImagesAndFilesConfigModel);\n    }\n\n    bindFileUploadDataModel() {\n      let id = this.globalParameters.get(\"applicationId\");\n      this.fileUploadDataModel.apiDataUrl = `/api/v1/applications/${id}/work-files`;\n      this.setGlobalParams(this.fileUploadDataModel);\n    }\n\n    bindFileUploadConfigModel() {\n      let events = [[\"uploadHandler\", [{\n        \"action\": \"fileUploadWithUserData\",\n        \"params\": [],\n        \"posteventaction\": {\n          \"success\": [{\n            \"action\": \"refresh\",\n            \"params\": {\n              \"position\": \"permitImagesAndFilesTabComponent\"\n            }\n          }]\n        }\n      }, {\n        \"action\": \"setPageProperties\",\n        \"params\": [{\n          \"page.dialogModel.visible\": \"false\"\n        }]\n      }]]];\n      this.addEventListener(events, this.fileUploadDataModel, this.fileUploadConfigModel);\n    }\n\n    bindFileUploadDataModel1() {\n      let id = this.globalParameters.get(\"applicationId\");\n      let siteId = this.globalParameters.get(\"siteId\"); // this.fileUploadDataModel1.apiDataUrl = `/api/v1/applications/${id}/work-files`;\n\n      this.fileUploadDataModel1.apiDataUrl = `/api/v1/applications/${id}/sites/${siteId}/files`;\n      this.setGlobalParams(this.fileUploadDataModel1);\n    }\n\n    bindFileUploadConfigModel1() {\n      let events = [[\"uploadHandler\", [{\n        \"action\": \"fileUploadWithUserData\",\n        \"params\": [],\n        \"posteventaction\": {\n          \"success\": [{\n            \"action\": \"refresh\",\n            \"params\": {\n              \"position\": \"reinstatementImagesAndFilesComponent\"\n            }\n          }]\n        }\n      }, {\n        \"action\": \"setPageProperties\",\n        \"params\": [{\n          \"page.dialogReinstatementUpload.visible\": \"false\"\n        }]\n      }, {\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onDialogReinstatementUpload\"\n        }]\n      }]]];\n      this.addEventListener(events, this.fileUploadDataModel1, this.fileUploadConfigModel1);\n    }\n\n    page_onDialogReinstatementUpload() {\n      if (this.dialogReinstatementUpload.visible == false) {\n        // this.RefreshData();\n        // this.page_refreshData();\n        this.reinstatementImagesAndFilesComponent.wgRefreshData(); // this.globalParameters.set('siteId', null);\n        // this.reinstatementImagesAndFilesDataModel.globalParameters.set('siteId',null);\n        // this.reinstatementImagesAndFilesDataModel.globalParameters.set('applicationId',applicationId);\n\n        setTimeout(() => {\n          this.reinstatementImagesAndFilesComponent.wgRefreshData();\n        }, 2000);\n      }\n    }\n\n    bindPermitCommentsDataModel() {\n      this.setGlobalParams(this.permitCommentsDataModel);\n    }\n\n    bindPermitCommentsConfigModel() {\n      let events = [[\"onViewPermitComments\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onViewPermitComments\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitCommentsDataModel, this.permitCommentsConfigModel);\n    }\n\n    bindPermitConditionsDataModel() {\n      super.setGlobalParams(this.permitConditionsDataModel);\n      this.permitConditionsDataModel.mode = FormModeConstant.VIEW;\n      this.permitConditionsDataModel.isSelfDataLoad = true;\n    }\n\n    bindPermitConditionsConfigModel() {}\n\n    bindPermitAddCommentDataModel() {\n      this.setGlobalParams(this.permitAddCommentDataModel);\n    }\n\n    bindPermitAddCommentConfigModel() {\n      let events = [[\"onCommentAdded\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onCommentAdded\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitAddCommentDataModel, this.permitAddCommentConfigModel);\n    }\n\n    bindPermitReinstatementDataModel() {\n      let id = this.globalParameters.get(\"applicationId\");\n      let siteId = this.globalParameters.get(\"siteId\");\n      this.setGlobalParams(this.permitReinstatementDataModel);\n    }\n\n    bindPermitReinstatementConfigModel() {\n      let events = [[WidgetConstants.EDIT_REINSTATEMENT, [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onEditReinstateMentClick\"\n        }]\n      }]], [WidgetConstants.VIEW_SITE_DETAILS, [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onViewSiteDetailsClicked\"\n        }]\n      }]], [WidgetConstants.DELETE_REINSTATEMENT, [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onDeleteReinstatementClicked\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitReinstatementDataModel, this.permitReinstatementConfigModel);\n    }\n\n    bindPermitChangeRequestDataModel() {\n      super.setGlobalParams(this.permitChangeReqDataModel);\n      this.permitConditionsDataModel.isSelfDataLoad = true;\n    }\n\n    bindPermitChangeRequestConfigModel() {\n      let events = [[\"onTrackChangeReqChanges\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onTrackChangeReqChanges\"\n        }]\n      }]], [\"onDeleteChangeReq\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onDeleteReqChanges\"\n        }]\n      }]], [\"onViewChangeReq\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onViewChangeReq\"\n        }]\n      }]], [\"onEditChangeReq\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onEditChangeReq\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitChangeReqDataModel, this.permitChangeReqConfigModel);\n    }\n\n    bindPermitFPNModel() {\n      super.setGlobalParams(this.permitFPNDataModel);\n      this.permitFPNDataModel.isSelfDataLoad = true;\n    }\n\n    bindPermitFPNConfigModel() {\n      let events = [[\"onViewPermitFpnChanges\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onViewPermitFpnChanges\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitFPNDataModel, this.permitFPNConfigModel);\n    }\n\n    bindPermitInspectionListModel() {\n      this.permitInspectionListDataModel.globalParameters.set('applicationId', this.globalParameters.get(\"applicationId\"));\n    }\n\n    bindPermitInspectionListConfigModel() {\n      let events = [[\"onViewInspectionDetails\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onViewInspectionDetails\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitInspectionListDataModel, this.permitInspectionListConfigModel);\n    }\n\n    bindViewPermitInspectionModel() {\n      this.setGlobalParams(this.viewPermitInspectionDataModel);\n    }\n\n    bindViewSiteDetailsModel() {\n      this.setGlobalParams(this.siteDetailsDataModel);\n    }\n\n    bindViewPermitInspectionConfigModel() {}\n\n    bindViewPermitFPNDataModel() {\n      let id = this.globalParameters.get(\"applicationId\"); //this.viewPermitFpnDataModel.apiDataUrl = `/api/v1/applications/${id}`;\n\n      this.setGlobalParams(this.viewPermitFpnDataModel);\n    }\n\n    bindViewPermitFPNConfigModel() {\n      let events = [[\"onViewFPNUpdate\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onViewFPNUpdate\"\n        }]\n      }]], [\"onViewFPNOkClick\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onViewFPNOkClick\"\n        }]\n      }]]];\n      this.addEventListener(events, this.viewPermitFpnDataModel, this.viewPermitFpnConfigModel);\n    }\n\n    bindPermitActivityLogModel() {\n      super.setGlobalParams(this.permitActivityLogModel);\n      this.permitConditionsDataModel.isSelfDataLoad = true;\n    }\n\n    bindPermitActivityLogConfigModel() {}\n\n    bindDataDiffA3Model() {\n      super.setGlobalParams(this.dataDiffA3DataModel);\n      this.dataDiffA3DataModel.isSelfDataLoad = true;\n    }\n\n    bindDataDiffA3ConfigModel() {}\n\n    bindCreatePermitFormDataModel() {\n      super.setGlobalParams(this.createPermitFormDataModel);\n    }\n\n    bindCreatePermitFormEvents() {\n      let eventActions = [[WidgetConstants.SHOW_ERROR, [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_showError\"\n        }]\n      }]]];\n      super.addEventListener(eventActions, this.createPermitFormDataModel, this.createPermitFormConfigModel);\n    }\n\n    page_showError(eventparams) {\n      this.display = true;\n      this.errorMsg = eventparams.dataContext;\n    }\n\n    bindViewElginMapDataModel() {\n      this.viewElginMapDataModel.mode = FormModeConstant.VIEW;\n      super.setGlobalParams(this.viewElginMapDataModel);\n    }\n\n    bindPermitMapDataModel() {\n      this.permitMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP));\n      this.setGlobalParams(this.permitMapDataModel);\n    }\n\n    bindPermitMaponfigModel() {}\n\n    bindPermitMapDesignationModel() {\n      this.permitMapDesignationModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP));\n      this.setGlobalParams(this.permitMapDesignationModel);\n    }\n\n    bindPermitMapDesignationConfigModel() {}\n\n    bindViewElginMapConfigModel() {}\n\n    bindPermitCancelConfirmConfigModel() {\n      let appId = this.globalParameters.get(\"applicationId\");\n      this.permitCancelConfirmDataModel.apiDataUrl = `/api/v1/applications/action/${appId}`;\n      this.setGlobalParams(this.permitCancelConfirmDataModel);\n    }\n\n    bindPermitCancelConfirmDataModel() {\n      let events = [[\"onCancelPermitActionBtnClick\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onCancelPermitActionBtnClick\"\n        }]\n      }]]];\n      this.addEventListener(events, this.permitCancelConfirmDataModel, this.permitCancelConfirmConfigModel);\n    }\n\n    stopPropagation(event) {\n      event.stopPropagation();\n    }\n\n    startToggle() {\n      this.startPermitFormGroup.markAllAsTouched();\n\n      if (this.startPermitFormGroup.valid) {\n        this.trigger.closeMenu();\n        let reqBody = {\n          action: 'start',\n          comments: this.startPermitFormGroup.controls.startPermitComment.value,\n          date: this.startPermitFormGroup.controls.startDate.value\n        };\n        this.startPermitFormGroup.reset();\n        let applicationId = this.globalParameters.get(\"applicationId\");\n        this.pageAPIMethodPut(`/api/v1/applications/action/${applicationId}`, reqBody).then(resp => {\n          this.page_refreshData();\n        });\n      }\n    }\n\n    cancelStartPermit() {\n      this.trigger.closeMenu();\n      this.startPermitFormGroup.reset();\n    }\n\n    onStopPermitBtnClick() {\n      this.stopPermitFormGroup.markAllAsTouched();\n\n      if (this.stopPermitFormGroup.valid) {\n        this.menuStopTrigger.closeMenu();\n        let stopPermitReqBody = {\n          action: 'stop',\n          comments: this.stopPermitFormGroup.controls.stopPermitComment.value,\n          date: this.stopPermitFormGroup.controls.stopDate.value\n        };\n        this.stopPermitFormGroup.reset();\n        let applicationId = this.globalParameters.get(\"applicationId\");\n        this.pageAPIMethodPut(`/api/v1/applications/action/${applicationId}`, stopPermitReqBody).then(resp => {\n          this.page_refreshData();\n        });\n      }\n    }\n\n    onRevertStartPermitBtnClick() {\n      this.menuRevertStartTrigger.closeMenu();\n      let reqBody = {\n        action: 'revert-start',\n        comments: this.revertStartPermitComment\n      };\n      this.revertStartPermitComment = \"\";\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      this.pageAPIMethodPut(`/api/v1/applications/action/${applicationId}`, reqBody).then(resp => {\n        this.page_refreshData();\n      });\n    }\n\n    onRevertStopPermitBtnClick() {\n      this.menuRevertStopTrigger.closeMenu();\n      let reqBody = {\n        action: 'revert-stop',\n        comments: this.revertStopPermitComment\n      };\n      this.revertStopPermitComment = \"\";\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      this.pageAPIMethodPut(`/api/v1/applications/action/${applicationId}`, reqBody).then(resp => {\n        this.page_refreshData();\n      });\n    }\n\n    setValue() {\n      this.dataModel.data.permitRefNumber = this.globalParameters.get('permitRefNumber');\n    }\n\n    onEditPermitBtnClick() {// this.dialog.open(CreatePermitFormComponent);\n    }\n\n    onAddNewCommentBtnClick() {\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Add New Comment\";\n      this.dialogModel.width = \"400px\";\n      this.dialogModel.minWidth = \"400px\";\n    }\n\n    page_onCommentAdded() {\n      this.dialogModel.visible = false;\n      this.permitCommentsTabComponent.wgRefreshData();\n    }\n\n    page_onRaiseChangeRequest() {\n      this.alterationApplicationId = null;\n      this.isviewchangereqmode = false;\n      this.permitConfirmationDialogMode = PERMIT_CONFIRMATION_DIALOG.CHANGE_REQUEST;\n      let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM);\n      this.permitProposedVariationCost = permitFormPageData.proposed_variation_cost;\n      this.createPermitStepNo = 1;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Raise Change Request\";\n      this.dialogModel.width = \"80%\";\n    }\n\n    page_onCancelPermit() {\n      this.permitConfirmationDialogMode = PERMIT_CONFIRMATION_DIALOG.CANCEL_PERMIT;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"  \";\n      this.dialogModel.width = \"400px\";\n      this.dialogModel.minWidth = \"400px\";\n    }\n\n    page_getActions() {}\n\n    onviewChangeRequest() {\n      this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, null);\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      this.showSpinner();\n\n      this._serverApi.get(`/api/v1/applications/${applicationId}`).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            let permitresponse = this.convertPermitDetailsResponse(response);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, permitresponse.mapPageData); // this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, permitresponse.conditionPageData);\n\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitresponse.permitFormPageData); // set eleginMap Mode\n\n            this.elginMapDataModel.mode = FormModeConstant.EDIT;\n            this.elginMapDataModel.isSelfDataLoad = true;\n            this.elginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP)); // conditions\n            // this.permitConditionsDataModel.mode = FormModeConstant.EDIT;\n            // this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS));\n\n            let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM);\n            permitFormPageData = permitFormPageData ? permitFormPageData : new PermitFormPageData(); // geometry\n            // let mapPageDataDataModel: MapPageDataDataModel = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP);\n            // permitFormPageData.geometry = {\n            //   type: ElginMapUtility.getGeometryTypeForRequest(mapPageDataDataModel.geometry.type),\n            //   coordinates: mapPageDataDataModel.geometry.cordinateNorthingsEastings\n            // }\n\n            this.createPermitFormDataModel.mode = FormModeConstant.VIEW;\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitFormPageData);\n            this.createPermitFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM));\n            this.elginMapDataModel.mode = FormModeConstant.VIEW; // this.isView=true;\n\n            this.changeRequestDialogMode = CHANGE_REQUEST_DIALOG.VIEW;\n            this.dialogModel.visible = true;\n            this.dialogModel.header = \"View Change Request\";\n            this.dialogModel.width = \"80%\"; // this.nextStep();\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log(' error :');\n      });\n    }\n\n    onEditChangeRequest() {\n      this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, null);\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      this.showSpinner();\n\n      this._serverApi.get(`/api/v1/applications/${applicationId}`).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            let permitresponse = this.convertPermitDetailsResponse(response);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, permitresponse.mapPageData); // this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, permitresponse.conditionPageData);\n\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitresponse.permitFormPageData); // set eleginMap Mode\n\n            this.elginMapDataModel.mode = FormModeConstant.EDIT;\n            this.elginMapDataModel.isSelfDataLoad = true;\n            this.elginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP)); // conditions\n            // this.permitConditionsDataModel.mode = FormModeConstant.EDIT;\n            // this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS));\n\n            let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM);\n            permitFormPageData = permitFormPageData ? permitFormPageData : new PermitFormPageData(); // geometry\n            // let mapPageDataDataModel: MapPageDataDataModel = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP);\n            // permitFormPageData.geometry = {\n            //   type: ElginMapUtility.getGeometryTypeForRequest(mapPageDataDataModel.geometry.type),\n            //   coordinates: mapPageDataDataModel.geometry.cordinateNorthingsEastings\n            // }\n\n            this.createPermitFormDataModel.mode = FormModeConstant.CHANGE_REQUEST_CREATE;\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitFormPageData);\n            this.createPermitFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM));\n            this.elginMapDataModel.mode = FormModeConstant.VIEW; // this.isView=true;\n\n            this.changeRequestDialogMode = CHANGE_REQUEST_DIALOG.EDIT;\n            this.dialogModel.visible = true;\n            this.dialogModel.header = \"Edit Change Request\";\n            this.dialogModel.width = \"80%\"; // this.nextStep();\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log(' error :');\n      });\n    }\n\n    onChangeRequest() {\n      // if(this.isdesignationset<1)\n      this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, null);\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      this.showSpinner();\n\n      this._serverApi.get(`/api/v1/applications/${applicationId}`).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            console.log(\"response change reuest\", response);\n            let permitresponse = this.convertPermitDetailsResponse(response);\n            console.log(\"response permit view on change\", permitresponse); // if(this.isdesignationset<1)\n\n            this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, permitresponse.mapPageData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, permitresponse.conditionPageData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitresponse.permitFormPageData); // this.permitDrawMapDataModel.data = new PermitDrawMapDetails();\n            // this.permitDrawMapDataModel.mode = FormModeConstant.VIEW;\n            // // this.globalParameters.set('applicationId', applicationId);\n            // this.dialogModel = new DialogModel();\n            // this.dialogModel.width = '80%';\n            // set eleginMap Mode\n\n            if (this.isviewchangereqmode) this.elginMapDataModel.mode = FormModeConstant.VIEW;else this.elginMapDataModel.mode = FormModeConstant.EDIT;\n            this.elginMapDataModel.isSelfDataLoad = true;\n            this.elginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP));\n            this.permitMapDesignationModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP));\n            this.viewElginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP)); // conditions\n\n            if (this.isviewchangereqmode) this.permitConditionsDataModel.mode = FormModeConstant.VIEW;else this.permitConditionsDataModel.mode = FormModeConstant.EDIT;\n            this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS));\n            let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM);\n            permitFormPageData = permitFormPageData ? permitFormPageData : new PermitFormPageData(); // geometry\n\n            let mapPageDataDataModel = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP);\n            permitFormPageData.geometry = {\n              type: ElginMapUtility.getGeometryTypeForRequest(mapPageDataDataModel.geometry.type),\n              coordinates: mapPageDataDataModel.geometry.cordinateNorthingsEastings\n            };\n            console.log(\"permit form data\", permitFormPageData.workStatus + \" \" + permitFormPageData.status);\n            if (this.isviewchangereqmode) this.createPermitFormDataModel.mode = FormModeConstant.VIEW;else if (permitFormPageData.workStatus == 'in_progress') this.createPermitFormDataModel.mode = FormModeConstant.STARTDATEDISABLED;else if (permitFormPageData.workStatus != 'in_progress' && permitFormPageData.status == 'permit_modification_request' || permitFormPageData.status == 'refused' || permitFormPageData.status == 'closed' || permitFormPageData.status == 'deemed' || permitFormPageData.status == 'revoked' || permitFormPageData.status == 'progressed') this.createPermitFormDataModel.mode = FormModeConstant.DATEDISABLED;else this.createPermitFormDataModel.mode = FormModeConstant.CHANGE_REQUEST_CREATE;\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitFormPageData);\n            this.createPermitFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM));\n            this.elginMapDataModel.mode = FormModeConstant.VIEW;\n            this.nextStep();\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log('Permit save as draft error :');\n      });\n    }\n\n    onAppDialogClose(data) {\n      this.dialogModel.visible = false;\n      this.isViewCommentTrue = false; // this.isView=false;\n\n      this.changeRequestDialogMode = CHANGE_REQUEST_DIALOG.NONE;\n      this.permitConfirmationDialogMode = PERMIT_CONFIRMATION_DIALOG.NONE;\n      this.reinstatementDialogMode = REINSTATEMENT_DIALOG_MODE.NONE;\n    }\n\n    backStep() {\n      this.createPermitStepNo--;\n      this.setDialogModel();\n    }\n\n    nextStep() {\n      this.createPermitStepNo++;\n      this.setDialogModel();\n      this.dialogContentScrollTop();\n    }\n\n    nextStepNewPermit() {\n      this.createPermitStepNo++;\n      this.setDialogModelNewPermit();\n      this.dialogContentScrollTop();\n    }\n\n    backStepNewPermit() {\n      this.createPermitStepNo--;\n      this.setDialogModelNewPermit();\n      this.dialogContentScrollTop();\n    }\n\n    setDialogModel() {\n      switch (this.createPermitStepNo) {\n        case 2:\n          this.dialogModel.header = \"Change Request\";\n          break;\n\n        case 3:\n          this.dialogModel.header = \"Change Request\";\n          break;\n\n        case 4:\n          this.dialogModel.header = \"Conditions\";\n          break;\n\n        case 5:\n          this.dialogModel.header = \"Updated Permit Data\";\n          break;\n\n        case 6:\n          this.dialogModel.header = \"Change Request Confirmed\";\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    setDialogModelNewPermit() {\n      switch (this.createPermitStepNo) {\n        case 1:\n          this.dialogModel.header = \"Create New Phase\";\n          break;\n\n        case 2:\n          this.dialogModel.header = \"New Phase Conditions\";\n          break;\n\n        case 3:\n          this.dialogModel.header = \"Confirm New Phase Before Submission\";\n          break;\n\n        case 4:\n          this.dialogModel.header = \"New Phase Submission Confirmed\";\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    convertPermitDetailsResponse(response) {\n      let permitNavigationDataModel = new PermitNavigationDataModel();\n\n      if (!response) {\n        return permitNavigationDataModel;\n      }\n\n      permitNavigationDataModel.mapPageData = this.convertToMapPageData(response); //set conditionPageData\n\n      permitNavigationDataModel.conditionPageData = this.convertToConditionPageData(response); //set permitFormPageData\n\n      permitNavigationDataModel.permitFormPageData = this.convertToPermitForm(response);\n\n      let userInfo = this._appRepoHelperService.getMDataByKey(MASTER_DATA.USER_INFO); // user Info\n      // permitNavigationDataModel.permitFormPageData.orgId = userInfo.org_id;\n\n\n      permitNavigationDataModel.permitFormPageData.departmentId = userInfo.department_id;\n      return permitNavigationDataModel;\n    }\n\n    convertToMapPageData(response) {\n      let mapPageData = new MapPageDataDataModel();\n\n      if (response) {\n        // let coordinatesLatLngs = ElginMapUtility.convertCoordinatesToLatLong(response.geometry.coordinates);\n        // let geometry = {\n        //   cordinateNorthingsEastings: response.geometry.coordinates,\n        //   coordinatesLatLng: coordinatesLatLngs,\n        //   type: ElginMapUtility.getGeometryType(response.geometry.type),\n        //   center: coordinatesLatLngs[0],\n        //   zoom: 18\n        // }\n        // mapPageData.geometry = geometry;\n        if (response.geometry.type == PERMIT_GEOMETRY_TYPE.POLYGON) {\n          let coordinatesLatLngs = ElginMapUtility.convertCoordinatesToLatLong(response.geometry.coordinates);\n          let geometry = {\n            cordinateNorthingsEastings: response.geometry.coordinates,\n            coordinatesLatLng: coordinatesLatLngs,\n            type: ElginMapUtility.getGeometryType(response.geometry.type),\n            center: coordinatesLatLngs[0],\n            zoom: 18\n          };\n          mapPageData.geometry = geometry;\n        } else if (response.geometry.type == PERMIT_GEOMETRY_TYPE.POLYLINE) {\n          let coordinatesLatLngs = ElginMapUtility.convertCoordinatesToLatLongForPloyline(response.geometry.coordinates);\n          let geometry = {\n            cordinateNorthingsEastings: response.geometry.coordinates,\n            coordinatesLatLng: coordinatesLatLngs,\n            type: ElginMapUtility.getGeometryType(response.geometry.type),\n            center: coordinatesLatLngs[0],\n            zoom: 18\n          };\n          mapPageData.geometry = geometry;\n        } else if (response.geometry.type == PERMIT_GEOMETRY_TYPE.MARKER) {\n          let coordinatesLatLngsMarker = ElginMapUtility.convertCoordinatesToLatLongForMarker(response.geometry.coordinates);\n          let geometry = {\n            cordinateNorthingsEastings: response.geometry.coordinates,\n            coordinatesLatLng: coordinatesLatLngsMarker,\n            type: ElginMapUtility.getGeometryType(response.geometry.type),\n            center: {\n              lat: coordinatesLatLngsMarker[0],\n              lng: coordinatesLatLngsMarker[1]\n            },\n            zoom: 18\n          };\n          mapPageData.geometry = geometry;\n        }\n\n        mapPageData.nsgDetails = new NSGDetails(); //mapPageData.nsgDetails.worksLocationDescription = response.worksLocationDescription;\n\n        mapPageData.nsgDetails.postcode = response.worksLocationDescription;\n        mapPageData.nsgDetails.usrn = response.usrn;\n        mapPageData.nsgDetails.roadType = response.roadType;\n        mapPageData.nsgDetails.road_category = response.road_category;\n        mapPageData.nsgDetails.highway_authority_name = response.highway_authority_name;\n        mapPageData.nsgDetails.special_designations = response.special_designations;\n      }\n\n      return mapPageData;\n    }\n\n    convertToConditionPageData(response) {\n      var _a;\n\n      let permitConditionsList = [];\n\n      if (response) {\n        for (let index = 0; index < ((_a = response.conditions) === null || _a === void 0 ? void 0 : _a.length); index++) {\n          const element = response.conditions[index];\n          let condition = new PermitConditionsItem();\n          condition.condition = element.condition;\n          condition.comment = element.comment;\n          permitConditionsList.push(condition);\n        }\n      }\n\n      let data = {\n        conditions: permitConditionsList\n      };\n      return data;\n    }\n\n    convertToPermitForm(response) {\n      let permitFormPageData = new PermitFormPageData();\n\n      if (response) {\n        permitFormPageData.applicationId = response.application_id;\n        permitFormPageData.workId = response.work_id;\n        permitFormPageData.isAnOldPermit = response.is_an_old_permit;\n        permitFormPageData.workReferenceNumber = response.work_reference_number;\n        permitFormPageData.orgId = response.org_id;\n        permitFormPageData.highwayAuthorityId = response.highway_authority_id;\n        permitFormPageData.departmentId = response.department_id;\n        permitFormPageData.permitRefNumber = response.permit_reference_number;\n        permitFormPageData.streetName = response.street_name;\n        permitFormPageData.areaName = response.area_name;\n        permitFormPageData.town = response.town;\n        permitFormPageData.postCode = response.postcode;\n        permitFormPageData.usrn = response.usrn;\n        permitFormPageData.roadCategory = response.road_category;\n        permitFormPageData.locationDescription = response.location_description;\n        permitFormPageData.proposedStartDate = response.proposed_start_date;\n        permitFormPageData.proposedEndDate = response.proposed_end_date;\n        permitFormPageData.actualStartDate = response.actual_start_date;\n        permitFormPageData.actualEnddate = response.actual_end_date;\n        permitFormPageData.reasonablePeriodEndDate = response.reasonable_period_end_date;\n        permitFormPageData.trafficSensitiveFlag = response.traffic_sensitive_flag;\n        permitFormPageData.secondaryContact = response.secondary_contact;\n        permitFormPageData.secondaryContactNumber = response.secondary_contact_number;\n        permitFormPageData.secondaryContactEmail = response.secondary_contact_email;\n        permitFormPageData.locationTypes = response.location_types;\n        permitFormPageData.workType = response.work_type;\n        permitFormPageData.workCategory = response.work_category;\n        permitFormPageData.workDescription = response.work_description;\n        permitFormPageData.workDescTextType = response.work_desc_text_type;\n        permitFormPageData.activityType = response.activity_type;\n        permitFormPageData.trafficManagementType = response.traffic_management_type;\n        permitFormPageData.closeFootway = response.close_footway;\n        permitFormPageData.collaborativeWorkingFlag = response.collaborative_working_flag;\n        permitFormPageData.collaborationDetails = response.collaboration_details;\n        permitFormPageData.collaborativeWorks = response.collaborative_works;\n        permitFormPageData.collaborationType = response.collaboration_type;\n        permitFormPageData.excavationFlag = response.excavation_flag;\n        permitFormPageData.environmentalFlag = response.environmental_flag;\n        permitFormPageData.ttro_requiredFlag = response.ttro_required_flag;\n        permitFormPageData.projectReferenceNumber = response.project_reference_number;\n        permitFormPageData.laneRentalFlag = response.lane_rental_flag;\n        permitFormPageData.specialDesignations = response.special_designations;\n        permitFormPageData.earlyStartPreApprovalFlag = response.early_start_pre_approval_flag;\n        permitFormPageData.earlyStartReason = response.early_start_reason;\n        permitFormPageData.preApprovalDetails = response.pre_approval_details;\n        permitFormPageData.preApprovalAuthoriser = response.pre_approval_authoriser;\n        permitFormPageData.status = response.status;\n        permitFormPageData.workStatus = response.work_status;\n        permitFormPageData.assessmentDiscount = response.assessment_discount;\n        permitFormPageData.assessmentComments = response.assessment_comments;\n        permitFormPageData.assessmentStatus = response.assessment_status;\n        permitFormPageData.alterationReason = response.alteration_reason;\n        permitFormPageData.draftApplicationId = response.draft_application_id;\n        permitFormPageData.draftAlterationId = response.draft_alteration_id;\n        permitFormPageData.draftWorkType = response.draft_work_type;\n        permitFormPageData.alterationStatus = response.alteration_status;\n        permitFormPageData.pendingChangedetails = response.pending_change_details;\n        permitFormPageData.reasonsForRefusal = response.reasons_for_refusal;\n        permitFormPageData.revokeReason = response.revoke_reason;\n        permitFormPageData.costRisk = response.cost_risk;\n        permitFormPageData.customerRisk = response.customer_risk;\n        permitFormPageData.trafficManagementRisk = response.traffic_management_risk;\n        permitFormPageData.accountability = response.accountability;\n        permitFormPageData.paaCost = response.paa_cost;\n        permitFormPageData.permitCost = response.permit_cost;\n        permitFormPageData.variationCost = response.variation_cost;\n        permitFormPageData.totalCost = response.total_cost;\n        permitFormPageData.calendarDays = response.calendar_days;\n        permitFormPageData.workingDays = response.working_days;\n        permitFormPageData.highwayAuthorityName = response.highway_authority_name;\n        permitFormPageData.departmentName = response.department_name;\n        permitFormPageData.promoterPrefix = response.promoter_prefix;\n        permitFormPageData.promoterOrganisation = response.promoter_organisation;\n        permitFormPageData.statusValue = response.status_value;\n        permitFormPageData.workStatusValue = response.work_status_value;\n        permitFormPageData.locationDetails = response.location_details;\n        permitFormPageData.workOrderNo = response.work_order_no;\n        permitFormPageData.is_covid19_response = response.is_covid19_response;\n        permitFormPageData.environmental_flag = response.environmental_flag;\n        permitFormPageData.workstream_id = response.workstream_id;\n        permitFormPageData.contractor_id = response.contractor_id;\n      }\n\n      return permitFormPageData;\n    }\n\n    nextButtonConditionClick(actionKey) {\n      let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM);\n      permitFormPageData = permitFormPageData ? permitFormPageData : new PermitFormPageData(); // conditions\n\n      let conditionsData = this.permitConditionsTabComponent.getValue();\n      conditionsData = conditionsData ? conditionsData : new PermitConditionsPageModel();\n      conditionsData = this.permitConditionsTabComponent.getValue();\n      this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, conditionsData);\n      permitFormPageData.conditions = this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS).conditions; // geometry\n\n      let mapPageDataDataModel = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP);\n      permitFormPageData.geometry = {\n        type: ElginMapUtility.getGeometryTypeForRequest(mapPageDataDataModel.geometry.type),\n        coordinates: mapPageDataDataModel.geometry.cordinateNorthingsEastings\n      }; // permitFormPageData.locationDescription = mapPageDataDataModel.nsgDetails.worksLocationDescription;\n      // permitFormPageData.locationDetails = mapPageDataDataModel.nsgDetails.location_details;\n      // permitFormPageData.postCode = mapPageDataDataModel.nsgDetails.postcode;\n      // permitFormPageData.usrn = mapPageDataDataModel.nsgDetails.usrn;\n      // permitFormPageData.roadCategory = mapPageDataDataModel.nsgDetails.road_category;\n      // permitFormPageData.roadType = mapPageDataDataModel.nsgDetails.roadType;\n      // permitFormPageData.specialDesignations = mapPageDataDataModel.nsgDetails.special_designations;\n      // permitFormPageData.trafficSensitiveFlag = mapPageDataDataModel.nsgDetails.traffic_sensitive;\n      // this.createPermitFormDataModel.mode = FormModeConstant.CHANGE_REQUEST_CREATE;\n      // this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitFormPageData);\n      // this.createPermitFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM));\n      // this.elginMapDataModel.mode = FormModeConstant.VIEW;\n      // this.nextStep();\n\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      let data = this.getPermitRequestBody(GLOBAL_PARAM_MODE.PERMIT_VIEW);\n\n      if (this.alterationApplicationId != null) {\n        console.log(\"data\", data);\n\n        this._serverApi.put(`/api/v1/applications/${applicationId}/alterations/${this.alterationApplicationId}`, data).subscribe(response => {\n          try {\n            this.hideSpinner(); //  this.page_refreshData();\n\n            this.globalParameters.set(\"alterationApplicationId\", response.applicationId);\n            this.dataDiffA3DataModel.globalParameters.set(\"alterationApplicationId\", response.applicationId);\n            this.nextStep();\n          } catch (e) {\n            this.hideSpinner();\n          }\n        }, error => {\n          this.hideSpinner();\n          console.log('Permit save as draft error :');\n        });\n      } else if (this.alterationApplicationId == null) {\n        this.showSpinner();\n\n        this._serverApi.post(`/api/v1/applications/${applicationId}/alterations`, data).subscribe(response => {\n          try {\n            this.hideSpinner();\n\n            if (response && response.alterationApplicationId) {\n              this.globalParameters.set(\"alterationApplicationId\", response.alterationApplicationId);\n              this.alterationApplicationId = response.alterationApplicationId; //\n\n              if (actionKey == 'submit-change-request') {\n                this.dataDiffA3DataModel.globalParameters.set(\"alterationApplicationId\", response.alterationApplicationId);\n                this.page_refreshData();\n                this.nextStep();\n              } else {\n                this.page_refreshData();\n                this.dialogModel.visible = false;\n                this.createPermitStepNo = 1;\n                this.navigateToCR();\n              }\n            }\n          } catch (e) {\n            this.hideSpinner();\n          }\n        }, error => {\n          this.hideSpinner();\n          console.log('Permit save as draft error :');\n        });\n      }\n    }\n\n    nextButtonPermitFormClick() {\n      if (!this.isviewchangereqmode) {\n        let valid = this.createPermitFormComponent.validate();\n\n        if (!valid) {\n          return;\n        }\n      } // conditions\n\n\n      this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS));\n      this.setPermitFormDataToPageData(GLOBAL_PARAM_MODE.PERMIT_VIEW);\n      this.nextStep(); // let applicationId = this.globalParameters.get(\"applicationId\");\n      // let data = this.createPermitFormComponent.getValue();\n      // this.showSpinner();\n      // this._serverApi.post<any, any>(`/api/v1/applications/${applicationId}/alterations`, data).subscribe(\n      //   response => {\n      //     try {\n      //       this.hideSpinner();\n      //       if (response && response.alterationApplicationId) {\n      //         this.globalParameters.set(\"alterationApplicationId\", response.alterationApplicationId);\n      //         this.dataDiffA3DataModel.globalParameters.set(\"alterationApplicationId\", response.alterationApplicationId);\n      //         this.page_refreshData();\n      //         this.nextStep();\n      //       }\n      //     } catch (e) {\n      //       this.hideSpinner();\n      //     }\n      //   }, error => {\n      //     this.hideSpinner();\n      //     console.log('Permit save as draft error :');\n      //   }\n      // )\n    }\n\n    backButtonPermitFormClick() {\n      let conditions = this.permitConditionsTabComponent.getValue();\n      conditions = conditions ? conditions : [];\n      this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, conditions); // // conditions\n      // this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS));\n\n      this.backStep();\n    }\n\n    backButtonNewPermitConditionClick() {\n      let conditions = this.permitConditionsTabComponent.getValue();\n      conditions = conditions ? conditions : [];\n      this.globalParameters.set(GLOBAL_PARAM_KEY.NEW_PERMIT_CONDITIONS, conditions);\n      this.createPermitFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.NEW_PERMIT_PERMIT_FORM));\n      this.backStepNewPermit();\n    }\n\n    onConfirmChangeRequest() {\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      let alterationApplicationId = this.globalParameters.get(\"alterationApplicationId\");\n      this.showSpinner();\n\n      this._serverApi.post(`/api/v1/applications/${applicationId}/alterations/${alterationApplicationId}/submission`, null).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            this.page_refreshData();\n            this.onAppDialogClose(null);\n            this.selectedTabIndex = 2;\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log('Permit save as draft error :');\n      });\n\n      this.globalParameters.set(\"alterationApplicationId\", null);\n    }\n\n    hasPermitActionPermission(actionName) {\n      return this._appRepoHelperService.hasPermitActionPermission(actionName, this.permitOverviewDataModel.data.actions);\n    }\n\n    page_onViewChangeReq(data) {\n      //  console.log(\"data of view change req\",data);\n      this.alterationApplicationId = null; //  this.globalParameters.set(\"alterationApplicationId\", data.dataContext.applicationId);\n\n      this.permitConfirmationDialogMode = PERMIT_CONFIRMATION_DIALOG.CHANGE_REQUEST; // let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM);\n      // this.permitProposedVariationCost = permitFormPageData.proposed_variation_cost;\n\n      this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, null);\n      let applicationId = data.dataContext.applicationId; // this.showSpinner();\n\n      this._serverApi.get(`/api/v1/applications/${applicationId}`).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            console.log(\"response view change reuest\", response);\n            let permitresponse = this.convertPermitDetailsResponse(response);\n            console.log(\"response permit view on change\", permitresponse);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, permitresponse.mapPageData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, permitresponse.conditionPageData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitresponse.permitFormPageData); // console.log(\"response permit view on change\",permitresponse)\n            // this.permitDrawMapDataModel.data = new PermitDrawMapDetails();\n            // this.permitDrawMapDataModel.mode = FormModeConstant.VIEW;\n            // // this.globalParameters.set('applicationId', applicationId);\n            // this.dialogModel = new DialogModel();\n            // this.dialogModel.width = '80%';\n            // set eleginMap Mode\n\n            this.elginMapDataModel.mode = FormModeConstant.VIEW;\n            this.elginMapDataModel.isSelfDataLoad = true;\n            this.elginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP)); // set eleginMap Mode\n\n            this.viewElginMapDataModel.mode = FormModeConstant.VIEW;\n            this.viewElginMapDataModel.isSelfDataLoad = true;\n            this.permitMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP));\n            this.permitMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM));\n            this.viewElginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP));\n            let mapcord = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP);\n            console.log(\"map cord\", mapcord); // conditions\n\n            this.permitConditionsDataModel.mode = FormModeConstant.VIEW;\n            this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS));\n            let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM);\n            permitFormPageData = permitFormPageData ? permitFormPageData : new PermitFormPageData(); // geometry\n\n            let mapPageDataDataModel = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP);\n            permitFormPageData.geometry = {\n              type: ElginMapUtility.getGeometryTypeForRequest(mapPageDataDataModel.geometry.type),\n              coordinates: mapPageDataDataModel.geometry.cordinateNorthingsEastings\n            }; //        mapPageDataDataModel.nsgDetails = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP).nsgDetails.special_designations;\n            //       let specildeg= this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP).nsgDetails.special_designations;\n            // console.log(\"specildeg\",specildeg)\n\n            this.createPermitFormDataModel.mode = FormModeConstant.VIEW;\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitFormPageData);\n            this.createPermitFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM));\n            this.elginMapDataModel.mode = FormModeConstant.VIEW; // this.nextStep();\n            // this.RefreshData()\n\n            this.permitMapConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.createPermitStepNo = 2;\n            this.dialogModel.visible = true;\n            this.dialogModel.header = \"View Change Request\";\n            this.dialogModel.width = \"80%\";\n            this.isviewchangereqmode = true;\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log('view Permit  error :');\n      });\n    }\n\n    page_onEditChangeReq(data) {\n      //  console.log(\"data of view change req\",data);\n      this.isviewchangereqmode = false; // this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, null);\n      //  this.globalParameters.set(\"applicationId\", data.dataContext.applicationId);\n      //  this.onEditChangeRequest();\n\n      this.alterationApplicationId = data.dataContext.applicationId;\n      this.permitConfirmationDialogMode = PERMIT_CONFIRMATION_DIALOG.CHANGE_REQUEST;\n      let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM);\n      this.permitProposedVariationCost = permitFormPageData.proposed_variation_cost;\n      this.createPermitStepNo = 1;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Edit Change Request\";\n      this.dialogModel.width = \"80%\";\n    }\n\n    page_onTrackChangeReqChanges(data) {\n      this.dataDiffA3DataModel.globalParameters.set(\"alterationApplicationId\", data.dataContext.applicationId);\n      this.dialogModel.visible = true;\n      this.changeRequestDialogMode = CHANGE_REQUEST_DIALOG.DIFF;\n      this.dialogModel.header = \"Changes\";\n      this.dialogModel.width = \"80%\";\n    } //delete rec\n\n\n    page_onDeleteReqChanges(data) {\n      this.globalParameters.set(\"alternationIdForDelete\", data.dataContext.alternationId);\n      this.CRReferenceNumber = data.dataContext.CRReferenceNumber;\n      this.dialogConfirm.visible = true;\n      this.dialogConfirm.header = \"Delete Change Request\";\n      this.dialogConfirm.width = \"40%\";\n      this.dialogConfirm.minWidth = '575px';\n      this.isworkextensionconfirm = false;\n    }\n\n    confirmDelete() {\n      this.showSpinner();\n      let applicationIdForDelete = this.globalParameters.get(\"applicationId\");\n      let alternationIdForDelete = this.globalParameters.get('alternationIdForDelete');\n\n      this._serverApiBase.delete(`/api/v1/applications/${applicationIdForDelete}/alterations/${alternationIdForDelete}`).subscribe(response => {\n        try {\n          if (response) {\n            this._notificationService.success(\"Change Request has been deleted successfully\");\n\n            this.dialogConfirm.visible = false;\n            this.hideSpinner();\n            this.page_refreshData();\n          }\n        } catch (e) {\n          this._notificationService.error(e);\n\n          this.dialogConfirm.visible = false;\n          this.hideSpinner();\n        }\n      }, error => {\n        this.dialogConfirm.visible = false;\n        this.hideSpinner();\n      });\n    } //reinstatement delete\n\n\n    page_onDeleteReinstatementClicked(data) {\n      this.globalParameters.set(\"siteIdToDelete\", data.dataContext.SiteId);\n      this.SiteIdToBeDelete = data.dataContext.SiteId;\n      this.SiteNumberToBeDelete = data.dataContext.SiteNumber;\n      this.dialogDeleteReinstatement.visible = true;\n      this.dialogDeleteReinstatement.header = \"Delete Reinstatement\";\n      this.dialogDeleteReinstatement.width = \"40%\";\n      this.dialogDeleteReinstatement.minWidth = '575px';\n    }\n\n    confirmDeleteReinstatement() {\n      // this.dialogDeleteReinstatement.visible = false;\n      this.showSpinner();\n      let applicationIdToDelete = this.globalParameters.get(\"applicationId\");\n      let siteIdToDelete = this.globalParameters.get('siteIdToDelete');\n\n      this._serverApiBase.delete(`/api/v1/applications/${applicationIdToDelete}/sites/${siteIdToDelete}`).subscribe(response => {\n        // try {\n        // if (response) {\n        this._notificationService.success(\"Reinstatement has been deleted successfully\");\n\n        this.dialogDeleteReinstatement.visible = false;\n        this.hideSpinner();\n        this.permitReinstatementConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA); // }\n        // } catch (e) {\n        // this._notificationService.error(e);\n        // this.dialogDeleteReinstatement.visible = false;\n        // this.hideSpinner();\n        // }\n      }, error => {\n        this.dialogDeleteReinstatement.visible = false;\n        this.hideSpinner();\n      });\n    }\n\n    page_onViewPermitFpnChanges(data) {\n      this.setViewFPNData(data);\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Penalty Notice Details\";\n      this.dialogModel.width = \"80%\";\n    }\n\n    setViewFPNData(data) {\n      this.viewPermitFpnDataModel.globalParameters.set('applicationId', this.globalParameters.get(\"applicationId\"));\n      this.viewPermitFpnDataModel.data = data.dataContext;\n      this.viewPermitFpnDataModel.data.Accountability = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).accountability;\n      this.viewPermitFpnDataModel.data.IssuingAuthority = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).highway_authority_name;\n      this.viewPermitFpnDataModel.data.WorksPromoter = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).promoter_organisation;\n      this.viewPermitFpnDataModel.data.PromoterPrefix = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).promoter_prefix;\n      this.viewPermitFpnDataModel.data.StreetName = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).street_name;\n      this.viewPermitFpnDataModel.data.Town = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).town;\n      this.viewPermitFpnDataModel.data.PostCode = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).postcode;\n      this.viewPermitFpnDataModel.data.USRN = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).usrn;\n      this.viewPermitFpnDataModel.data.Cost = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).permit_cost;\n      this.viewPermitFpnDataModel.data.WorkStream = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).department_name;\n      this.viewPermitFpnDataModel.data.AreaName = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM).area_name;\n    }\n\n    page_onViewFPNUpdate() {\n      this.onAppDialogClose(null);\n      this.permitFpnTabComponent.wgRefreshData();\n    }\n\n    page_onViewPermitComments(data) {\n      this.setViewCommentsData(data);\n      this.isViewCommentTrue = true;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"View and Action Comment\";\n      this.dialogModel.width = \"80%\";\n    }\n\n    setViewCommentsData(data) {\n      this.viewPermitCommentsDataModel.globalParameters.set('applicationId', this.globalParameters.get(\"applicationId\"));\n      this.viewPermitCommentsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM));\n      this.viewPermitCommentsDataModel.data.commentsDetails = data;\n    }\n\n    bindViewPermitCommentConfigModel() {\n      let events = [[\"onReadCheckSubmitClick\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onCommentCheckSubmit\"\n        }]\n      }]], [\"onViewCommentCancelClick\", [{\n        \"action\": \"executePageMethod\",\n        \"params\": [{\n          \"methodname\": \"page_onCommentCancel\"\n        }]\n      }]]];\n      this.addEventListener(events, this.viewPermitCommentsDataModel, this.viewPermitCommentConfigModel);\n    }\n\n    page_onCommentCheckSubmit(data) {\n      let appId = data.dataContext.applicationId;\n      let commentId = data.dataContext.commentsDetails.commentId;\n      this.pageAPIMethodPut(`/api/v1/applications/${appId}/comments/${commentId}/read`, null).then(res => {\n        this.isViewCommentTrue = false;\n        this.dialogModel.visible = false; // this.page_refreshData();\n\n        this.permitCommentsConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n        this.selectedTabIndex = 8;\n      }, error => {\n        this.isViewCommentTrue = false;\n        this.dialogModel.visible = false;\n      });\n    }\n\n    page_onCommentCancel() {\n      this.isViewCommentTrue = false;\n      this.dialogModel.visible = false;\n    }\n\n    page_onCancelPermitActionBtnClick(action) {\n      this.onAppDialogClose(null);\n\n      if (action) {\n        this.page_refreshData();\n      }\n    }\n\n    page_onProgressToPA() {\n      this.permitConfirmationDialogMode = PERMIT_CONFIRMATION_DIALOG.PROGRESS_TO_PA;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Progress to PA\";\n      this.dialogModel.width = \"500px\";\n      this.dialogModel.minWidth = \"500px\";\n      this.validateAndShowProgressToPAWarning();\n    }\n\n    validateAndShowProgressToPAWarning() {\n      this.progressToPAWarningMessage = \"\";\n      let permitFormData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM);\n      let proposedStartDate = permitFormData.proposed_start_date;\n      let permitStatus = permitFormData.status;\n      let workType = permitFormData.work_category;\n\n      if (workType == WORK_TYPE.PAA && permitStatus == PERMIT_STATUS.GRANTED && new Date(proposedStartDate).getDate() - new Date().getDate() <= 10) {\n        this.progressToPAWarningMessage = `This action is requesting the progression of works ahead of the permit lead-time of 10 days. This action may not be approved immediately by the Highway Authority`;\n      }\n    }\n\n    onConfirmProgressToPA() {\n      let appId = this.globalParameters.get('applicationId');\n      this.pageAPIMethodPost(`/api/v1/applications/action/${appId}/progress-to-pa`, null).then(resp => {\n        this.onAppDialogClose(null);\n        this.page_refreshData();\n\n        let appFilterModel = this._appRepoService.appRepo.appGlobalPersistantData.get(GLOBAL_PARAM_KEY.APP_FILTER);\n\n        appFilterModel.persistantfilterType = FILTER_TYPE.ADVANCE_FILTER;\n        PersistantAdvanceFilterModel.reset(appFilterModel.persistantAdvanceFilterModel);\n        this.resetAdvanceFilter().then(() => {\n          this._location.back();\n        });\n      });\n    }\n\n    resetAdvanceFilter() {\n      return new Promise((resolve, reject) => {\n        let appFilterModel = this._appRepoService.appRepo.appGlobalPersistantData.get(GLOBAL_PARAM_KEY.APP_FILTER);\n\n        appFilterModel.persistantfilterType = FILTER_TYPE.ADVANCE_FILTER;\n        PersistantAdvanceFilterModel.reset(appFilterModel.persistantAdvanceFilterModel);\n        resolve(null);\n      });\n    }\n\n    page_refreshData() {\n      this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, null);\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      this.pageAPIMethodGet(`/api/v1/applications/${applicationId}`).then(response => {\n        try {\n          if (response) {\n            // let conditionData = this.convertToConditionPageData(response);\n            // this.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, conditionData);\n            // this.globalParameters.set(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM, response);\n            let permitresponse = this.convertPermitDetailsResponse(response);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.VIEW_ELGIN_MAP, permitresponse.mapPageData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.VIEW_CONDITIONS, permitresponse.conditionPageData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM, response);\n            this.globalParameters.set('applicationId', applicationId);\n            let navigationData = new Map();\n            navigationData.set('applicationId', this.globalParameters.get('applicationId'));\n            navigationData.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_ELGIN_MAP));\n            navigationData.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_CONDITIONS));\n            navigationData.set(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM));\n\n            this._sessionStorageService.setNavigationData(navigationData);\n\n            this.permitConditionsDataModel.mode = FormModeConstant.VIEW;\n            this.permitChangeReqDataModel.globalParameters.set('applicationId', this.globalParameters.get('applicationId'));\n            this.permitChangeReqConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitConditionsDataModel.globalParameters.set('applicationId', this.globalParameters.get('applicationId'));\n            this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS));\n            this.permitConditionsConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitOverviewDataModel.globalParameters.set(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM));\n            this.permitOverviewConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitFPNDataModel.globalParameters.set('applicationId', this.globalParameters.get('applicationId'));\n            this.permitFPNConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitInspectionListDataModel.globalParameters.set('applicationId', this.globalParameters.get('applicationId'));\n            this.permitInspectionListConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitImagesAndFilesDataModel.globalParameters.set('applicationId', this.globalParameters.get('applicationId'));\n            this.permitImagesAndFilesConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitReinstatementDataModel.globalParameters.set('applicationId', this.globalParameters.get('applicationId'));\n            this.permitReinstatementConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitCommentsDataModel.globalParameters.set('applicationId', this.globalParameters.get('applicationId'));\n            this.permitCommentsConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitActivityLogModel.globalParameters.set('applicationId', this.globalParameters.get('applicationId'));\n            this.permitActivityLogConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.permitChangeReqConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n          }\n        } catch (e) {}\n      });\n    }\n\n    page_onViewFPNOkClick() {\n      this.onAppDialogClose(null);\n    }\n\n    page_onShowCostSplitClick() {\n      let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM); //  this.permitArrayItem.length=0;\n\n      let appId = this.globalParameters.get('applicationId');\n      this.showSpinner();\n\n      this._serverApi.get(`/api/v1/cost/get-works-cost/${appId}`).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            this.permitArrayItem.length = 0;\n            response.forEach(item => {\n              this.permitArrayItem.push({\n                key: item.display_code,\n                value1: item.display_estimated_cost,\n                value2: item.display_discounted_cost\n              });\n            });\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log('Permit save as draft error :');\n      }); //  this.permitArrayItem.push({\n      //   key: 'Permit Cost',\n      //   value: permitFormPageData.permit_cost\n      //  })\n      //  this.permitArrayItem.push({\n      //   key: 'PAA Cost',\n      //   value: permitFormPageData.paa_cost\n      //  })\n      //  this.permitArrayItem.push({\n      //   key: 'Variation Cost',\n      //   value: permitFormPageData.variation_cost\n      //  })\n      //  this.permitArrayItem.push({\n      //   key: 'FPN Cost',\n      //   value: permitFormPageData.fpn_cost\n      //  })\n      //  this.permitArrayItem.push({\n      //   key: 'Total Cost',\n      //   value: permitFormPageData.total_cost\n      //  })\n\n\n      this.permitCostSplit = {\n        permit_cost: permitFormPageData.permit_cost,\n        paa_cost: permitFormPageData.paa_cost,\n        variation_cost: permitFormPageData.variation_cost,\n        fpn_cost: permitFormPageData.fpn_cost,\n        total_cost: permitFormPageData.total_cost\n      };\n      this.permitConfirmationDialogMode = this.permitDialogModeCostSplit;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Cost Details\";\n      this.dialogModel.width = \"500px\";\n      this.dialogModel.minWidth = \"500px\";\n    }\n\n    onCostDetailsDialogClose() {\n      this.permitConfirmationDialogMode = this.permitDialogModeCostSplit;\n      this.dialogModel.visible = false;\n    }\n\n    page_onNewPermitClick() {\n      this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, null);\n      let conditions = {\n        conditions: []\n      };\n      this.globalParameters.set(GLOBAL_PARAM_KEY.NEW_PERMIT_CONDITIONS, conditions);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.NEW_PERMIT_PERMIT_FORM, null);\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      this.globalParameters.set(\"newPermitApplicationId\", 0);\n      this.showSpinner();\n\n      this._serverApi.get(`/api/v1/applications/${applicationId}`).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            let permitresponse = this.convertPermitDetailsResponse(response);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, permitresponse.mapPageData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.NEW_PERMIT_CONDITIONS, permitresponse.conditionPageData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.NEW_PERMIT_PERMIT_FORM, permitresponse.permitFormPageData); // set eleginMap Mode\n\n            this.elginMapDataModel.mode = FormModeConstant.EDIT;\n            this.elginMapDataModel.isSelfDataLoad = true;\n            this.elginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP)); // conditions\n\n            this.permitConditionsDataModel.mode = FormModeConstant.EDIT;\n            this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.NEW_PERMIT_CONDITIONS));\n            let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.NEW_PERMIT_PERMIT_FORM);\n            permitFormPageData = permitFormPageData ? permitFormPageData : new PermitFormPageData(); // geometry\n\n            let mapPageDataDataModel = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP);\n            permitFormPageData.geometry = {\n              type: ElginMapUtility.getGeometryTypeForRequest(mapPageDataDataModel.geometry.type),\n              coordinates: mapPageDataDataModel.geometry.cordinateNorthingsEastings\n            };\n            this.createPermitFormDataModel.mode = FormModeConstant.NEW_PHASE_CREATE;\n            this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitFormPageData);\n            this.createPermitFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.NEW_PERMIT_PERMIT_FORM));\n            this.elginMapDataModel.mode = FormModeConstant.VIEW;\n            this.permitConfirmationDialogMode = this.permitConfirmDialogModeNewPermit;\n            this.createPermitStepNo = 1;\n            this.dialogModel.visible = true;\n            this.dialogModel.header = \"Create New Phase\";\n            this.dialogModel.width = \"80%\";\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log('Permit save as draft error :');\n      });\n    }\n\n    page_onWorkExtensionClick() {\n      let permitFormData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM);\n      this.workExtensionFormGroup.controls.proposedEndDate.setValue(permitFormData === null || permitFormData === void 0 ? void 0 : permitFormData.proposed_end_date);\n      this.permitConfirmationDialogMode = this.permitConfirmDialogModeWorkExtension;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Work Extension Request\";\n      this.dialogModel.width = \"400px\";\n      this.dialogModel.minWidth = \"400px\";\n    }\n\n    page_onViewInspectionDetails(data) {\n      this.setInspectionDetailsData(data.dataContext);\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Inspection Details\";\n      this.dialogModel.width = \"80%\";\n    }\n\n    page_onRegisterClick() {\n      this.dialogOnRegister.visible = true;\n      this.dialogOnRegister.header = \"Register Site\";\n      this.dialogOnRegister.minWidth = \"400px\";\n    }\n\n    closeDialogOnRegister() {\n      this.dialogOnRegister.visible = false;\n    }\n\n    navigateToReinstatement() {\n      this.dialogOnRegister.visible = false;\n      this.selectedTabIndex = 7;\n    }\n\n    navigateToCR() {\n      this.selectedTabIndex = 2;\n    }\n\n    setInspectionDetailsData(data) {\n      this.viewPermitInspectionDataModel.data = data;\n    }\n\n    dialogContentScrollTop() {\n      this.dialogComponent.scrollTop();\n    }\n\n    setPermitFormDataToPageData(globalParamsMode) {\n      const GLOBAL_PARAM_KEY_PERMIT_FORM = globalParamsMode == GLOBAL_PARAM_MODE.PERMIT_VIEW ? GLOBAL_PARAM_KEY.PERMIT_FORM : GLOBAL_PARAM_KEY.NEW_PERMIT_PERMIT_FORM;\n      let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY_PERMIT_FORM);\n      permitFormPageData = permitFormPageData ? permitFormPageData : new PermitFormPageData();\n      let permitFormData = this.createPermitFormComponent.getValue(); // geometry\n\n      let mapPageDataDataModel = this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP);\n      permitFormPageData.geometry = {\n        type: ElginMapUtility.getGeometryTypeForRequest(mapPageDataDataModel.geometry.type),\n        coordinates: mapPageDataDataModel.geometry.cordinateNorthingsEastings\n      };\n      mapPageDataDataModel.nsgDetails.special_designations.forEach(designation => {\n        if (designation.isChecked) {\n          let specialDesignation = {\n            street_special_desig_code: designation.street_special_desig_code,\n            special_desig_location_text: designation.special_desig_location_text,\n            special_desig_description: designation.special_desig_description,\n            special_desig_start_time: designation.special_desig_start_time,\n            special_desig_end_time: designation.special_desig_end_time,\n            special_desig_periodicity_code: designation.special_desig_periodicity_code\n          };\n          permitFormPageData.specialDesignations.push(specialDesignation);\n        }\n      });\n      permitFormPageData.orgId = permitFormData.org_id;\n      permitFormPageData.departmentId = permitFormData.department_id;\n      permitFormPageData.accountability = permitFormData.accountability;\n      permitFormPageData.workReferenceNumber = permitFormData.work_reference_number;\n      permitFormPageData.highwayAuthorityId = permitFormData.highway_authority_id;\n      permitFormPageData.postCode = permitFormData.postcode;\n      permitFormPageData.usrn = permitFormData.usrn;\n      permitFormPageData.roadCategory = permitFormData.road_category;\n      permitFormPageData.locationDescription = permitFormData.location_description;\n      permitFormPageData.proposedStartDate = permitFormData.proposed_start_date;\n      permitFormPageData.proposedEndDate = permitFormData.proposed_end_date;\n      permitFormPageData.trafficSensitiveFlag = permitFormData.traffic_sensitive_flag;\n      permitFormPageData.secondaryContact = permitFormData.secondary_contact;\n      permitFormPageData.secondaryContactNumber = permitFormData.secondary_contact_number;\n      permitFormPageData.locationTypes = permitFormData.location_types;\n      permitFormPageData.workCategory = permitFormData.work_category;\n      permitFormPageData.workDescription = permitFormData.work_description;\n      permitFormPageData.activityType = permitFormData.activity_type;\n      permitFormPageData.trafficManagementType = permitFormData.traffic_management_type;\n      permitFormPageData.closeFootway = permitFormData.close_footway;\n      permitFormPageData.collaborativeWorkingFlag = permitFormData.collaborative_working_flag;\n      permitFormPageData.collaborationDetails = permitFormData.collaboration_details;\n      permitFormPageData.collaborativeWorks = permitFormData.collaborative_works;\n      permitFormPageData.collaborationType = permitFormData.collaboration_type;\n      permitFormPageData.excavationFlag = permitFormData.excavation_flag;\n      permitFormPageData.environmentalFlag = permitFormData.environmental_flag;\n      permitFormPageData.ttro_requiredFlag = permitFormData.ttro_required_flag;\n      permitFormPageData.projectReferenceNumber = permitFormData.project_reference_number;\n      permitFormPageData.laneRentalFlag = permitFormData.lane_rental_flag;\n      permitFormPageData.earlyStartPreApprovalFlag = permitFormData.early_start_pre_approval_flag;\n      permitFormPageData.earlyStartReason = permitFormData.early_start_reason;\n      permitFormPageData.preApprovalDetails = permitFormData.pre_approval_details;\n      permitFormPageData.preApprovalAuthoriser = permitFormData.pre_approval_authoriser;\n      permitFormPageData.locationDetails = permitFormData.location_details;\n      permitFormPageData.is_covid19_response = permitFormData.is_covid19_response;\n      permitFormPageData.environmental_flag = permitFormData.environmental_flag;\n      permitFormPageData.workstream_id = permitFormData.workstream_id;\n      permitFormPageData.contractor_id = permitFormData.contractor_id;\n      this.globalParameters.set(GLOBAL_PARAM_KEY_PERMIT_FORM, permitFormPageData);\n    }\n\n    getPermitRequestBody(globalParamsMode) {\n      var _a;\n\n      let data = {\n        \"org_id\": 200,\n        \"highway_authority_id\": 300,\n        \"department_id\": 999,\n        \"geometry\": {\n          \"type\": \"Polygon\",\n          \"coordinates\": [[[503294.847231123, 192583.873611111], [503280.147220442, 192531.140275998], [503286.058330366, 192530.440275998], [503301.613890669, 192581.462495846], [503294.847231123, 192583.873611111]]]\n        },\n        \"is_an_old_permit\": false,\n        \"street_name\": \"BATCHWORTH ROUNDABOUT\",\n        \"area_name\": \"\",\n        \"town\": \"RICKMANSWORTH\",\n        \"work_reference_number\": \"\",\n        \"usrn\": 40416588,\n        \"location_description\": \"Entrance to new Premier Inn -2\",\n        \"location_types\": [\"footway, carriageway\"],\n        \"road_category\": 1,\n        \"proposed_start_date\": \"2021-01-17T00:00:00.000Z\",\n        \"proposed_end_date\": \"2021-02-28T00:00:00.000Z\",\n        \"traffic_sensitive_flag\": false,\n        \"secondary_contact\": \"Stuart Monk\",\n        \"secondary_contact_number\": \"01543466711\",\n        \"secondary_contact_email\": \"gasnetworks@murphygroup.co.uk\",\n        // \"work_type\": \"planned\",\n        \"work_category\": \"standard\",\n        \"work_description\": \"New distribution main required\",\n        \"activity_type\": \"utility_repair_and_maintenance_works\",\n        \"traffic_management_type\": \"lane_closure\",\n        \"close_footway\": \"yes_provide_pedestrian_walkway\",\n        \"collaborative_working_flag\": false,\n        \"collaboration_details\": \"\",\n        \"collaborative_works\": \"\",\n        \"collaboration_type\": \"\",\n        \"excavation_flag\": false,\n        \"environmental_flag\": false,\n        \"ttro_required_flag\": false,\n        \"project_reference_number\": \"777771\",\n        \"conditions\": [{\n          \"condition\": \"NCT01a\",\n          \"comment\": \"\"\n        }, {\n          \"condition\": \"NCT04a\",\n          \"comment\": \"\"\n        }, {\n          \"condition\": \"NCT01b\",\n          \"comment\": \"\"\n        }],\n        \"special_designations\": [],\n        \"early_start_pre_approval_flag\": false,\n        \"early_start_reason\": \"It is not pre approved -2\",\n        \"lane_rental_flag\": false,\n        \"location_details\": \"Tredegar Park round about\"\n      };\n      const GLOBAL_PARAM_KEY_PERMIT_FORM = globalParamsMode == GLOBAL_PARAM_MODE.PERMIT_VIEW ? GLOBAL_PARAM_KEY.PERMIT_FORM : GLOBAL_PARAM_KEY.NEW_PERMIT_PERMIT_FORM;\n      const GLOBAL_PARAM_KEY_CONDITIONS = globalParamsMode == GLOBAL_PARAM_MODE.PERMIT_VIEW ? GLOBAL_PARAM_KEY.CONDITIONS : GLOBAL_PARAM_KEY.NEW_PERMIT_CONDITIONS;\n      let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY_PERMIT_FORM);\n      data.geometry.type = permitFormPageData.geometry.type ? permitFormPageData.geometry.type : [];\n      data.geometry.coordinates = permitFormPageData.geometry.coordinates ? permitFormPageData.geometry.coordinates : [];\n      data.location_description = permitFormPageData.locationDescription ? permitFormPageData.locationDescription : null;\n      data.location_details = permitFormPageData.locationDetails ? permitFormPageData.locationDetails : null;\n      data.highway_authority_id = permitFormPageData.highwayAuthorityId ? permitFormPageData.highwayAuthorityId : 0;\n      data.usrn = permitFormPageData.usrn ? permitFormPageData.usrn : null;\n      data.proposed_start_date = permitFormPageData.proposedStartDate ? permitFormPageData.proposedStartDate : null;\n      data.proposed_end_date = permitFormPageData.proposedEndDate ? permitFormPageData.proposedEndDate : null;\n      data.org_id = permitFormPageData.orgId ? permitFormPageData.orgId : 0;\n      data.department_id = permitFormPageData.departmentId ? permitFormPageData.departmentId : 0;\n      data.traffic_sensitive_flag = permitFormPageData.trafficSensitiveFlag ? permitFormPageData.trafficSensitiveFlag : false;\n      data.lane_rental_flag = permitFormPageData.laneRentalFlag ? permitFormPageData.laneRentalFlag : false;\n      data.excavation_flag = permitFormPageData.excavationFlag ? permitFormPageData.excavationFlag : false;\n      let conditions = this.globalParameters.get(GLOBAL_PARAM_KEY_CONDITIONS).conditions;\n      data.conditions = conditions ? conditions : [];\n      data.special_designations = permitFormPageData.specialDesignations ? permitFormPageData.specialDesignations : [];\n      data.project_reference_number = permitFormPageData.projectReferenceNumber ? permitFormPageData.projectReferenceNumber : 0;\n      data.road_category = permitFormPageData.roadCategory ? Number(permitFormPageData.roadCategory) : 0;\n      data.secondary_contact = permitFormPageData.secondaryContact ? permitFormPageData.secondaryContact : 0;\n      data.secondary_contact_number = permitFormPageData.secondaryContactNumber ? (_a = permitFormPageData.secondaryContactNumber) === null || _a === void 0 ? void 0 : _a.toString() : 0;\n      data.close_footway = permitFormPageData.closeFootway ? permitFormPageData.closeFootway : 0;\n      data.traffic_management_type = permitFormPageData.trafficManagementType ? permitFormPageData.trafficManagementType : 0;\n      data.work_description = permitFormPageData.workDescription ? permitFormPageData.workDescription : 0;\n      data.work_category = permitFormPageData.workCategory ? permitFormPageData.workCategory : 0;\n      data.postcode = permitFormPageData.postCode ? permitFormPageData.postCode : null;\n      data.accountability = permitFormPageData.accountability ? permitFormPageData.accountability : 0;\n      data.collaborative_working_flag = permitFormPageData.collaborativeWorkingFlag ? permitFormPageData.collaborativeWorkingFlag : false;\n      data.collaboration_details = permitFormPageData.collaborationDetails ? permitFormPageData.collaborationDetails : null;\n      data.collaborative_works = permitFormPageData.collaborativeWorks ? permitFormPageData.collaborativeWorks : null;\n      data.collaboration_type = permitFormPageData.collaborationType ? permitFormPageData.collaborationType : null;\n      data.activity_type = permitFormPageData.activityType ? permitFormPageData.activityType : null;\n      data.work_reference_number = permitFormPageData.workReferenceNumber;\n      data.location_types = permitFormPageData.locationTypes ? permitFormPageData.locationTypes : null;\n      data.ttro_required_flag = permitFormPageData.ttro_requiredFlag ? permitFormPageData.ttro_requiredFlag : false;\n      data.early_start_pre_approval_flag = permitFormPageData.earlyStartPreApprovalFlag;\n      data.early_start_reason = permitFormPageData.earlyStartReason;\n      data.pre_approval_authoriser = permitFormPageData.preApprovalAuthoriser;\n      data.pre_approval_details = permitFormPageData.preApprovalDetails;\n      data.environmental_flag = permitFormPageData.environmental_flag ? permitFormPageData.environmental_flag : false;\n      data.is_covid19_response = permitFormPageData.is_covid19_response ? permitFormPageData.is_covid19_response : false;\n      console.log('------------------------Final Data Create Permit-------------------');\n      console.log(data);\n      return data;\n    }\n\n    nextButtonNewPermitFormClick() {\n      let valid = this.createPermitFormComponent.validate();\n\n      if (!valid) {\n        return;\n      } // conditions\n\n\n      this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.NEW_PERMIT_CONDITIONS));\n      this.setPermitFormDataToPageData(GLOBAL_PARAM_MODE.NEW_PERMIT);\n      this.nextStepNewPermit();\n    }\n\n    newPermitSaveAsDraftClick() {\n      this.setNewPermitConditionsToGlobalParameters();\n      let data = this.getPermitRequestBody(GLOBAL_PARAM_MODE.NEW_PERMIT);\n      let newPermitApplicationId = this.globalParameters.get(\"newPermitApplicationId\");\n\n      if (newPermitApplicationId) {\n        this.showSpinner();\n\n        this._serverApi.put(`/api/v1/applications/${newPermitApplicationId}`, data).subscribe(response => {\n          this.hideSpinner();\n\n          try {\n            if (response && response.applicationId) {\n              this.globalParameters.set('newPermitApplicationId', response.applicationId);\n              this.dialogModel.visible = false;\n            }\n          } catch (e) {}\n        }, error => {\n          this.hideSpinner();\n          console.log('Permit save as draft error :');\n        });\n      } else {\n        this.showSpinner();\n\n        this._serverApi.post(\"/api/v1/applications\", data).subscribe(response => {\n          this.hideSpinner();\n\n          try {\n            if (response && response.applicationId) {\n              this.globalParameters.set('newPermitApplicationId', response.applicationId);\n              this.dialogModel.visible = false;\n            }\n          } catch (e) {}\n        }, error => {\n          this.hideSpinner();\n          console.log('Permit save as draft error :');\n        });\n      }\n    }\n\n    nextButtonDrawMapClick() {\n      // map page details\n      let mapPageDataDataModel = new MapPageDataDataModel();\n      mapPageDataDataModel.geometry = this.elginmapComponent.getValue();\n      let temobj = this.permitMapDesignationTabComponent.getValue(); // mapPageDataDataModel.nsgDetails = this.permitMapDesignationTabComponent.getValue();\n\n      mapPageDataDataModel.nsgDetails.special_designations.length = 0;\n      temobj.special_designations.forEach(designation => {\n        if (designation.isChecked) {\n          mapPageDataDataModel.nsgDetails.special_designations.push(designation);\n        }\n      });\n      this.isdesignationset = mapPageDataDataModel.nsgDetails.special_designations.length;\n      this.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, mapPageDataDataModel); // let permitFormPageData: PermitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM);\n      // permitFormPageData = permitFormPageData ? permitFormPageData : new PermitFormPageData();\n      // // geometry\n      // permitFormPageData.geometry = {\n      //   type: ElginMapUtility.getGeometryTypeForRequest(mapPageDataDataModel.geometry.type),\n      //   coordinates: mapPageDataDataModel.geometry.cordinateNorthingsEastings\n      // }\n      // // let arrHighWayAuthorities = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.HIGHWAY_AUTORITIES.toString());\n      // // arrHighWayAuthorities.forEach((authority: any) => {\n      // //   if (authority.swaCode == mapPageDataDataModel.nsgDetails.authority_swa_code) {\n      // //     permitFormPageData.highwayAuthorityId = authority.authorityId;\n      // //   }\n      // // })\n      // permitFormPageData.locationDescription = mapPageDataDataModel.nsgDetails.worksLocationDescription;\n      // alert(permitFormPageData.locationDescription)\n      // permitFormPageData.locationDetails = mapPageDataDataModel.nsgDetails.location_details;\n      // permitFormPageData.postCode = mapPageDataDataModel.nsgDetails.postcode;\n      // permitFormPageData.usrn = mapPageDataDataModel.nsgDetails.usrn;\n      // permitFormPageData.roadCategory = mapPageDataDataModel.nsgDetails.road_category;\n      // permitFormPageData.roadType = mapPageDataDataModel.nsgDetails.roadType;\n      // permitFormPageData.specialDesignations = [];\n      // mapPageDataDataModel.nsgDetails.special_designations.forEach(designation => {\n      //   if (designation.isChecked) {\n      //     let specialDesignation = {\n      //       street_special_desig_code: designation.street_special_desig_code,\n      //       special_desig_location_text: designation.special_desig_location_text,\n      //       special_desig_description: designation.special_desig_description,\n      //       special_desig_start_time: designation.special_desig_start_time,\n      //       special_desig_end_time: designation.special_desig_end_time,\n      //       special_desig_periodicity_code: designation.special_desig_periodicity_code\n      //     }\n      //     permitFormPageData.specialDesignations.push(specialDesignation);\n      //   }\n      // });\n      // permitFormPageData.trafficSensitiveFlag = mapPageDataDataModel.nsgDetails.traffic_sensitive;\n      // this.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, permitFormPageData);\n      // this.createPermitFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.PERMIT_FORM));\n      // this.elginMapDataModel.mode = FormModeConstant.VIEW;\n      // this.createPermitFormDataModel.mode = FormModeConstant.CHANGE_REQUEST_CREATE;\n\n      this.nextStep(); // this.onChangeRequest();\n      // this.createPermitStepNo = 3;\n      // this.dialogModel.header = this.isCreatePermitModeCreate ? this.arrCreatePermitDialogTitle[this.createPermitStepNo - 1] : this.arrEditPermitDialogTitle[this.createPermitStepNo - 1];\n\n      this.dialogContentScrollTop();\n    }\n\n    setNewPermitConditionsToGlobalParameters() {\n      let conditionsData = this.permitConditionsTabComponent.getValue();\n      conditionsData = conditionsData ? conditionsData : new PermitConditionsPageModel();\n      conditionsData = this.permitConditionsTabComponent.getValue();\n      this.globalParameters.set(GLOBAL_PARAM_KEY.NEW_PERMIT_CONDITIONS, conditionsData);\n    }\n\n    appDialogClose() {\n      // this.page_refreshData();\n      this.onAppDialogClose(null);\n      this.isviewchangereqmode = false;\n    }\n\n    newPermitSubmitClick() {\n      this.setNewPermitConditionsToGlobalParameters();\n      let data = this.getPermitRequestBody(GLOBAL_PARAM_MODE.NEW_PERMIT);\n      let newPermitApplicationId = this.globalParameters.get(\"newPermitApplicationId\");\n\n      if (newPermitApplicationId) {\n        this.showSpinner();\n\n        this._serverApi.put(`/api/v1/applications/${newPermitApplicationId}`, data).subscribe(response => {\n          this.hideSpinner();\n\n          try {\n            if (response && response.applicationId) {\n              this.globalParameters.set('newPermitApplicationId', response.applicationId);\n              this.setGlobalParams(this.summaryDataModel);\n              this.summaryDataModel.globalParameters.set('applicationId', response.applicationId);\n              this.nextStepNewPermit();\n            }\n          } catch (e) {}\n        }, error => {\n          this.hideSpinner();\n          console.log('Permit save as draft error :');\n        });\n      } else {\n        this.showSpinner();\n\n        this._serverApi.post(\"/api/v1/applications\", data).subscribe(response => {\n          this.hideSpinner();\n\n          try {\n            if (response && response.applicationId) {\n              this.globalParameters.set('newPermitApplicationId', response.applicationId);\n              this.setGlobalParams(this.summaryDataModel);\n              this.summaryDataModel.globalParameters.set('applicationId', response.applicationId);\n              this.nextStepNewPermit();\n            }\n          } catch (e) {}\n        }, error => {\n          this.hideSpinner();\n          console.log('Permit save as draft error :');\n        });\n      }\n    }\n\n    backButtonNewPermitConfirmSubmitClick() {\n      this.permitConditionsDataModel.globalParameters.set(GLOBAL_PARAM_KEY.CONDITIONS, this.globalParameters.get(GLOBAL_PARAM_KEY.NEW_PERMIT_CONDITIONS));\n      this.backStepNewPermit();\n    }\n\n    newPermitConfirm() {\n      let newPermitApplicationId = this.globalParameters.get('newPermitApplicationId');\n\n      if (newPermitApplicationId) {\n        this._serverApi.post(\"/api/v1/applications/\" + newPermitApplicationId + \"/submission\", null).subscribe(submitresp => {\n          try {\n            if (submitresp && submitresp.permit_reference_number) {\n              this.permitConfirmationDataModel.globalParameters.set('applicationId', this.globalParameters.get('newPermitApplicationId'));\n              this.nextStepNewPermit();\n            }\n          } catch (e) {}\n        }, err => {});\n      }\n    }\n\n    submissionConfirmSaveNewPermitAsDraft() {\n      this.dialogModel.visible = false;\n      this.createPermitStepNo = 1;\n    }\n\n    onNewPermitViewClick() {\n      let newPermitApplicationId = this.globalParameters.get('newPermitApplicationId');\n      this.globalParameters.set(\"applicationId\", newPermitApplicationId);\n      this.dialogModel.visible = false;\n      this.createPermitStepNo = 1;\n      this.page_refreshData();\n    }\n\n    onNewPermitViewPermitListClick() {\n      this._location.back();\n    }\n\n    onPermitActionClick(action) {\n      if (action === PERMIT_ACTIONS_CONFIG.START) {\n        this.validateStartPermit();\n      } else if (action === PERMIT_ACTIONS_CONFIG.STOP) {\n        this.validateStopPermit();\n      }\n    }\n\n    validateStopPermit() {\n      let permitFormData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM);\n      let workType = permitFormData.work_category;\n      let workStatus = permitFormData.work_status;\n      let permitStatus = permitFormData.status;\n\n      if (new Date(permitFormData.proposed_end_date) < new Date()) {\n        this.stopPermitWarningMessage = \"Note that you are about to stop the permit later than the permit's proposed end date. Please note that this permit is liable to a fine from the Highway Authority\";\n      } else if (workType == WORK_TYPE.MAJOR || workType == WORK_TYPE.MINOR || workType == WORK_TYPE.STANDARD) {\n        if (workStatus == WORK_STATUS.IN_PROGRESS) {\n          if (permitFormData.expected_end_date != null && new Date() > new Date(permitFormData.expected_end_date)) {\n            this.stopPermitWarningMessage = `Note that you are about to stop the permit later than the permit's proposed or expected end date. Please note that this permit is liable to a fine from the Highway Authority`;\n          }\n        }\n      } else {\n        this.stopPermitWarningMessage = \"\";\n      }\n    }\n\n    validateStartPermit() {\n      // this.trigger.closeMenu();\n      let permitFormData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM);\n      let workType = permitFormData.work_category;\n      let workStatus = permitFormData.work_status;\n      let permitStatus = permitFormData.status;\n\n      if (new Date(permitFormData.proposed_end_date) > new Date() && new Date() < new Date(permitFormData.proposed_start_date)) {\n        this.startPermitWarningMessage = `You are about to start a permit earlier than its proposed start date. You must have the necessary approvals from the Highway Authority. Are you sure you want to proceed?`;\n      } // else if(new Date(permitFormData.proposed_end_date) < new Date()){\n      //   this.startPermitWarningMessage = 'You are starting a permit later than the permit proposed end date. This is not a valid action. Please raise a new permit for this work';\n      // }\n      else if (workType == WORK_TYPE.MAJOR || workType == WORK_TYPE.MINOR || workType == WORK_TYPE.STANDARD) {\n        if (workStatus == WORK_STATUS.PLANNED && permitStatus == PERMIT_STATUS.GRANTED) {\n          if (new Date(permitFormData.proposed_start_date) > new Date()) {\n            this.startPermitWarningMessage = `This permit's proposed start date is in the future and starting the permit early may result in fines from the Highway Authority.`;\n          } else if (permitFormData.validity_end_date != null && new Date() > new Date(permitFormData.validity_end_date)) {\n            this.startPermitWarningMessage = `This permit is being started outside the permit's validity period. Starting this permit now may result in fines from the Highway Authority.`;\n          } else if (new Date() > new Date(permitFormData.proposed_end_date)) {\n            if (permitFormData.validity_end_date <= new Date()) {\n              this.trigger.closeMenu();\n              let eventparams = new Object();\n              eventparams.dataContext = 'This permit is no longer valid as the proposed working dates have now passed. Please raise a new permit to start this work.';\n              this.page_showError(eventparams);\n            }\n          }\n        }\n      }\n    }\n\n    onSubmitWorkExtensionClick() {\n      this.dialogConfirm.visible = true;\n      this.isworkextensionconfirm = true;\n      this.dialogConfirm.header = \"Confirm Work Extension Request\";\n      this.dialogConfirm.width = \"40%\";\n      this.dialogConfirm.minWidth = '575px';\n    }\n\n    confirmsubmitworkextension(action) {\n      this.dialogConfirm.visible = false;\n      if (action == 'yes') this.onSubmitWorkExtensionBtnClick();\n    }\n\n    onSubmitWorkExtensionBtnClick() {\n      if (!this.workExtensionFormGroup.valid) return;\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      let data = this.getPermitRequestBodyForWorkExtension();\n      data.proposed_end_date = this.workExtensionFormGroup.controls.proposedEndDate.value ? this.workExtensionFormGroup.controls.proposedEndDate.value : null;\n      this.showSpinner();\n\n      this._serverApi.post(`/api/v1/applications/${applicationId}/alterations`, data).subscribe(response => {\n        try {\n          if (response && response.alterationApplicationId) {\n            this.globalParameters.set(\"alterationApplicationId\", response.alterationApplicationId);\n            let applicationId = this.globalParameters.get(\"applicationId\");\n            let alterationApplicationId = this.globalParameters.get(\"alterationApplicationId\");\n            this.showSpinner();\n\n            this._serverApi.post(`/api/v1/applications/${applicationId}/alterations/${alterationApplicationId}/submission`, null).subscribe(response => {\n              try {\n                this.hideSpinner();\n\n                if (response) {\n                  this.page_refreshData();\n                  this.dialogModel.visible = false;\n                }\n              } catch (e) {\n                this.hideSpinner();\n              }\n            }, error => {\n              this.hideSpinner();\n              console.log('Permit save as draft error :');\n            });\n          }\n\n          this.hideSpinner();\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log('Permit save as draft error :');\n      });\n    }\n\n    getPermitRequestBodyForWorkExtension() {\n      var _a;\n\n      let data = {\n        \"org_id\": 200,\n        \"highway_authority_id\": 300,\n        \"department_id\": 999,\n        \"geometry\": {\n          \"type\": \"Polygon\",\n          \"coordinates\": [[[503294.847231123, 192583.873611111], [503280.147220442, 192531.140275998], [503286.058330366, 192530.440275998], [503301.613890669, 192581.462495846], [503294.847231123, 192583.873611111]]]\n        },\n        \"is_an_old_permit\": false,\n        \"street_name\": \"BATCHWORTH ROUNDABOUT\",\n        \"area_name\": \"\",\n        \"town\": \"RICKMANSWORTH\",\n        \"work_reference_number\": \"\",\n        \"usrn\": 40416588,\n        \"location_description\": \"Entrance to new Premier Inn -2\",\n        \"location_types\": [\"footway, carriageway\"],\n        \"road_category\": 1,\n        \"proposed_start_date\": \"2021-01-17T00:00:00.000Z\",\n        \"proposed_end_date\": \"2021-02-28T00:00:00.000Z\",\n        \"traffic_sensitive_flag\": false,\n        \"secondary_contact\": \"Stuart Monk\",\n        \"secondary_contact_number\": \"01543466711\",\n        \"secondary_contact_email\": \"gasnetworks@murphygroup.co.uk\",\n        // \"work_type\": \"planned\",\n        \"work_category\": \"standard\",\n        \"work_description\": \"New distribution main required\",\n        \"activity_type\": \"utility_repair_and_maintenance_works\",\n        \"traffic_management_type\": \"lane_closure\",\n        \"close_footway\": \"yes_provide_pedestrian_walkway\",\n        \"collaborative_working_flag\": false,\n        \"collaboration_details\": \"\",\n        \"collaborative_works\": \"\",\n        \"collaboration_type\": \"\",\n        \"excavation_flag\": false,\n        \"environmental_flag\": false,\n        \"ttro_required_flag\": false,\n        \"project_reference_number\": \"777771\",\n        \"conditions\": [{\n          \"condition\": \"NCT01a\",\n          \"comment\": \"\"\n        }, {\n          \"condition\": \"NCT04a\",\n          \"comment\": \"\"\n        }, {\n          \"condition\": \"NCT01b\",\n          \"comment\": \"\"\n        }],\n        \"special_designations\": [],\n        \"early_start_pre_approval_flag\": false,\n        \"early_start_reason\": \"It is not pre approved -2\",\n        \"lane_rental_flag\": false,\n        \"location_details\": \"Tredegar Park round about\"\n      };\n      let permitFormPageData = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM);\n      permitFormPageData = Object.assign(Object.assign({}, permitFormPageData), this.convertToPermitForm(permitFormPageData));\n      data.geometry.type = permitFormPageData.geometry.type ? permitFormPageData.geometry.type : [];\n      data.geometry.coordinates = permitFormPageData.geometry.coordinates ? permitFormPageData.geometry.coordinates : [];\n      data.location_description = permitFormPageData.locationDescription ? permitFormPageData.locationDescription : null;\n      data.location_details = permitFormPageData.locationDetails ? permitFormPageData.locationDetails : null;\n      data.highway_authority_id = permitFormPageData.highwayAuthorityId ? permitFormPageData.highwayAuthorityId : 0;\n      data.usrn = permitFormPageData.usrn ? permitFormPageData.usrn : null;\n      data.proposed_start_date = permitFormPageData.proposedStartDate ? permitFormPageData.proposedStartDate : null;\n      data.proposed_end_date = permitFormPageData.proposedEndDate ? permitFormPageData.proposedEndDate : null;\n      data.org_id = permitFormPageData.orgId ? permitFormPageData.orgId : 0;\n      data.department_id = permitFormPageData.departmentId ? permitFormPageData.departmentId : 0;\n      data.traffic_sensitive_flag = permitFormPageData.trafficSensitiveFlag ? permitFormPageData.trafficSensitiveFlag : false;\n      data.lane_rental_flag = permitFormPageData.laneRentalFlag ? permitFormPageData.laneRentalFlag : false;\n      data.excavation_flag = permitFormPageData.excavationFlag ? permitFormPageData.excavationFlag : false;\n      let conditions = this.globalParameters.get(GLOBAL_PARAM_KEY.CONDITIONS).conditions;\n      data.conditions = conditions ? conditions : [];\n      data.special_designations = permitFormPageData.specialDesignations ? permitFormPageData.specialDesignations : [];\n      data.project_reference_number = permitFormPageData.projectReferenceNumber ? permitFormPageData.projectReferenceNumber : 0;\n      data.road_category = permitFormPageData.roadCategory ? Number(permitFormPageData.roadCategory) : 0;\n      data.secondary_contact = permitFormPageData.secondaryContact ? permitFormPageData.secondaryContact : 0;\n      data.secondary_contact_number = permitFormPageData.secondaryContactNumber ? (_a = permitFormPageData.secondaryContactNumber) === null || _a === void 0 ? void 0 : _a.toString() : 0;\n      data.close_footway = permitFormPageData.closeFootway ? permitFormPageData.closeFootway : 0;\n      data.traffic_management_type = permitFormPageData.trafficManagementType ? permitFormPageData.trafficManagementType : 0;\n      data.work_description = permitFormPageData.workDescription ? permitFormPageData.workDescription : 0;\n      data.work_category = permitFormPageData.workCategory ? permitFormPageData.workCategory : 0;\n      data.postcode = permitFormPageData.postCode ? permitFormPageData.postCode : null;\n      data.accountability = permitFormPageData.accountability ? permitFormPageData.accountability : 0;\n      data.collaborative_working_flag = permitFormPageData.collaborativeWorkingFlag ? permitFormPageData.collaborativeWorkingFlag : false;\n      data.collaboration_details = permitFormPageData.collaborationDetails ? permitFormPageData.collaborationDetails : null;\n      data.collaborative_works = permitFormPageData.collaborativeWorks ? permitFormPageData.collaborativeWorks : null;\n      data.collaboration_type = permitFormPageData.collaborationType ? permitFormPageData.collaborationType : null;\n      data.activity_type = permitFormPageData.activityType ? permitFormPageData.activityType : null;\n      data.work_reference_number = permitFormPageData.workReferenceNumber;\n      data.location_types = permitFormPageData.locationTypes ? permitFormPageData.locationTypes : null;\n      data.ttro_required_flag = permitFormPageData.ttro_requiredFlag ? permitFormPageData.ttro_requiredFlag : false;\n      data.early_start_pre_approval_flag = permitFormPageData.earlyStartPreApprovalFlag;\n      data.early_start_reason = permitFormPageData.earlyStartReason;\n      data.pre_approval_authoriser = permitFormPageData.preApprovalAuthoriser;\n      data.pre_approval_details = permitFormPageData.preApprovalDetails;\n      data.environmental_flag = permitFormPageData.environmental_flag ? permitFormPageData.environmental_flag : false;\n      data.is_covid19_response = permitFormPageData.is_covid19_response ? permitFormPageData.is_covid19_response : false;\n      console.log('------------------------Final Data Create Work Extension-------------------');\n      console.log(data);\n      return data;\n    }\n\n    onAddNewReinstatementBtnClick() {\n      this.globalParameters.set('siteId', null);\n      this.reinstatementImagesAndFilesDataModel.globalParameters.set('siteId', null);\n      this.fileUploadDataModel1.globalParameters.set('siteId', null);\n      this.bindFileUploadDataModel1();\n      this.elginMapDataModel.mode = FormModeConstant.ADD;\n      this.elginMapDataModel.geometry = new GeometryDataModel();\n      this.elginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP));\n      this.elginMapDataModel.isSelfDataLoad = true;\n      this.permitDrawMapDataModel.showSpecialDesignations = false;\n      this.permitDrawMapDataModel.data = {};\n      this.permitDrawMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM)); // this.permitDrawMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, null);\n      // this.permitDrawMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.PERMIT_FORM, null);\n      // console.log(\"after reinstatement click\",this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM));\n\n      this.createReinstatementFormDataModel.data = {};\n      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, null);\n      this.createReinstatementFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, null);\n      this.reinstatementDialogMode = this.reinstatementDialogModeAddReinstatement;\n      this.createReinstatementStepNo = 1;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = this.arrCreateReinstatementDialogTitle[this.createReinstatementStepNo - 1];\n      this.dialogModel.width = \"80%\";\n    }\n\n    nextButtonReinstatementDrawMapClick() {\n      var _a;\n\n      let isValid = this.createPermitDrawMapComponent.validate();\n      if (!isValid) return; // map page details\n\n      let mapPageDataDataModel = new MapPageDataDataModel();\n      mapPageDataDataModel.geometry = this.elginmapComponent.getValue();\n      mapPageDataDataModel.nsgDetails = this.createPermitDrawMapComponent.getValue();\n      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP, mapPageDataDataModel);\n\n      try {\n        this.createReinstatementFormDataModel.globalParameters.set('isExcavationRequired', (_a = this.globalParameters.get(GLOBAL_PARAM_KEY.VIEW_PERMIT_FORM)) === null || _a === void 0 ? void 0 : _a.excavation_flag);\n      } catch (error) {}\n\n      this.createReinstatementFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM));\n      this.nextButtonHandleCreateReinstatement();\n      this.dialogContentScrollTop();\n    }\n\n    nextButtonReinstatementFormClick() {\n      let isValid = this.createReinstatementFormComponent.validate();\n      if (!isValid) return;\n      let appId = this.globalParameters.get('applicationId');\n      let siteId = this.globalParameters.get('siteId');\n      this.saveReinstatementAsDraft(SAVE_AS_DRAFT_POST_ACTION.SAVE_AND_NEXT);\n    }\n\n    nextButtonReinstatementUploadClick() {\n      let appId = this.globalParameters.get('applicationId');\n      let siteId = this.globalParameters.get('siteId');\n      this.createReinstatementSummuryDataModel.globalParameters.set('siteId', siteId);\n      this.createReinstatementSummuryDataModel.globalParameters.set('applicationId', appId);\n      this.nextButtonHandleCreateReinstatement();\n    }\n\n    backButtonReinstatementFormClick() {\n      this.backButtonHandleCreateReinstatement();\n    }\n\n    backButtonReinstatementUploadClick() {\n      this.backButtonHandleCreateReinstatement();\n    }\n\n    backButtonReinstatementSummaryClick() {\n      this.backButtonHandleCreateReinstatement();\n    }\n\n    saveReinstatementAsDraft(postAction) {\n      let isValid = this.createReinstatementFormComponent.validate();\n      if (!isValid) return;\n      let reinstatementFormData = this.createReinstatementFormComponent.getValue();\n      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, reinstatementFormData);\n      let appId = this.globalParameters.get('applicationId');\n      let reinstatementReqBody = this.getReinstatementReqBody();\n      let siteId = this.globalParameters.get('siteId');\n\n      if (siteId) {\n        this.showSpinner();\n\n        this._serverApi.put(`/api/v1/applications/${appId}/sites/${siteId}`, reinstatementReqBody).subscribe(response => {\n          try {\n            this.hideSpinner();\n\n            if (response) {\n              this.permitReinstatementConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n\n              if (postAction == SAVE_AS_DRAFT_POST_ACTION.SAVE_AND_EXIT) {\n                this.dialogModel.visible = false;\n                this.createReinstatementStepNo = 1;\n              } else if (postAction == SAVE_AS_DRAFT_POST_ACTION.SAVE_AND_NEXT) {\n                this.globalParameters.set('siteId', response === null || response === void 0 ? void 0 : response.siteId);\n                let siteId = this.globalParameters.get('siteId');\n                let applicationId = this.globalParameters.get('applicationId');\n                this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP, null);\n                this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, null);\n                this.reinstatementImagesAndFilesDataModel.globalParameters.set('siteId', siteId);\n                this.reinstatementImagesAndFilesDataModel.globalParameters.set('applicationId', applicationId);\n                this.showSpinner();\n\n                this._serverApiBase.get(`/api/v1/applications/${applicationId}/sites/${siteId}`).subscribe(response => {\n                  try {\n                    this.hideSpinner();\n\n                    if (response) {\n                      let reinstatementFormData = this.convertSiteDetailsResponse(response);\n                      let reinstatementMapData = this.convertToSiteMapPageData(response);\n                      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP, reinstatementMapData);\n                      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, reinstatementFormData);\n                      this.createReinstatementFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM));\n                      this.createReinstatementSummuryDataModel.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM));\n                      this.nextButtonHandleCreateReinstatement();\n                    }\n                  } catch (e) {\n                    this.hideSpinner();\n                  }\n                }, error => {\n                  this.hideSpinner();\n                  console.log('Permit save as draft error :');\n                });\n              }\n            }\n          } catch (e) {\n            this.hideSpinner();\n          }\n        }, error => {\n          this.hideSpinner();\n          console.log(' error :');\n        });\n      } else {\n        this.showSpinner();\n\n        this._serverApi.post(`/api/v1/applications/${appId}/sites`, reinstatementReqBody).subscribe(response => {\n          try {\n            this.hideSpinner();\n\n            if (response) {\n              this.permitReinstatementConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n\n              if (postAction == SAVE_AS_DRAFT_POST_ACTION.SAVE_AND_EXIT) {\n                this.dialogModel.visible = false;\n                this.createReinstatementStepNo = 1;\n              } else if (postAction == SAVE_AS_DRAFT_POST_ACTION.SAVE_AND_NEXT) {\n                this.globalParameters.set('siteId', response === null || response === void 0 ? void 0 : response.siteId);\n                let siteId = this.globalParameters.get('siteId');\n                let applicationId = this.globalParameters.get('applicationId');\n                this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP, null);\n                this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, null);\n                this.reinstatementImagesAndFilesDataModel.globalParameters.set('siteId', siteId);\n                this.reinstatementImagesAndFilesDataModel.globalParameters.set('applicationId', applicationId);\n                this.reinstatementImagesAndFilesDataModel.globalParameters.set('mode', FormModeConstant.ADD);\n                this.fileUploadDataModel1.globalParameters.set('siteId', siteId); //  this.reinstatementImagesAndFilesComponent.globalParameters.set('siteId',siteId);\n\n                this.fileUploadDataModel1.globalParameters.set('applicationId', applicationId); //  this.reinstatementImagesAndFilesComponent.globalParameters.set('applicationId',applicationId);\n\n                this.bindFileUploadDataModel1();\n                this.showSpinner();\n\n                this._serverApiBase.get(`/api/v1/applications/${applicationId}/sites/${siteId}`).subscribe(response => {\n                  try {\n                    this.hideSpinner();\n\n                    if (response) {\n                      let reinstatementFormData = this.convertSiteDetailsResponse(response);\n                      let reinstatementMapData = this.convertToSiteMapPageData(response);\n                      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP, reinstatementMapData);\n                      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, reinstatementFormData);\n                      this.createReinstatementFormDataModel.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM));\n                      this.createReinstatementSummuryDataModel.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM));\n                      this.nextButtonHandleCreateReinstatement();\n                    }\n                  } catch (e) {\n                    this.hideSpinner();\n                  }\n                }, error => {\n                  this.hideSpinner();\n                  console.log('Permit save as draft error :');\n                });\n              }\n            }\n          } catch (e) {\n            this.hideSpinner();\n          }\n        }, error => {\n          this.hideSpinner();\n          console.log(' error :');\n        });\n      }\n    }\n\n    closeReinstatementDraft() {\n      this.permitReinstatementConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n      this.dialogModel.visible = false;\n      this.createReinstatementStepNo = 1;\n    }\n\n    getReinstatementReqBody() {\n      let data = this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM);\n      let reinstatementMapData = this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP);\n      data.geometry = {\n        type: ElginMapUtility.getGeometryTypeForRequest(reinstatementMapData.geometry.type),\n        coordinates: reinstatementMapData.geometry.cordinateNorthingsEastings\n      };\n      return data;\n    }\n\n    reinstatementSubmission() {\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      let siteId = this.globalParameters.get(\"siteId\");\n\n      if (applicationId != null && siteId != null) {\n        this.showSpinner();\n\n        this._serverApiBase.post(`/api/v1/applications/${applicationId}/sites/submission`, null).subscribe(response => {\n          try {\n            this.hideSpinner(); // if (response) {\n\n            this.permitReinstatementConfigModel.CallerToComp.emit(WidgetConstants.CALLER_TO_COMP_REFRESH_DATA);\n            this.dialogModel.visible = false;\n            this.reinstatementDialogMode = REINSTATEMENT_DIALOG_MODE.NONE;\n            this.createReinstatementStepNo = 1; // }\n          } catch (e) {\n            this.hideSpinner();\n          }\n        }, error => {\n          this.hideSpinner();\n          console.log('Permit save as draft error :');\n        });\n      }\n    }\n\n    nextButtonHandleCreateReinstatement() {\n      this.createReinstatementStepNo++;\n\n      if (this.elginMapDataModel.mode == FormModeConstant.EDIT) {\n        this.dialogModel.header = this.arrEditReinstatementDialogTitle[this.createReinstatementStepNo - 1];\n      } else {\n        this.dialogModel.header = this.arrCreateReinstatementDialogTitle[this.createReinstatementStepNo - 1];\n      }\n    }\n\n    backButtonHandleCreateReinstatement() {\n      this.createReinstatementStepNo--;\n\n      if (this.elginMapDataModel.mode == FormModeConstant.EDIT) {\n        this.dialogModel.header = this.arrEditReinstatementDialogTitle[this.createReinstatementStepNo - 1];\n      } else {\n        this.dialogModel.header = this.arrCreateReinstatementDialogTitle[this.createReinstatementStepNo - 1];\n      }\n    }\n\n    page_onEditReinstateMentClick(eventparams, wigDataContext, params) {\n      console.log(\"event param\", eventparams);\n      this.reinstatementImagesAndFilesDataModel.globalParameters.set('mode', FormModeConstant.EDIT);\n      this.globalParameters.set('siteId', null);\n      this.permitDrawMapDataModel.data = new PermitDrawMapDetails();\n      let applicationId = this.globalParameters.get('applicationId');\n      let siteId = eventparams.dataContext.SiteId;\n      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP, null);\n      this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, null);\n      this.showSpinner();\n\n      this._serverApiBase.get(`/api/v1/applications/${applicationId}/sites/${siteId}`).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            let reinstatementFormData = this.convertSiteDetailsResponse(response);\n            let reinstatementMapData = this.convertToSiteMapPageData(response);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP, reinstatementMapData);\n            this.globalParameters.set(GLOBAL_PARAM_KEY.REINSTATEMENT_FORM, reinstatementFormData);\n            this.permitDrawMapDataModel.data = new PermitDrawMapDetails();\n            this.permitDrawMapDataModel.mode = FormModeConstant.ADD;\n            this.permitDrawMapDataModel.showSpecialDesignations = false;\n            this.globalParameters.set('siteId', siteId);\n            this.fileUploadDataModel1.globalParameters.set('siteId', siteId); //  this.reinstatementImagesAndFilesComponent.globalParameters.set('siteId',siteId);\n\n            this.fileUploadDataModel1.globalParameters.set('applicationId', applicationId); //  this.reinstatementImagesAndFilesComponent.globalParameters.set('applicationId',applicationId);\n\n            this.bindFileUploadDataModel1(); // set eleginMap Mode\n\n            this.elginMapDataModel.mode = FormModeConstant.EDIT;\n            console.log(\"  this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP)\", this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP));\n            console.log(\"  this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP)\", this.globalParameters.get(GLOBAL_PARAM_KEY.ELGIN_MAP));\n            this.elginMapDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, this.globalParameters.get(GLOBAL_PARAM_KEY.REINSTATEMENT_ELGIN_MAP));\n            this.elginMapDataModel.isSelfDataLoad = true;\n            this.reinstatementDialogMode = this.reinstatementDialogModeAddReinstatement;\n            this.dialogModel.width = '80%';\n            this.createReinstatementStepNo = 1;\n            this.dialogModel.header = this.arrEditReinstatementDialogTitle[this.createReinstatementStepNo - 1];\n            this.dialogModel.visible = true;\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n        console.log('Permit save as draft error :');\n      });\n    }\n\n    page_drawMapOverlayComplete(eventparams, wigDataContext, params) {\n      this.permitDrawMapConfigModel.CallerToComp.emit(WidgetConstants.LOAD_DATA, eventparams);\n    }\n\n    page_drawingmodeChanged(eventparams, wigDataContext, params) {\n      // this._appRepoHelperService.setNavigationData(this.permitNavigationKey, {});\n      this.permitDrawMapConfigModel.CallerToComp.emit(WidgetConstants.RESET_TO_DEFAULT, eventparams);\n    }\n\n    page_mapLoaded() {\n      if (this.elginMapDataModel.mode == FormModeConstant.EDIT || this.elginMapDataModel.mode == FormModeConstant.VIEW) {}\n    }\n\n    convertSiteDetailsResponse(response) {\n      let convertedResponse = {};\n\n      if (!response) {\n        return convertedResponse;\n      }\n\n      response.geometry = JSON.parse(response.reinstatement_coordinates);\n      convertedResponse = Object.assign({}, response);\n      return convertedResponse;\n    }\n\n    convertToSiteMapPageData(response) {\n      let mapPageData = new MapPageDataDataModel();\n\n      if (response) {\n        if (typeof response.reinstatement_coordinates === 'string' || response.reinstatement_coordinates instanceof String) {\n          response.reinstatement_coordinates = JSON.parse(response.reinstatement_coordinates);\n        }\n\n        if (response.reinstatement_coordinates.type == PERMIT_GEOMETRY_TYPE.POLYGON) {\n          let coordinatesLatLngs = ElginMapUtility.convertCoordinatesToLatLong(response.reinstatement_coordinates.coordinates);\n          let geometry = {\n            cordinateNorthingsEastings: response.reinstatement_coordinates.coordinates,\n            coordinatesLatLng: coordinatesLatLngs,\n            type: ElginMapUtility.getGeometryType(response.reinstatement_coordinates.type),\n            center: coordinatesLatLngs[0],\n            zoom: 18\n          };\n          mapPageData.geometry = geometry;\n        } else if (response.reinstatement_coordinates.type == PERMIT_GEOMETRY_TYPE.POLYLINE) {\n          let coordinatesLatLngs = ElginMapUtility.convertCoordinatesToLatLongForPloyline(response.reinstatement_coordinates.coordinates);\n          let geometry = {\n            cordinateNorthingsEastings: response.reinstatement_coordinates.coordinates,\n            coordinatesLatLng: coordinatesLatLngs,\n            type: ElginMapUtility.getGeometryType(response.reinstatement_coordinates.type),\n            center: coordinatesLatLngs[0],\n            zoom: 18\n          };\n          mapPageData.geometry = geometry;\n        } else if (response.reinstatement_coordinates.type == PERMIT_GEOMETRY_TYPE.MARKER) {\n          let coordinatesLatLngsMarker = ElginMapUtility.convertCoordinatesToLatLongForMarker(response.reinstatement_coordinates.coordinates);\n          let geometry = {\n            cordinateNorthingsEastings: response.reinstatement_coordinates.coordinates,\n            coordinatesLatLng: coordinatesLatLngsMarker,\n            type: ElginMapUtility.getGeometryType(response.reinstatement_coordinates.type),\n            center: {\n              lat: coordinatesLatLngsMarker[0],\n              lng: coordinatesLatLngsMarker[1]\n            },\n            zoom: 18\n          };\n          mapPageData.geometry = geometry;\n        }\n\n        mapPageData.nsgDetails = new NSGDetails();\n      }\n\n      return mapPageData;\n    }\n\n    ngOnDestroy() {\n      this.removeListener(this.permitDrawMapConfigModel);\n      this.removeListener(this.elginMapConfigModel);\n    }\n\n    page_onViewSiteDetailsClicked(eventparams, wigDataContext, params) {\n      this.viewElginMapReinstatementDataModel.mode = FormModeConstant.VIEW;\n      let reinstatementMapData = this.convertToSiteMapPageData(eventparams.dataContext);\n      this.viewElginMapReinstatementDataModel.globalParameters.set(GLOBAL_PARAM_KEY.ELGIN_MAP, reinstatementMapData);\n      this.viewElginMapReinstatementDataModel.isSelfDataLoad = true;\n      let applicationId = this.globalParameters.get(\"applicationId\");\n      let siteId = eventparams.dataContext.SiteId;\n      this.siteDetailsDataModel.globalParameters.set('siteId', siteId);\n      this.siteDetailsDataModel.globalParameters.set('applicationId', applicationId);\n      this.reinstatementImagesAndFilesDataModel.globalParameters.set('siteId', siteId);\n      this.reinstatementImagesAndFilesDataModel.globalParameters.set('applicationId', applicationId);\n      this.reinstatementImagesAndFilesDataModel.globalParameters.set('mode', FormModeConstant.VIEW);\n      this.reinstatementDialogMode = this.reinstatementDialogModeViewReinstatement;\n      this.dialogModel.visible = true;\n      this.dialogModel.header = \"Site Details\";\n      this.dialogModel.width = \"80%\";\n      this.viewElginMap = true;\n    }\n\n    updateInspection() {\n      let valid = this.viewPermitInspectionComponent.validate();\n\n      if (!valid) {\n        return;\n      }\n\n      this.showSpinner();\n      let reqBody = this.viewPermitInspectionComponent.getValue();\n\n      this._serverApiBase.post(`/api/v1/inspections/${this.viewPermitInspectionDataModel.data.InspectionId}/status`, reqBody).subscribe(response => {\n        try {\n          this.hideSpinner();\n\n          if (response) {\n            this.dialogModel.visible = false;\n            this.permitInspectionsTabComponent.wgRefreshData();\n          }\n        } catch (e) {\n          this.hideSpinner();\n        }\n      }, error => {\n        this.hideSpinner();\n      });\n    }\n\n  }\n\n  PermitViewPmtMgrComponent.ɵfac = function PermitViewPmtMgrComponent_Factory(t) {\n    return new (t || PermitViewPmtMgrComponent)(i0.ɵɵdirectiveInject(i1.ServerApiInterfaceServiceService), i0.ɵɵdirectiveInject(i2.EventActionService), i0.ɵɵdirectiveInject(i3.SessionStorageService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.NgxSpinnerService), i0.ɵɵdirectiveInject(i6.AppRepoHelperService), i0.ɵɵdirectiveInject(i7.MatDialog), i0.ɵɵdirectiveInject(i8.NotificationService), i0.ɵɵdirectiveInject(i2.EventActionService), i0.ɵɵdirectiveInject(i9.FormBuilder), i0.ɵɵdirectiveInject(i9.FormBuilder), i0.ɵɵdirectiveInject(i9.FormBuilder), i0.ɵɵdirectiveInject(i10.Location), i0.ɵɵdirectiveInject(i1.ServerApiInterfaceServiceService), i0.ɵɵdirectiveInject(i11.AppRepoService));\n  };\n\n  PermitViewPmtMgrComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PermitViewPmtMgrComponent,\n    selectors: [[\"app-permit-view-pmt-mgr\"]],\n    viewQuery: function PermitViewPmtMgrComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n        i0.ɵɵviewQuery(_c3, 5);\n        i0.ɵɵviewQuery(PermitImagesAndFilesTabComponent, 5);\n        i0.ɵɵviewQuery(ReinstatementImagesAndFilesComponent, 5);\n        i0.ɵɵviewQuery(PermitCommentsTabComponent, 5);\n        i0.ɵɵviewQuery(PermitConditionsTabComponent, 5);\n        i0.ɵɵviewQuery(CreatePermitFormComponent, 5);\n        i0.ɵɵviewQuery(PermitOverviewTabComponent, 5);\n        i0.ɵɵviewQuery(ElginmapComponent, 5);\n        i0.ɵɵviewQuery(PermitMapDesignationTabComponent, 5);\n        i0.ɵɵviewQuery(CreatePermitDrawMapComponent, 5);\n        i0.ɵɵviewQuery(CreateReinstatementFormComponent, 5);\n        i0.ɵɵviewQuery(ViewPermitInspectionComponent, 5);\n        i0.ɵɵviewQuery(PermitInspectionsTabComponent, 5);\n        i0.ɵɵviewQuery(PermitFpnTabComponent, 5);\n        i0.ɵɵviewQuery(DialogComponent, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.trigger = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.menuStopTrigger = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.menuRevertStartTrigger = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.menuRevertStopTrigger = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.permitImagesAndFilesTabComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.reinstatementImagesAndFilesComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.permitCommentsTabComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.permitConditionsTabComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.createPermitFormComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.permitOverviewTabComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.elginmapComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.permitMapDesignationTabComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.createPermitDrawMapComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.createReinstatementFormComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.viewPermitInspectionComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.permitInspectionsTabComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.permitFpnTabComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dialogComponent = _t.first);\n      }\n    },\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 187,\n    vars: 80,\n    consts: [[1, \"container-fluid\", \"permit-view\"], [1, \"row\", \"no-gutters\"], [1, \"col-md-12\"], [\"fxLayout\", \"row\", \"fxLayout.lt-sm\", \"column\", \"fxLayoutAlign\", \"space-between center\", 1, \"permit-info-container\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\", \"fxLayoutGap\", \"5px\", 1, \"permit-title\"], [1, \"work-steam-icon\"], [\"class\", \"material-icons-outlined power\", \"fontSet\", \"material-icons-outlined\", 4, \"ngIf\"], [\"class\", \"material-icons-outlined gas\", \"fontSet\", \"material-icons-outlined\", 4, \"ngIf\"], [1, \"permit-ref-number\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\", \"fxLayoutGap\", \"20px\", 1, \"permit-actions\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"id\", \"revertStart-stop\", \"color\", \"primary\", 3, \"matMenuTriggerFor\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"id\", \"start-stop\", \"color\", \"primary\", \"class\", \"green-button\", 3, \"matMenuTriggerFor\", \"click\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"id\", \"start-stop\", \"color\", \"primary\", \"class\", \"red-button\", 3, \"matMenuTriggerFor\", \"click\", 4, \"ngIf\"], [\"xPosition\", \"before\", 1, \"custom-mat-menu\"], [\"menu\", \"matMenu\"], [1, \"early-start-form\"], [3, \"formGroup\", \"click\"], [\"fxLayout\", \"row\"], [\"appearance\", \"outline\", \"fxFlex\", \"100\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"required\", \"\", \"placeholder\", \"Choose a date\", 3, \"ngxMatDatetimePicker\", \"formControl\", \"click\"], [\"matSuffix\", \"\", 3, \"for\"], [3, \"showSeconds\", \"stepHour\", \"stepMinute\", \"stepSecond\", \"enableMeridian\"], [\"startDatePicker\", \"\"], [\"matInput\", \"\", \"placeholder\", \"Enter comment\", \"formControlName\", \"startPermitComment\"], [\"class\", \"warning\", \"fxLayout\", \"row\", \"fxLayoutGap\", \"10px\", 4, \"ngIf\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between stretch\", \"fxLayoutGap\", \"20px\"], [\"fxFlex\", \"50\", \"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"primary-button-outline\", \"mb-2\", 3, \"click\"], [\"fxFlex\", \"50\", \"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"primary-button\", \"mb-2\", 3, \"click\"], [\"menuStopPermit\", \"matMenu\"], [\"stopDatePicker\", \"\"], [\"matInput\", \"\", \"placeholder\", \"Enter comment\", \"formControlName\", \"stopPermitComment\"], [\"fxLayout\", \"column\", \"fxLayoutAlign\", \"space-between stretch\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"primary-button\", \"mb-2\", 3, \"click\"], [\"menuRevertStartTriggerr\", \"matMenu\"], [\"fxLayout\", \"column\", \"fxLayoutAlign\", \"space-between stretch\", 3, \"click\"], [\"appearance\", \"outline\", 2, \"min-width\", \"280px\"], [\"matInput\", \"\", \"placeholder\", \"Enter comment\", 3, \"ngModel\", \"ngModelChange\"], [\"menuRevertStopTriggerr\", \"matMenu\"], [1, \"permit-tabs\"], [3, \"selectedIndex\", \"selectedIndexChange\", \"selectedTabChange\"], [\"label\", \"Overview\"], [3, \"dataModel\", \"configModel\"], [\"label\", \"Map\"], [\"matTabContent\", \"\"], [\"label\", \"Change Request\"], [\"label\", \"Conditions\"], [3, \"dataModel\", \"configModel\", 4, \"ngIf\"], [\"label\", \"FPN's\"], [\"label\", \"Inspections\"], [\"label\", \"Images & Files\"], [\"label\", \"Reinstatement\"], [\"label\", \"Comments\"], [\"label\", \"Activity Log\"], [3, \"dialogModel\", \"onDialogClose\"], [1, \"dialog-content-slot\"], [4, \"ngIf\"], [1, \"errormodal\", 3, \"visible\", \"modal\", \"responsive\", \"minY\", \"maximizable\", \"baseZIndex\", \"visibleChange\"], [1, \"mat-error\"], [1, \"align-middle\"], [1, \"jumbotron\", \"mb-0\"], [1, \"errorlabel\"], [1, \"btn\", \"btn-lg\", \"btn-primary\", \"errorbtn\", \"float-right\", 3, \"click\"], [3, \"dialogModel\"], [\"class\", \"dialog-content-slot\", 4, \"ngIf\"], [1, \"py-3\"], [1, \"float-right\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 1, \"primary-button\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"primary-button-outline\", \"mb-2\", 3, \"click\"], [\"fontSet\", \"material-icons-outlined\", 1, \"material-icons-outlined\", \"power\"], [\"fontSet\", \"material-icons-outlined\", 1, \"material-icons-outlined\", \"gas\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-stroked-button\", \"\", \"id\", \"revertStart-stop\", \"color\", \"primary\", 3, \"matMenuTriggerFor\"], [\"menuRevertStartTrigger\", \"matMenuTrigger\"], [\"menuRevertStopTrigger\", \"matMenuTrigger\"], [\"mat-stroked-button\", \"\", \"id\", \"start-stop\", \"color\", \"primary\", 1, \"green-button\", 3, \"matMenuTriggerFor\", \"click\"], [\"menuStartTrigger\", \"matMenuTrigger\"], [\"mat-stroked-button\", \"\", \"id\", \"start-stop\", \"color\", \"primary\", 1, \"red-button\", 3, \"matMenuTriggerFor\", \"click\"], [\"menuStopTrigger\", \"matMenuTrigger\"], [\"fxLayout\", \"row\", \"fxLayoutGap\", \"10px\", 1, \"warning\"], [\"class\", \"elgin-map-view\", 4, \"ngIf\"], [1, \"elgin-map-view\"], [\"id\", \"view-elgin-map\", 3, \"dataModel\", \"configModel\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [\"fxLayout\", \"column\", \"fxLayoutGap\", \"40px\", 4, \"ngSwitchCase\"], [\"fxLayout\", \"column\", 4, \"ngSwitchCase\"], [\"fxLayout\", \"column\", \"fxLayoutGap\", \"40px\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"end center\", \"fxLayoutGap\", \"15px\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 1, \"primary-button-outline\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"primary-button\", 3, \"click\"], [\"fxLayout\", \"column\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\", 1, \"cost-split\"], [1, \"w-100\"], [4, \"ngFor\", \"ngForOf\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\"], [1, \"cost-split-row-td-key\"], [1, \"cost-split-row-td-value\"], [1, \"mat-typography\", \"permit-form\", 3, \"ngSwitch\"], [4, \"ngSwitchDefault\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"end center\", \"fxLayoutGap\", \"15px\", 4, \"ngSwitchCase\"], [\"fxLayoutGap\", \"10px\", \"fxLayout\", \"row\", \"fxLayoutAlign\", \"end center\", 4, \"ngSwitchCase\"], [\"fxLayoutGap\", \"10px\", \"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\", 4, \"ngSwitchCase\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\", 4, \"ngSwitchCase\"], [1, \"elgin-map-view-slot\"], [\"id\", \"create-permit-elgin-map\", 3, \"dataModel\", \"configModel\"], [\"fxLayoutGap\", \"10px\", \"fxLayout\", \"row\", \"fxLayoutAlign\", \"end center\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"class\", \"primary-button\", 3, \"click\", 4, \"ngIf\"], [\"fxLayoutGap\", \"10px\", \"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\"], [\"fxLayoutGap\", \"10px\"], [\"mat-raised-button\", \"\", \"class\", \"draft-button primary-button mb-2\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"class\", \"primary-button mb-2\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"draft-button\", \"primary-button\", \"mb-2\", 3, \"click\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"end center\"], [2, \"margin-right\", \"25px\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"green-button\", \"mb-2\", 3, \"click\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\", \"fxLayoutGap\", \"15px\", 4, \"ngSwitchCase\"], [\"fxLayout\", \"row\", \"fxLayoutGap\", \"10px\", \"fxLayoutAlign\", \"start center\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"green-button\", \"primary-button\", \"mb-2\", 3, \"click\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\", \"fxLayoutGap\", \"15px\"], [1, \"wrk-extension-form\"], [3, \"formGroup\"], [\"endDatePicker\", \"\"], [1, \"elgin-map-slot\"], [\"id\", \"draw-map-elgin-map\", 3, \"dataModel\", \"configModel\", 4, \"ngIf\"], [\"id\", \"draw-map-elgin-map\", 3, \"dataModel\", \"configModel\"], [\"mat-stretch-tabs\", \"\"], [\"label\", \"Details\"], [\"label\", \"Attachments\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"primary-button\", \"btn-primary\", \"mr-2\", 3, \"click\"], [\"mat-raised-button\", \"\", 1, \"primary-button\", \"btn-secondary\", 3, \"click\"]],\n    template: function PermitViewPmtMgrComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r169 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵtemplate(6, PermitViewPmtMgrComponent_mat_icon_6_Template, 2, 0, \"mat-icon\", 6);\n        i0.ɵɵtemplate(7, PermitViewPmtMgrComponent_mat_icon_7_Template, 2, 0, \"mat-icon\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 8);\n        i0.ɵɵelementStart(9, \"h1\");\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 9);\n        i0.ɵɵtemplate(12, PermitViewPmtMgrComponent_button_12_Template, 4, 0, \"button\", 10);\n        i0.ɵɵtemplate(13, PermitViewPmtMgrComponent_button_13_Template, 4, 0, \"button\", 10);\n        i0.ɵɵtemplate(14, PermitViewPmtMgrComponent_button_14_Template, 3, 2, \"button\", 11);\n        i0.ɵɵtemplate(15, PermitViewPmtMgrComponent_button_15_Template, 3, 2, \"button\", 11);\n        i0.ɵɵtemplate(16, PermitViewPmtMgrComponent_button_16_Template, 5, 1, \"button\", 12);\n        i0.ɵɵtemplate(17, PermitViewPmtMgrComponent_button_17_Template, 5, 1, \"button\", 13);\n        i0.ɵɵelementStart(18, \"mat-menu\", 14, 15);\n        i0.ɵɵelementStart(20, \"div\", 16);\n        i0.ɵɵelementStart(21, \"form\", 17);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_form_click_21_listener($event) {\n          return ctx.stopPropagation($event);\n        });\n        i0.ɵɵelementStart(22, \"div\", 18);\n        i0.ɵɵelementStart(23, \"mat-form-field\", 19);\n        i0.ɵɵelementStart(24, \"mat-label\");\n        i0.ɵɵtext(25, \"Start Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 20);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_input_click_26_listener() {\n          i0.ɵɵrestoreView(_r169);\n\n          const _r9 = i0.ɵɵreference(29);\n\n          return _r9.open();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"mat-datepicker-toggle\", 21);\n        i0.ɵɵelement(28, \"ngx-mat-datetime-picker\", 22, 23);\n        i0.ɵɵelementStart(30, \"mat-error\");\n        i0.ɵɵtext(31, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 18);\n        i0.ɵɵelementStart(33, \"mat-form-field\", 19);\n        i0.ɵɵelementStart(34, \"mat-label\");\n        i0.ɵɵtext(35, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"textarea\", 24);\n        i0.ɵɵelementStart(37, \"mat-error\");\n        i0.ɵɵtext(38, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(39, PermitViewPmtMgrComponent_div_39_Template, 5, 1, \"div\", 25);\n        i0.ɵɵelementStart(40, \"div\", 26);\n        i0.ɵɵelementStart(41, \"button\", 27);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_41_listener() {\n          return ctx.cancelStartPermit();\n        });\n        i0.ɵɵtext(42, \" Cancel \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"button\", 28);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_43_listener() {\n          return ctx.startToggle();\n        });\n        i0.ɵɵtext(44, \" Continue \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"mat-menu\", 14, 29);\n        i0.ɵɵelementStart(47, \"div\", 16);\n        i0.ɵɵelementStart(48, \"form\", 17);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_form_click_48_listener($event) {\n          return ctx.stopPropagation($event);\n        });\n        i0.ɵɵelementStart(49, \"div\", 18);\n        i0.ɵɵelementStart(50, \"mat-form-field\", 19);\n        i0.ɵɵelementStart(51, \"mat-label\");\n        i0.ɵɵtext(52, \"Stop Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"input\", 20);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_input_click_53_listener() {\n          i0.ɵɵrestoreView(_r169);\n\n          const _r12 = i0.ɵɵreference(56);\n\n          return _r12.open();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(54, \"mat-datepicker-toggle\", 21);\n        i0.ɵɵelement(55, \"ngx-mat-datetime-picker\", 22, 30);\n        i0.ɵɵelementStart(57, \"mat-error\");\n        i0.ɵɵtext(58, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"div\", 18);\n        i0.ɵɵelementStart(60, \"mat-form-field\", 19);\n        i0.ɵɵelementStart(61, \"mat-label\");\n        i0.ɵɵtext(62, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(63, \"textarea\", 31);\n        i0.ɵɵelementStart(64, \"mat-error\");\n        i0.ɵɵtext(65, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(66, PermitViewPmtMgrComponent_div_66_Template, 5, 1, \"div\", 25);\n        i0.ɵɵelementStart(67, \"div\", 32);\n        i0.ɵɵelementStart(68, \"button\", 33);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_68_listener() {\n          return ctx.onStopPermitBtnClick();\n        });\n        i0.ɵɵtext(69, \" Continue \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"mat-menu\", 14, 34);\n        i0.ɵɵelementStart(72, \"div\", 16);\n        i0.ɵɵelementStart(73, \"div\", 35);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_div_click_73_listener($event) {\n          return ctx.stopPropagation($event);\n        });\n        i0.ɵɵelementStart(74, \"mat-form-field\", 36);\n        i0.ɵɵelementStart(75, \"mat-label\");\n        i0.ɵɵtext(76, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(77, \"textarea\", 37);\n        i0.ɵɵlistener(\"ngModelChange\", function PermitViewPmtMgrComponent_Template_textarea_ngModelChange_77_listener($event) {\n          return ctx.revertStartPermitComment = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"mat-error\");\n        i0.ɵɵtext(79, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"button\", 33);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_80_listener() {\n          return ctx.onRevertStartPermitBtnClick();\n        });\n        i0.ɵɵtext(81, \" Continue \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(82, \"mat-menu\", 14, 38);\n        i0.ɵɵelementStart(84, \"div\", 16);\n        i0.ɵɵelementStart(85, \"div\", 35);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_div_click_85_listener($event) {\n          return ctx.stopPropagation($event);\n        });\n        i0.ɵɵelementStart(86, \"mat-form-field\", 36);\n        i0.ɵɵelementStart(87, \"mat-label\");\n        i0.ɵɵtext(88, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(89, \"textarea\", 37);\n        i0.ɵɵlistener(\"ngModelChange\", function PermitViewPmtMgrComponent_Template_textarea_ngModelChange_89_listener($event) {\n          return ctx.revertStopPermitComment = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"mat-error\");\n        i0.ɵɵtext(91, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"button\", 33);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_92_listener() {\n          return ctx.onRevertStopPermitBtnClick();\n        });\n        i0.ɵɵtext(93, \" Continue \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"mat-menu\", 14, 34);\n        i0.ɵɵelementStart(96, \"div\", 16);\n        i0.ɵɵelementStart(97, \"div\", 35);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_div_click_97_listener($event) {\n          return ctx.stopPropagation($event);\n        });\n        i0.ɵɵelementStart(98, \"mat-form-field\", 36);\n        i0.ɵɵelementStart(99, \"mat-label\");\n        i0.ɵɵtext(100, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(101, \"textarea\", 37);\n        i0.ɵɵlistener(\"ngModelChange\", function PermitViewPmtMgrComponent_Template_textarea_ngModelChange_101_listener($event) {\n          return ctx.revertStartPermitComment = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(102, \"mat-error\");\n        i0.ɵɵtext(103, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(104, \"button\", 33);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_104_listener() {\n          return ctx.onRevertStartPermitBtnClick();\n        });\n        i0.ɵɵtext(105, \" Continue \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(106, \"mat-menu\", 14, 38);\n        i0.ɵɵelementStart(108, \"div\", 16);\n        i0.ɵɵelementStart(109, \"div\", 35);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_div_click_109_listener($event) {\n          return ctx.stopPropagation($event);\n        });\n        i0.ɵɵelementStart(110, \"mat-form-field\", 36);\n        i0.ɵɵelementStart(111, \"mat-label\");\n        i0.ɵɵtext(112, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(113, \"textarea\", 37);\n        i0.ɵɵlistener(\"ngModelChange\", function PermitViewPmtMgrComponent_Template_textarea_ngModelChange_113_listener($event) {\n          return ctx.revertStopPermitComment = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(114, \"mat-error\");\n        i0.ɵɵtext(115, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(116, \"button\", 33);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_116_listener() {\n          return ctx.onRevertStopPermitBtnClick();\n        });\n        i0.ɵɵtext(117, \" Continue \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(118, \"div\", 39);\n        i0.ɵɵelementStart(119, \"mat-tab-group\", 40);\n        i0.ɵɵlistener(\"selectedIndexChange\", function PermitViewPmtMgrComponent_Template_mat_tab_group_selectedIndexChange_119_listener($event) {\n          return ctx.selectedTabIndex = $event;\n        })(\"selectedTabChange\", function PermitViewPmtMgrComponent_Template_mat_tab_group_selectedTabChange_119_listener($event) {\n          return ctx.onTabChanged($event);\n        });\n        i0.ɵɵelementStart(120, \"mat-tab\", 41);\n        i0.ɵɵelement(121, \"app-permit-overview-tab\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(122, \"mat-tab\", 43);\n        i0.ɵɵtemplate(123, PermitViewPmtMgrComponent_ng_template_123_Template, 2, 3, \"ng-template\", 44);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(124, \"mat-tab\", 45);\n        i0.ɵɵelement(125, \"app-permit-change-request-tab\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(126, \"mat-tab\", 46);\n        i0.ɵɵtemplate(127, PermitViewPmtMgrComponent_app_permit_conditions_tab_127_Template, 1, 2, \"app-permit-conditions-tab\", 47);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(128, \"mat-tab\", 48);\n        i0.ɵɵelement(129, \"app-permit-fpn-tab\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(130, \"mat-tab\", 49);\n        i0.ɵɵelement(131, \"app-permit-inspections-tab\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(132, \"mat-tab\", 50);\n        i0.ɵɵelement(133, \"app-permit-images-and-files-tab\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(134, \"mat-tab\", 51);\n        i0.ɵɵelement(135, \"app-permit-reinstatement-tab\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(136, \"mat-tab\", 52);\n        i0.ɵɵelement(137, \"app-permit-comments-tab\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(138, \"mat-tab\", 53);\n        i0.ɵɵelement(139, \"app-permit-activity-log-tab\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(140, \"app-dialog\", 54);\n        i0.ɵɵlistener(\"onDialogClose\", function PermitViewPmtMgrComponent_Template_app_dialog_onDialogClose_140_listener($event) {\n          return ctx.onAppDialogClose($event);\n        });\n        i0.ɵɵelementContainerStart(141, 55);\n        i0.ɵɵtemplate(142, PermitViewPmtMgrComponent_div_142_Template, 8, 7, \"div\", 56);\n        i0.ɵɵtemplate(143, PermitViewPmtMgrComponent_app_file_upload_143_Template, 1, 2, \"app-file-upload\", 47);\n        i0.ɵɵtemplate(144, PermitViewPmtMgrComponent_div_144_Template, 4, 3, \"div\", 56);\n        i0.ɵɵtemplate(145, PermitViewPmtMgrComponent_app_add_comment_145_Template, 1, 2, \"app-add-comment\", 47);\n        i0.ɵɵtemplate(146, PermitViewPmtMgrComponent_div_146_Template, 3, 2, \"div\", 56);\n        i0.ɵɵtemplate(147, PermitViewPmtMgrComponent_app_view_permit_fpn_147_Template, 1, 2, \"app-view-permit-fpn\", 47);\n        i0.ɵɵtemplate(148, PermitViewPmtMgrComponent_app_view_permit_inspection_148_Template, 1, 2, \"app-view-permit-inspection\", 47);\n        i0.ɵɵtemplate(149, PermitViewPmtMgrComponent_div_149_Template, 4, 0, \"div\", 56);\n        i0.ɵɵtemplate(150, PermitViewPmtMgrComponent_app_view_permit_comments_150_Template, 1, 2, \"app-view-permit-comments\", 47);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(151, \"p-dialog\", 57);\n        i0.ɵɵlistener(\"visibleChange\", function PermitViewPmtMgrComponent_Template_p_dialog_visibleChange_151_listener($event) {\n          return ctx.display = $event;\n        });\n        i0.ɵɵelementStart(152, \"p-header\", 58);\n        i0.ɵɵelementStart(153, \"mat-icon\", 59);\n        i0.ɵɵtext(154, \"error\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(155, \" Error \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(156, \"div\", 60);\n        i0.ɵɵelementStart(157, \"label\", 61);\n        i0.ɵɵtext(158);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(159, \"button\", 62);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_159_listener() {\n          return ctx.display = false;\n        });\n        i0.ɵɵtext(160, \" OK \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(161, \"app-dialog\", 63);\n        i0.ɵɵtemplate(162, PermitViewPmtMgrComponent_ng_container_162_Template, 9, 1, \"ng-container\", 64);\n        i0.ɵɵtemplate(163, PermitViewPmtMgrComponent_ng_container_163_Template, 8, 0, \"ng-container\", 64);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(164, \"app-dialog\", 63);\n        i0.ɵɵelementContainerStart(165, 55);\n        i0.ɵɵelementStart(166, \"p\", 65);\n        i0.ɵɵtext(167, \" Are you sure you want to delete reinstatement for site \");\n        i0.ɵɵelementStart(168, \"b\");\n        i0.ɵɵtext(169);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(170, \" ? \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(171, \"div\", 66);\n        i0.ɵɵelementStart(172, \"button\", 67);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_172_listener() {\n          return ctx.confirmDeleteReinstatement();\n        });\n        i0.ɵɵtext(173, \" Confirm \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(174, \"app-dialog\", 63);\n        i0.ɵɵelementContainerStart(175, 55);\n        i0.ɵɵelement(176, \"app-file-upload\", 42);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(177, \"app-dialog\", 63);\n        i0.ɵɵelementContainerStart(178, 55);\n        i0.ɵɵelementStart(179, \"p\", 65);\n        i0.ɵɵtext(180, \" You are being redirected to the Reinstatement Page where you can register site \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(181, \"div\", 66);\n        i0.ɵɵelementStart(182, \"div\", 26);\n        i0.ɵɵelementStart(183, \"button\", 68);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_183_listener() {\n          return ctx.closeDialogOnRegister();\n        });\n        i0.ɵɵtext(184, \" Cancel \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(185, \"button\", 33);\n        i0.ɵɵlistener(\"click\", function PermitViewPmtMgrComponent_Template_button_click_185_listener() {\n          return ctx.navigateToReinstatement();\n        });\n        i0.ɵɵtext(186, \" Yes \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r9 = i0.ɵɵreference(29);\n\n        const _r12 = i0.ɵɵreference(56);\n\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.permitOverviewDataModel.data.workStream == ctx.WORK_STREAM.POWER);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.permitOverviewDataModel.data.workStream == ctx.WORK_STREAM.GAS);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.permitOverviewDataModel.data.permitRefNumber, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 8 && ctx.hasPermitActionPermission(ctx.PERMIT_ACTIONS_CONFIG.ADD_NEW_COMMENT));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 7 && ctx.hasPermitActionPermission(ctx.PERMIT_ACTIONS_CONFIG.ADD_REINSTATEMENT));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasPermitActionPermission(ctx.PERMIT_ACTIONS_CONFIG.REVERT_START));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasPermitActionPermission(ctx.PERMIT_ACTIONS_CONFIG.REVERT_STOP));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasPermitActionPermission(ctx.PERMIT_ACTIONS_CONFIG.START));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasPermitActionPermission(ctx.PERMIT_ACTIONS_CONFIG.STOP));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.startPermitFormGroup);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngxMatDatetimePicker\", _r9)(\"formControl\", ctx.startPermitFormGroup.controls.startDate);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r9);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"showSeconds\", true)(\"stepHour\", 1)(\"stepMinute\", 1)(\"stepSecond\", 1)(\"enableMeridian\", false);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", ctx.startPermitWarningMessage);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formGroup\", ctx.stopPermitFormGroup);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngxMatDatetimePicker\", _r12)(\"formControl\", ctx.stopPermitFormGroup.controls.stopDate);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r12);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"showSeconds\", true)(\"stepHour\", 1)(\"stepMinute\", 1)(\"stepSecond\", 1)(\"enableMeridian\", false);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", ctx.stopPermitWarningMessage);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngModel\", ctx.revertStartPermitComment);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.revertStopPermitComment);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.revertStartPermitComment);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.revertStopPermitComment);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"selectedIndex\", ctx.selectedTabIndex);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataModel\", ctx.permitOverviewDataModel)(\"configModel\", ctx.permitOverviewConfigModel);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dataModel\", ctx.permitChangeReqDataModel)(\"configModel\", ctx.permitChangeReqConfigModel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 3);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataModel\", ctx.permitFPNDataModel)(\"configModel\", ctx.permitFPNConfigModel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataModel\", ctx.permitInspectionListDataModel)(\"configModel\", ctx.permitInspectionListConfigModel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataModel\", ctx.permitImagesAndFilesDataModel)(\"configModel\", ctx.permitImagesAndFilesConfigModel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataModel\", ctx.permitReinstatementDataModel)(\"configModel\", ctx.permitReinstatementConfigModel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataModel\", ctx.permitCommentsDataModel)(\"configModel\", ctx.permitCommentsConfigModel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataModel\", ctx.permitActivityLogModel)(\"configModel\", ctx.permitActivityLogConfigModel);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dialogModel\", ctx.dialogModel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 0 || ctx.selectedTabIndex == 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 6);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 7);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 8 && !ctx.isViewCommentTrue);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 4 && ctx.dialogModel.visible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 5 && ctx.dialogModel.visible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex == 5 && ctx.dialogModel.visible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isViewCommentTrue && ctx.dialogModel.visible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(79, _c4));\n        i0.ɵɵproperty(\"visible\", ctx.display)(\"modal\", true)(\"responsive\", true)(\"minY\", 100)(\"maximizable\", true)(\"baseZIndex\", 10000);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.errorMsg);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"dialogModel\", ctx.dialogConfirm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isworkextensionconfirm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isworkextensionconfirm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dialogModel\", ctx.dialogDeleteReinstatement);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.SiteIdToBeDelete);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"dialogModel\", ctx.dialogReinstatementUpload);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataModel\", ctx.fileUploadDataModel1)(\"configModel\", ctx.fileUploadConfigModel1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dialogModel\", ctx.dialogOnRegister);\n      }\n    },\n    directives: [i12.DefaultLayoutDirective, i12.DefaultLayoutAlignDirective, i12.DefaultLayoutGapDirective, i10.NgIf, i13.MatMenu, i9.ɵNgNoValidate, i9.NgControlStatusGroup, i9.FormGroupDirective, i14.MatFormField, i12.DefaultFlexDirective, i14.MatLabel, i15.MatInput, i16.NgxMatDatetimeInput, i9.DefaultValueAccessor, i9.RequiredValidator, i9.NgControlStatus, i9.FormControlDirective, i17.MatDatepickerToggle, i14.MatSuffix, i16.NgxMatDatetimePicker, i14.MatError, i9.FormControlName, i18.MatButton, i9.NgModel, i19.MatTabGroup, i19.MatTab, i20.PermitOverviewTabComponent, i19.MatTabContent, i21.PermitChangeRequestTabComponent, i22.PermitFpnTabComponent, i23.PermitInspectionsTabComponent, i24.PermitImagesAndFilesTabComponent, i25.PermitReinstatementTabComponent, i26.PermitCommentsTabComponent, i27.PermitActivityLogTabComponent, i28.DialogComponent, i29.Dialog, i30.Header, i31.MatIcon, i32.FileUploadComponent, i13.MatMenuTrigger, i33.PermitMapTabComponent, i34.ElginmapComponent, i35.PermitConditionsTabComponent, i10.NgSwitch, i10.NgSwitchCase, i36.CancelPermitConfirmationComponent, i10.NgForOf, i10.NgSwitchDefault, i37.RaiseChangeReqConfirmationComponent, i38.PermitMapDesignationTabComponent, i39.CreatePermitFormComponent, i40.DataDiffA3Component, i41.CreatePermitSummaryComponent, i42.CreatePermitConfirmationComponent, i43.CreatePermitDrawMapComponent, i44.CreateReinstatementFormComponent, i45.ReinstatementImagesAndFilesComponent, i46.CreateReinstatementSummaryComponent, i47.SiteDetailsComponent, i48.AddCommentComponent, i49.ViewPermitFpnComponent, i50.ViewPermitInspectionComponent, i51.ViewPermitCommentsComponent],\n    styles: [\".permit-info-container[_ngcontent-%COMP%]{background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 4px #c1cbff3b;opacity:1;padding:10px 15px}.permit-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:normal normal bold 1.5rem Noto Sans;letter-spacing:0px;color:#706f6f;opacity:1}.permit-actions[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{padding:0 8px;line-height:25px;font-size:1.1rem;font:Noto Sans;background-color:#50aa4e;color:#fff;border:none;border-radius:2px}.permit-actions[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.8rem;color:#fff}.permit-actions[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:2rem;width:2rem}.early-start-form[_ngcontent-%COMP%]{padding:20px}.early-start-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font:normal normal bold 1.5rem Noto Sans;letter-spacing:0px;color:#706f6f;opacity:1;margin-bottom:10px}.confirm-msg-container[_ngcontent-%COMP%]{padding:20px 10px}.charge-tag[_ngcontent-%COMP%]{font-size:20px;margin:0 5px;font-weight:600;color:var(--theme-color)}.draft-button[_ngcontent-%COMP%]{background-color:var(--theme-color);color:#fff}.cost-split[_ngcontent-%COMP%]{padding:20px 0}.cost-split[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid var(--table-tr-td-border-color)}.cost-split[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:10px 10px 10px 30px!important;background-color:var(--table-total-row-bg-color);color:var(--white)}.cost-split-row-td-key[_ngcontent-%COMP%]{text-align:left;padding:10px 10px 10px 30px}.cost-split-row-td-value[_ngcontent-%COMP%]{padding:10px 20px 10px 10px;text-align:right}.bg-total-row[_ngcontent-%COMP%]{background-color:var(--dark-gray-text-color);color:var(--white)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{background-color:#d8d2d2;color:#000}.errorlabel[_ngcontent-%COMP%]{font-size:18px;text-align:left}.errorbtn[_ngcontent-%COMP%]{min-width:100px;margin-top:20px}.warning[_ngcontent-%COMP%]{color:#f07d02;margin-bottom:10px}.wrk-extension-form[_ngcontent-%COMP%]{padding:20px 0}.material-icons-outlined.power[_ngcontent-%COMP%]{font-size:22px;color:var(--theme-color)}.material-icons-outlined.gas[_ngcontent-%COMP%]{font-size:21px;color:var(--theme-color)}\"]\n  });\n  return PermitViewPmtMgrComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}