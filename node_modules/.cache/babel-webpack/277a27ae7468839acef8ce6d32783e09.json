{"ast":null,"code":"import { MASTER_DATA_DOMAIN } from 'src/app/constants/db.constants';\nimport { DataHelper } from 'src/app/utility/data.helper';\nimport { WidgetComponentBase } from 'src/app/utility/widget/widget-utility/widget-component-base';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/server-api-interface-service.service\";\nimport * as i2 from \"src/app/services/validation.service\";\nimport * as i3 from \"src/app/services/app-repo-helper.service\";\nimport * as i4 from \"@angular/flex-layout/flex\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../../pipe/transform-date-time/transform-date-time.pipe\";\n\nfunction SiteDetailsComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"label\", 4);\n    i0.ɵɵtext(2, \"Number Of Holes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.dataModel.data.numberOfHoles);\n  }\n}\n\nconst _c0 = [[[\"\", 8, \"elgin-map-view\"]]];\nconst _c1 = [\".elgin-map-view\"];\nexport let SiteDetailsComponent = /*#__PURE__*/(() => {\n  class SiteDetailsComponent extends WidgetComponentBase {\n    constructor(_serverApi, _validationService, _appRepoHelperService) {\n      super(_serverApi, _validationService);\n      this._serverApi = _serverApi;\n      this._validationService = _validationService;\n      this._appRepoHelperService = _appRepoHelperService;\n      this.arrLocationType = [];\n      this.showNoOfHoles = false;\n    }\n\n    ngOnInit() {\n      this.wgOnInit();\n    }\n\n    setFieldData() {\n      this.arrLocationType = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.LOCATION_TYPE.toString());\n    }\n\n    getControlData() {\n      let appId = this.dataModel.globalParameters.get('applicationId');\n      let siteId = this.dataModel.globalParameters.get('siteId');\n      return this.wgAPIMethodGet(`/api/v1/applications/${appId}/sites/${siteId}`);\n    }\n\n    convertData(response) {\n      try {\n        if (response) {\n          this.dataModel.data.permitRefNumber = response.permit_reference_number;\n          this.dataModel.data.reinstatementStatus = this._appRepoHelperService.getMDataDisplayTextByValue(response.reinstatement_status);\n          this.dataModel.data.numberOfHoles = response.number_of_holes;\n          this.dataModel.data.reinstatementType = this._appRepoHelperService.getMDataDisplayTextByValue(response.reinstatement_type);\n          this.dataModel.data.inspectionUnits = response.inspection_units;\n          this.dataModel.data.workReference = response.work_reference;\n          this.dataModel.data.siteNo = response.site_number;\n          this.dataModel.data.length = response.length;\n          this.dataModel.data.width = response.width;\n          this.dataModel.data.depth = response.depth;\n          this.dataModel.data.reinstatementDate = response.reinstatement_date;\n          this.dataModel.data.reinstatementEvidence = DataHelper.booleanToUserText(response.reinstatement_evidence);\n          this.dataModel.data.isFinalReinstatement = DataHelper.booleanToUserText(response.final_reinstatement);\n          this.dataModel.data.workLocation = response.work_location;\n          this.dataModel.data.locationDescription = response.location_description;\n          this.dataModel.data.locationTypes = \"\";\n\n          if (response.reinstatement_type == \"excavation\") {\n            this.showNoOfHoles = true;\n          }\n\n          let arrLocationType = response.location_types.split(',');\n          arrLocationType.forEach(locationType => {\n            this.dataModel.data.locationTypes += this._appRepoHelperService.getMDataDisplayTextByValue(locationType) + ', ';\n          });\n        }\n      } catch (e) {}\n    }\n\n    setMode(responseDataModel) {}\n\n    setValue(responseDataModel) {}\n\n  }\n\n  SiteDetailsComponent.ɵfac = function SiteDetailsComponent_Factory(t) {\n    return new (t || SiteDetailsComponent)(i0.ɵɵdirectiveInject(i1.ServerApiInterfaceServiceService), i0.ɵɵdirectiveInject(i2.ValidationService), i0.ɵɵdirectiveInject(i3.AppRepoHelperService));\n  };\n\n  SiteDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SiteDetailsComponent,\n    selectors: [[\"app-site-details\"]],\n    inputs: {\n      dataModel: \"dataModel\",\n      configModel: \"configModel\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c1,\n    decls: 90,\n    vars: 18,\n    consts: [[\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between start\", \"fxLayoutGap\", \"0\", 1, \"change-request-info\", \"mt-3\"], [\"fxFlex\", \"50\", 1, \"left-side\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\"], [\"fxFlex\", \"100\", 1, \"info-element\"], [\"for\", \"\"], [\"class\", \"info-element\", \"fxFlex\", \"100\", 4, \"ngIf\"], [1, \"map-container\"], [\"fxFlex\", \"50\", 1, \"right-side\"], [1, \"info-div\"]],\n    template: function SiteDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef(_c0);\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"label\", 4);\n        i0.ɵɵtext(5, \"Permit Ref Number \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 3);\n        i0.ɵɵelementStart(9, \"label\", 4);\n        i0.ɵɵtext(10, \"Reinstatement Status \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\");\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"hr\");\n        i0.ɵɵelementStart(14, \"div\", 2);\n        i0.ɵɵelementStart(15, \"div\", 3);\n        i0.ɵɵelementStart(16, \"label\", 4);\n        i0.ɵɵtext(17, \"Reinstatement Type \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"p\");\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, SiteDetailsComponent_div_20_Template, 5, 1, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"hr\");\n        i0.ɵɵelementStart(22, \"div\", 2);\n        i0.ɵɵelementStart(23, \"div\", 3);\n        i0.ɵɵelementStart(24, \"label\", 4);\n        i0.ɵɵtext(25, \"Inspection Units \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"p\");\n        i0.ɵɵtext(27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"hr\");\n        i0.ɵɵelementStart(29, \"div\", 6);\n        i0.ɵɵprojection(30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 7);\n        i0.ɵɵelementStart(32, \"div\", 8);\n        i0.ɵɵelementStart(33, \"div\", 2);\n        i0.ɵɵelementStart(34, \"div\", 3);\n        i0.ɵɵelementStart(35, \"label\", 4);\n        i0.ɵɵtext(36, \"Work Reference\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"p\");\n        i0.ɵɵtext(38);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 3);\n        i0.ɵɵelementStart(40, \"label\", 4);\n        i0.ɵɵtext(41, \"Site No\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"p\");\n        i0.ɵɵtext(43);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"hr\");\n        i0.ɵɵelementStart(45, \"div\", 2);\n        i0.ɵɵelementStart(46, \"div\", 3);\n        i0.ɵɵelementStart(47, \"label\", 4);\n        i0.ɵɵtext(48, \"Dimensions\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"p\");\n        i0.ɵɵtext(50);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(51, \"hr\");\n        i0.ɵɵelementStart(52, \"div\", 2);\n        i0.ɵɵelementStart(53, \"div\", 3);\n        i0.ɵɵelementStart(54, \"label\", 4);\n        i0.ɵɵtext(55, \"Reinstatement Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"p\");\n        i0.ɵɵtext(57);\n        i0.ɵɵpipe(58, \"transformDateTime\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"div\", 3);\n        i0.ɵɵelementStart(60, \"label\", 4);\n        i0.ɵɵtext(61, \"Reinstatement Evidence\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"p\");\n        i0.ɵɵtext(63);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(64, \"hr\");\n        i0.ɵɵelementStart(65, \"div\", 2);\n        i0.ɵɵelementStart(66, \"div\", 3);\n        i0.ɵɵelementStart(67, \"label\", 4);\n        i0.ɵɵtext(68, \"Is Final Reinstatement\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"p\");\n        i0.ɵɵtext(70);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"div\", 3);\n        i0.ɵɵelementStart(72, \"label\", 4);\n        i0.ɵɵtext(73, \"Work Location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"p\");\n        i0.ɵɵtext(75);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(76, \"hr\");\n        i0.ɵɵelementStart(77, \"div\", 2);\n        i0.ɵɵelementStart(78, \"div\", 3);\n        i0.ɵɵelementStart(79, \"label\", 4);\n        i0.ɵɵtext(80, \"Location Description \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(81, \"p\");\n        i0.ɵɵtext(82);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(83, \"hr\");\n        i0.ɵɵelementStart(84, \"div\", 2);\n        i0.ɵɵelementStart(85, \"div\", 3);\n        i0.ɵɵelementStart(86, \"label\", 4);\n        i0.ɵɵtext(87, \"Location Types\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(88, \"p\");\n        i0.ɵɵtext(89);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.permitRefNumber);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.reinstatementStatus);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.reinstatementType);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showNoOfHoles);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.inspectionUnits);\n        i0.ɵɵadvance(11);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.workReference);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.siteNo);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate3(\"L \", ctx.dataModel.data.length, \", W \", ctx.dataModel.data.width, \", D \", ctx.dataModel.data.depth, \" \");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(58, 16, ctx.dataModel.data.reinstatementDate));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.reinstatementEvidence);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.isFinalReinstatement);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.workLocation == null ? \"-\" : ctx.dataModel.data.workLocation);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.locationDescription == null ? \"-\" : ctx.dataModel.data.locationDescription);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.dataModel.data.locationTypes);\n      }\n    },\n    directives: [i4.DefaultLayoutDirective, i4.DefaultLayoutAlignDirective, i4.DefaultLayoutGapDirective, i4.DefaultFlexDirective, i5.NgIf],\n    pipes: [i6.TransformDateTimePipe],\n    styles: [\".map-wrapper[_ngcontent-%COMP%]{height:400px;width:auto;border:1px solid var(--theme-color-border-light);border-radius:4px}.pin-div[_ngcontent-%COMP%]{background:#FFFFFF 0% 0% no-repeat padding-box;border:1px solid #2B5C4169;border-radius:5px;padding:10px}.pin-div[_ngcontent-%COMP%]   .pin-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left;font:normal normal bold 1.2rem Noto Sans;letter-spacing:0px;color:#706f6f;text-transform:uppercase;margin:0;padding:0}.pin-div[_ngcontent-%COMP%]   .pin-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;text-align:left;font:normal normal normal 1rem Noto Sans;letter-spacing:0px;color:#58576b}.custom-label[_ngcontent-%COMP%]{margin-top:0;padding:0;text-align:left;font:normal normal bold 1.3rem Noto Sans;letter-spacing:0px;color:#58576b}.drop-zone[_ngcontent-%COMP%]{border:2px dashed #706F6F;border-radius:39px}.drop-zone[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:normal normal bold 2rem Noto Sans;letter-spacing:0px;color:var(--theme-color)}.drop-container[_ngcontent-%COMP%]{padding:35px}.selector-control[_ngcontent-%COMP%]{border:1px solid #2B5C4169;border-radius:4px;padding:5px 5px 5px 15px}.file-selector[_ngcontent-%COMP%]   .selector-control[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 1.3rem Noto Sans;letter-spacing:0px;color:#43425d;margin:0}.file-selector[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font:italic normal normal 1.3rem Noto Sans;letter-spacing:0px;color:#838296}.uploaded-images[_ngcontent-%COMP%]{margin-top:20px}.single-image-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:red}.single-image-container[_ngcontent-%COMP%]{height:200px;background-size:cover;border:1px solid #bbc6ef;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 6px #00000029;border:1px solid #BBC6EF69;border-radius:8px;background-position:center}.single-image-container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{padding:0 8px;line-height:25px;font-size:1.1rem;font:Noto Sans;background-color:#fff;border:none;border-radius:20px;margin:5px}.unselectedBtn[_ngcontent-%COMP%]{background-color:#fff;color:#3e6fb6;border:1px solid #3e6fb6}\"]\n  });\n  return SiteDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}