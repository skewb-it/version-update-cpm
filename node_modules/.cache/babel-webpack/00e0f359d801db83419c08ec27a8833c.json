{"ast":null,"code":"import { WidgetComponentBase } from 'src/app/utility/widget/widget-utility/widget-component-base';\nimport { PermitFilterConfigModel } from './permit-filter.model';\nimport { ARR_BOOLEAN_FLAGS, MASTER_DATA_DOMAIN } from 'src/app/constants/app-repo.constants';\nimport { FILTER_TYPE } from 'src/app/app-constants';\nimport { PersistantAdvanceFilterModel } from 'src/app/models/common/app-filter';\nimport { MASTER_DATA } from 'src/app/constants/db.constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/server-api-interface-service.service\";\nimport * as i2 from \"src/app/services/app-repo-helper.service\";\nimport * as i3 from \"src/app/services/validation.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/core\";\nimport * as i6 from \"src/app/services/notification.service\";\nimport * as i7 from \"src/app/services/app-repo.service\";\nimport * as i8 from \"@angular/flex-layout/flex\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/material/tooltip\";\nimport * as i11 from \"@angular/material/form-field\";\nimport * as i12 from \"@angular/material/input\";\nimport * as i13 from \"@angular/material/datepicker\";\nimport * as i14 from \"@angular/material/select\";\nimport * as i15 from \"@angular/common\";\nimport * as i16 from \"../../../directive/optional-select/optional-select.directive\";\nimport * as i17 from \"@angular/material/checkbox\";\nimport * as i18 from \"@angular/material/button\";\n\nfunction PermitFilterComponent_mat_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const workstreams_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", workstreams_r14.workstreamId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", workstreams_r14.description, \" \");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const workType_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", workType_r15.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", workType_r15.displayText, \"\");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const workStatus_r16 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", workStatus_r16.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", workStatus_r16.displayText, \" \");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const permitStatus_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", permitStatus_r17.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", permitStatus_r17.displayText, \"\");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const roadCategory_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", roadCategory_r18.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", roadCategory_r18.displayText, \"\");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const highWayAuthority_r19 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", highWayAuthority_r19.authorityId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", highWayAuthority_r19.name, \"\");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const booleanFlag_r20 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", booleanFlag_r20.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", booleanFlag_r20.label, \" \");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const closeFootway_r21 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", closeFootway_r21.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", closeFootway_r21.displayText, \"\");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const booleanFlag_r22 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", booleanFlag_r22.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", booleanFlag_r22.label, \" \");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const booleanFlag_r23 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", booleanFlag_r23.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", booleanFlag_r23.label, \" \");\n  }\n}\n\nfunction PermitFilterComponent_mat_option_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const trafficManagementType_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", trafficManagementType_r24.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", trafficManagementType_r24.displayText, \"\");\n  }\n}\n\nfunction PermitFilterComponent_div_86_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r26 = i0.ɵɵnextContext().$implicit;\n    const ctx_r27 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r27.wgFormGroup.errors[item_r26.key].errorMessage, \" \");\n  }\n}\n\nfunction PermitFilterComponent_div_86_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PermitFilterComponent_div_86_ng_container_1_div_1_Template, 2, 1, \"div\", 32);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r26 = ctx.$implicit;\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.wgFormGroup.errors[item_r26.key].errorMessage);\n  }\n}\n\nfunction PermitFilterComponent_div_86_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtemplate(1, PermitFilterComponent_div_86_ng_container_1_Template, 2, 1, \"ng-container\", 31);\n    i0.ɵɵpipe(2, \"keyvalue\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r13.wgFormGroup.errors));\n  }\n}\n\nexport let PermitFilterComponent = /*#__PURE__*/(() => {\n  class PermitFilterComponent extends WidgetComponentBase {\n    constructor(_serverApiBase, _appRepoHelperService, _validationService, fb, dateAdapter, _notificationService, _appRepoService) {\n      super(_serverApiBase, _validationService);\n      this._serverApiBase = _serverApiBase;\n      this._appRepoHelperService = _appRepoHelperService;\n      this._validationService = _validationService;\n      this.fb = fb;\n      this.dateAdapter = dateAdapter;\n      this._notificationService = _notificationService;\n      this._appRepoService = _appRepoService;\n      this.arrWorkType = [];\n      this.arrWorkStatus = [];\n      this.arrPermitStatus = [];\n      this.arrRoadCategory = [];\n      this.arrCloseFootway = [];\n      this.arrHighWayAuthorities = [];\n      this.arrWorkstreams = [];\n      this.arrTrafficManagementType = [];\n      this.arrBooleanFlags = ARR_BOOLEAN_FLAGS;\n      this.dateAdapter.setLocale('en-GB'); //dd/MM/yyyy\n    }\n\n    ngOnInit() {\n      this.createFilterFormGroup();\n      this.getUserDetails();\n    }\n\n    getUserDetails() {\n      let userInfo = this._appRepoHelperService.getMDataByKey(MASTER_DATA.USER_INFO);\n\n      this.userDisplayName = userInfo.display_name;\n      this.userName = userInfo.username;\n    }\n\n    createFilterFormGroup() {\n      this.wgFormGroup = this.fb.group({\n        'search': [''],\n        'fromDate': [''],\n        'toDate': [''],\n        'workType': [''],\n        'workStatus': [''],\n        'permitStatus': [''],\n        'roadType': [''],\n        'highwayAuthority': [''],\n        'promoterOrganisation': [''],\n        'workstream': [''],\n        'contractor': [''],\n        'trafficSensitive': [''],\n        'footwayClosure': [''],\n        'excavationRequired': [''],\n        'isLaneRentalApplicable': [''],\n        'trafficManagementRequired': [''],\n        'createdByUserName': ['']\n      }, {\n        validators: this._validationService.bindValidations([{\n          \"field1\": \"fromDate\",\n          \"field2\": \"toDate\",\n          \"name\": \"dateCompare\",\n          \"operator\": \"<=\",\n          \"message\": {\n            \"value\": \"From Date should be less than or equal to To Date\"\n          }\n        }, {\n          \"field1\": \"fromDate\",\n          \"field2\": \"toDate\",\n          \"name\": \"bothDateCheck\",\n          \"operator\": \"\",\n          \"message\": {\n            \"value\": \"Both From Date and To Date are required\"\n          }\n        }])\n      });\n      this.wgOnInit();\n    }\n\n    setFieldData() {\n      this.arrWorkType = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.WORK_CATEGORY.toString());\n      this.arrWorkStatus = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.WORK_STATUS.toString());\n      this.arrPermitStatus = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.PERMIT_STATUS.toString());\n      this.arrRoadCategory = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.ROAD_CATEGORY.toString());\n      this.arrCloseFootway = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.CLOSE_FOOTWAY.toString());\n      this.arrTrafficManagementType = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.TRAFFIC_MANAGEMENT_TYPE.toString());\n      this.arrHighWayAuthorities = this._appRepoHelperService.getMDataByDomain(MASTER_DATA_DOMAIN.HIGHWAY_AUTORITIES.toString());\n\n      let allArrWorkstreams = this._appRepoHelperService.getUserAccessibleWorkStream();\n\n      this.arrWorkstreams = allArrWorkstreams.filter((thing, i, arr) => {\n        return arr.indexOf(arr.find(t => t.workstreamId === thing.workstreamId)) === i;\n      });\n    }\n\n    getControlData() {\n      return new Promise((resolve, rejects) => {\n        resolve(null);\n      });\n    }\n\n    convertData(response) {}\n\n    setMode(responseDataModel) {}\n\n    setValue(responseDataModel) {\n      let filterGlobalParams = this._appRepoService.appRepo.appGlobalPersistantData.get(this.dataModel.appGlobalParamsKeyForAdvFilter);\n\n      if (filterGlobalParams.persistantfilterType == FILTER_TYPE.ADVANCE_FILTER) {\n        this.wgFormGroup.controls.workType.setValue(filterGlobalParams.persistantAdvanceFilterModel.workCategory);\n        this.wgFormGroup.controls.workStatus.setValue(filterGlobalParams.persistantAdvanceFilterModel.workStatus);\n        this.wgFormGroup.controls.permitStatus.setValue(filterGlobalParams.persistantAdvanceFilterModel.permitStatus);\n        this.wgFormGroup.controls.roadType.setValue(filterGlobalParams.persistantAdvanceFilterModel.roadCategory);\n        this.wgFormGroup.controls.trafficSensitive.setValue(filterGlobalParams.persistantAdvanceFilterModel.trafficSensitiveFlag);\n        this.wgFormGroup.controls.footwayClosure.setValue(filterGlobalParams.persistantAdvanceFilterModel.closeFootway);\n        this.wgFormGroup.controls.excavationRequired.setValue(filterGlobalParams.persistantAdvanceFilterModel.excavationFlag);\n        this.wgFormGroup.controls.isLaneRentalApplicable.setValue(filterGlobalParams.persistantAdvanceFilterModel.laneRentalFlag);\n        this.wgFormGroup.controls.trafficManagementRequired.setValue(filterGlobalParams.persistantAdvanceFilterModel.trafficManagementType);\n        this.wgFormGroup.controls.highwayAuthority.setValue(filterGlobalParams.persistantAdvanceFilterModel.highwayAuthority);\n        this.wgFormGroup.controls.promoterOrganisation.setValue(filterGlobalParams.persistantAdvanceFilterModel.organisation);\n        this.wgFormGroup.controls.workstream.setValue(filterGlobalParams.persistantAdvanceFilterModel.workstream);\n        this.wgFormGroup.controls.contractor.setValue(filterGlobalParams.persistantAdvanceFilterModel.contractor);\n        this.wgFormGroup.controls.search.setValue(filterGlobalParams.persistantAdvanceFilterModel.searchString);\n        this.wgFormGroup.controls.fromDate.setValue(filterGlobalParams.persistantAdvanceFilterModel.startDate);\n        this.wgFormGroup.controls.toDate.setValue(filterGlobalParams.persistantAdvanceFilterModel.endDate);\n        this.emitEvent(PermitFilterConfigModel.COMP_TO_CALLER_APPLY_FILTER);\n      }\n    }\n\n    getValue() {\n      let data = new Object();\n\n      if (this.wgFormGroup.controls.workType.value) {\n        data.workCategory = this.wgFormGroup.controls.workType.value;\n      }\n\n      if (this.wgFormGroup.controls.workStatus.value) {\n        data.workStatus = this.wgFormGroup.controls.workStatus.value;\n      }\n\n      if (this.wgFormGroup.controls.permitStatus.value) {\n        data.permitStatus = this.wgFormGroup.controls.permitStatus.value;\n      }\n\n      if (this.wgFormGroup.controls.roadType.value) {\n        data.roadCategory = this.wgFormGroup.controls.roadType.value;\n      }\n\n      if (this.wgFormGroup.controls.trafficSensitive.value != null) {\n        data.trafficSensitiveFlag = this.wgFormGroup.controls.trafficSensitive.value;\n      }\n\n      if (this.wgFormGroup.controls.footwayClosure.value) {\n        data.closeFootway = this.wgFormGroup.controls.footwayClosure.value;\n      }\n\n      if (this.wgFormGroup.controls.excavationRequired.value != null) {\n        data.excavationFlag = this.wgFormGroup.controls.excavationRequired.value;\n      }\n\n      if (this.wgFormGroup.controls.isLaneRentalApplicable.value != null) {\n        data.laneRentalFlag = this.wgFormGroup.controls.isLaneRentalApplicable.value;\n      }\n\n      if (this.wgFormGroup.controls.trafficManagementRequired.value) {\n        data.trafficManagementType = this.wgFormGroup.controls.trafficManagementRequired.value;\n      }\n\n      if (this.wgFormGroup.controls.highwayAuthority.value) {\n        data.highwayAuthority = this.wgFormGroup.controls.highwayAuthority.value;\n      }\n\n      if (this.wgFormGroup.controls.promoterOrganisation.value) {\n        data.organisation = this.wgFormGroup.controls.promoterOrganisation.value;\n      }\n\n      if (this.wgFormGroup.controls.workstream.value) {\n        data.workstream = this.wgFormGroup.controls.workstream.value;\n      }\n\n      if (this.wgFormGroup.controls.contractor.value) {\n        data.contractor_id = this.wgFormGroup.controls.contractor.value;\n      }\n\n      if (this.wgFormGroup.controls.createdByUserName.value) {\n        data.createdByUserName = this.userName;\n      }\n\n      const searchString = this.wgFormGroup.controls.search.value ? this.wgFormGroup.controls.search.value.trim() : undefined;\n\n      if (searchString) {\n        data.searchString = searchString;\n      }\n\n      if (this.wgFormGroup.controls.fromDate.value) {\n        data.startDate = this.formatDate(new Date(this.wgFormGroup.controls.fromDate.value));\n      }\n\n      if (this.wgFormGroup.controls.toDate.value) {\n        data.endDate = this.formatDate(new Date(this.wgFormGroup.controls.toDate.value));\n      }\n\n      return data;\n    } // getFormValueOrDefaultValue(formFieldNAme, defaultValue = null) {\n    //   const value = this.wgFormGroup.controls[formFieldNAme].value;\n    //   return value ? value : defaultValue;\n    // }\n\n\n    applyFilter() {\n      if (this.wgFormGroup.dirty && this.wgFormGroup.valid) {\n        this.setFilterDataToAppGlobalParams();\n        this.emitEvent(PermitFilterConfigModel.COMP_TO_CALLER_APPLY_FILTER);\n      } else {\n        try {\n          this._notificationService.error(this.wgFormGroup.errors.dateCompare.errorMessage);\n        } catch (exception) {}\n      }\n    }\n\n    setFilterDataToAppGlobalParams() {\n      let filterData = this.getValue();\n\n      let filterGlobalParams = this._appRepoService.appRepo.appGlobalPersistantData.get(this.dataModel.appGlobalParamsKeyForAdvFilter);\n\n      filterGlobalParams.persistantfilterType = FILTER_TYPE.ADVANCE_FILTER;\n      filterGlobalParams.persistantAdvanceFilterModel = filterData;\n\n      this._appRepoService.appRepo.appGlobalPersistantData.set(this.dataModel.appGlobalParamsKeyForAdvFilter, filterGlobalParams);\n    }\n\n    onResetFilterClick() {\n      this.reset();\n      this.setGlobalPersistantData().then(() => {\n        this.emitEvent(PermitFilterConfigModel.COMP_TO_CALLER_APPLY_FILTER);\n      });\n    }\n\n    setGlobalPersistantData() {\n      return new Promise((resolve, reject) => {\n        let appFilterModel = this._appRepoService.appRepo.appGlobalPersistantData.get(this.dataModel.appGlobalParamsKeyForAdvFilter);\n\n        appFilterModel.persistantfilterType = FILTER_TYPE.ADVANCE_FILTER;\n        PersistantAdvanceFilterModel.reset(appFilterModel.persistantAdvanceFilterModel);\n        resolve(null);\n      });\n    }\n\n    reset() {\n      this.wgReset();\n    }\n\n    formatDate(date) {\n      var d = new Date(date),\n          month = '' + (d.getMonth() + 1),\n          day = '' + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = '0' + month;\n      if (day.length < 2) day = '0' + day;\n      return [year, month, day].join('-');\n    }\n\n  }\n\n  PermitFilterComponent.ɵfac = function PermitFilterComponent_Factory(t) {\n    return new (t || PermitFilterComponent)(i0.ɵɵdirectiveInject(i1.ServerApiInterfaceServiceService), i0.ɵɵdirectiveInject(i2.AppRepoHelperService), i0.ɵɵdirectiveInject(i3.ValidationService), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.DateAdapter), i0.ɵɵdirectiveInject(i6.NotificationService), i0.ɵɵdirectiveInject(i7.AppRepoService));\n  };\n\n  PermitFilterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PermitFilterComponent,\n    selectors: [[\"app-permit-filter\"]],\n    inputs: {\n      dataModel: \"dataModel\",\n      configModel: \"configModel\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 92,\n    vars: 17,\n    consts: [[1, \"filter-card\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\", 1, \"filter-title-container\"], [\"matTooltip\", \"Clear\", \"color\", \"primary\", 1, \"ic-reset-filter\", 3, \"click\"], [\"id\", \"filter-form\", 3, \"formGroup\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"placeholder\", \"enter search term\", \"autocomplete\", \"off\", \"formControlName\", \"search\"], [\"matInput\", \"\", \"formControlName\", \"fromDate\", 3, \"matDatepicker\", \"click\", \"focus\"], [\"matSuffix\", \"\", 3, \"for\"], [\"filterFromDatepicker\", \"\"], [\"matInput\", \"\", \"formControlName\", \"toDate\", 3, \"matDatepicker\", \"click\", \"focus\"], [\"filterToDatepicker\", \"\"], [\"multiple\", \"\", \"formControlName\", \"workstream\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"multiple\", \"\", \"formControlName\", \"workType\"], [\"multiple\", \"\", \"formControlName\", \"workStatus\"], [\"multiple\", \"\", \"formControlName\", \"permitStatus\"], [\"multiple\", \"\", \"formControlName\", \"roadType\"], [\"multiple\", \"\", \"formControlName\", \"highwayAuthority\"], [\"optionalSelect\", \"\", \"formControlName\", \"trafficSensitive\"], [\"multiple\", \"\", \"formControlName\", \"footwayClosure\"], [\"optionalSelect\", \"\", \"formControlName\", \"excavationRequired\"], [\"optionalSelect\", \"\", \"formControlName\", \"isLaneRentalApplicable\"], [\"multiple\", \"\", \"formControlName\", \"trafficManagementRequired\"], [\"formControlName\", \"createdByUserName\"], [1, \"text-center\", \"mt-3\", \"pl-3\", \"pr-3\"], [1, \"is-invalid\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\", \"fxLayoutGap\", \"10px\", 1, \"page-actions\"], [\"type\", \"button\", \"fxflex\", \"100\", \"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\"], [3, \"value\"], [1, \"invalid-feedback\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"]],\n    template: function PermitFilterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r29 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h2\");\n        i0.ɵɵtext(3, \"Filter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"mat-icon\", 2);\n        i0.ɵɵlistener(\"click\", function PermitFilterComponent_Template_mat_icon_click_4_listener() {\n          return ctx.onResetFilterClick();\n        });\n        i0.ɵɵtext(5, \"refresh \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"form\", 3);\n        i0.ɵɵelementStart(7, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(8, \"mat-label\");\n        i0.ɵɵtext(9, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 5);\n        i0.ɵɵelementStart(11, \"mat-error\");\n        i0.ɵɵtext(12, \"Field must be valid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(14, \"mat-label\");\n        i0.ɵɵtext(15, \"From Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 6);\n        i0.ɵɵlistener(\"click\", function PermitFilterComponent_Template_input_click_16_listener() {\n          i0.ɵɵrestoreView(_r29);\n\n          const _r0 = i0.ɵɵreference(19);\n\n          return _r0.open();\n        })(\"focus\", function PermitFilterComponent_Template_input_focus_16_listener() {\n          i0.ɵɵrestoreView(_r29);\n\n          const _r0 = i0.ɵɵreference(19);\n\n          return _r0.open();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"mat-datepicker-toggle\", 7);\n        i0.ɵɵelement(18, \"mat-datepicker\", null, 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(21, \"mat-label\");\n        i0.ɵɵtext(22, \"To Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"input\", 9);\n        i0.ɵɵlistener(\"click\", function PermitFilterComponent_Template_input_click_23_listener() {\n          i0.ɵɵrestoreView(_r29);\n\n          const _r1 = i0.ɵɵreference(26);\n\n          return _r1.open();\n        })(\"focus\", function PermitFilterComponent_Template_input_focus_23_listener() {\n          i0.ɵɵrestoreView(_r29);\n\n          const _r1 = i0.ɵɵreference(26);\n\n          return _r1.open();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"mat-datepicker-toggle\", 7);\n        i0.ɵɵelement(25, \"mat-datepicker\", null, 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(28, \"mat-label\");\n        i0.ɵɵtext(29, \"Workstream\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"mat-select\", 11);\n        i0.ɵɵtemplate(31, PermitFilterComponent_mat_option_31_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(33, \"mat-label\");\n        i0.ɵɵtext(34, \"Works Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"mat-select\", 13);\n        i0.ɵɵtemplate(36, PermitFilterComponent_mat_option_36_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(38, \"mat-label\");\n        i0.ɵɵtext(39, \"Work Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"mat-select\", 14);\n        i0.ɵɵtemplate(41, PermitFilterComponent_mat_option_41_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(43, \"mat-label\");\n        i0.ɵɵtext(44, \"Permit Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"mat-select\", 15);\n        i0.ɵɵtemplate(46, PermitFilterComponent_mat_option_46_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(48, \"mat-label\");\n        i0.ɵɵtext(49, \"Road Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"mat-select\", 16);\n        i0.ɵɵtemplate(51, PermitFilterComponent_mat_option_51_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(53, \"mat-label\");\n        i0.ɵɵtext(54, \"Highway Authority\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"mat-select\", 17);\n        i0.ɵɵtemplate(56, PermitFilterComponent_mat_option_56_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(58, \"mat-label\");\n        i0.ɵɵtext(59, \"Traffic Sensitive\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"mat-select\", 18);\n        i0.ɵɵtemplate(61, PermitFilterComponent_mat_option_61_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(63, \"mat-label\");\n        i0.ɵɵtext(64, \"Footway Closure\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"mat-select\", 19);\n        i0.ɵɵtemplate(66, PermitFilterComponent_mat_option_66_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(68, \"mat-label\");\n        i0.ɵɵtext(69, \"Excavation Required\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"mat-select\", 20);\n        i0.ɵɵtemplate(71, PermitFilterComponent_mat_option_71_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(73, \"mat-label\");\n        i0.ɵɵtext(74, \"Is Lane Rental Applicable?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"mat-select\", 21);\n        i0.ɵɵtemplate(76, PermitFilterComponent_mat_option_76_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(77, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(78, \"mat-label\");\n        i0.ɵɵtext(79, \"Traffic Management Required\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"mat-select\", 22);\n        i0.ɵɵtemplate(81, PermitFilterComponent_mat_option_81_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(82, \"mat-checkbox\", 23);\n        i0.ɵɵtext(83, \"Permit Created by Me\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(84, \"div\", 24);\n        i0.ɵɵelement(85, \"div\", 25);\n        i0.ɵɵtemplate(86, PermitFilterComponent_div_86_Template, 3, 3, \"div\", 26);\n        i0.ɵɵelementStart(87, \"div\", 27);\n        i0.ɵɵelementStart(88, \"button\", 28);\n        i0.ɵɵlistener(\"click\", function PermitFilterComponent_Template_button_click_88_listener() {\n          return ctx.applyFilter();\n        });\n        i0.ɵɵtext(89, \"Apply\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"button\", 28);\n        i0.ɵɵlistener(\"click\", function PermitFilterComponent_Template_button_click_90_listener() {\n          return ctx.onResetFilterClick();\n        });\n        i0.ɵɵtext(91, \"Reset\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(19);\n\n        const _r1 = i0.ɵɵreference(26);\n\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formGroup\", ctx.wgFormGroup);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"matDatepicker\", _r0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r0);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"matDatepicker\", _r1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r1);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrWorkstreams);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrWorkType);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrWorkStatus);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrPermitStatus);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrRoadCategory);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrHighWayAuthorities);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrBooleanFlags);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrCloseFootway);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrBooleanFlags);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrBooleanFlags);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arrTrafficManagementType);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.wgFormGroup.errors);\n      }\n    },\n    directives: [i8.DefaultLayoutDirective, i8.DefaultLayoutAlignDirective, i9.MatIcon, i10.MatTooltip, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i11.MatFormField, i11.MatLabel, i12.MatInput, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName, i11.MatError, i13.MatDatepickerInput, i13.MatDatepickerToggle, i11.MatSuffix, i13.MatDatepicker, i14.MatSelect, i15.NgForOf, i16.OptionalSelectDirective, i17.MatCheckbox, i15.NgIf, i8.DefaultLayoutGapDirective, i18.MatButton, i5.MatOption],\n    pipes: [i15.KeyValuePipe],\n    styles: [\".filter-card[_ngcontent-%COMP%]{background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 3px 4px #c1cbff3b;border-radius:4px;padding:6px}.filter-title-container[_ngcontent-%COMP%]{margin:10px 0 20px}.filter-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font:normal normal normal 1.5rem Noto Sans;letter-spacing:0px;color:#706f6f;margin:0!important}#filter-form[_ngcontent-%COMP%]{height:400px;overflow-y:auto;padding:10px 10px 0 0!important}#filter-form[_ngcontent-%COMP%]::-webkit-scrollbar{background:lightyellow;width:12px}#filter-form[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000004d;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}#filter-form[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 6px #00000080;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}.ic-reset-filter[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return PermitFilterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}